Started GET "/" for 127.0.0.1 at 2023-06-29 21:34:31 +0100
  
ActiveRecord::ConnectionNotEstablished (FATAL:  role "pascal" does not exist
):
  
activerecord (6.1.3.2) lib/active_record/connection_adapters/postgresql_adapter.rb:83:in `rescue in new_client'
activerecord (6.1.3.2) lib/active_record/connection_adapters/postgresql_adapter.rb:77:in `new_client'
activerecord (6.1.3.2) lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `postgresql_connection'
activerecord (6.1.3.2) lib/active_record/connection_adapters/abstract/connection_pool.rb:882:in `public_send'
activerecord (6.1.3.2) lib/active_record/connection_adapters/abstract/connection_pool.rb:882:in `new_connection'
activerecord (6.1.3.2) lib/active_record/connection_adapters/abstract/connection_pool.rb:926:in `checkout_new_connection'
activerecord (6.1.3.2) lib/active_record/connection_adapters/abstract/connection_pool.rb:905:in `try_to_checkout_new_connection'
activerecord (6.1.3.2) lib/active_record/connection_adapters/abstract/connection_pool.rb:866:in `acquire_connection'
activerecord (6.1.3.2) lib/active_record/connection_adapters/abstract/connection_pool.rb:588:in `checkout'
activerecord (6.1.3.2) lib/active_record/connection_adapters/abstract/connection_pool.rb:428:in `connection'
activerecord (6.1.3.2) lib/active_record/connection_adapters/abstract/connection_pool.rb:1128:in `retrieve_connection'
activerecord (6.1.3.2) lib/active_record/connection_handling.rb:327:in `retrieve_connection'
activerecord (6.1.3.2) lib/active_record/connection_handling.rb:283:in `connection'
activerecord (6.1.3.2) lib/active_record/migration.rb:611:in `connection'
activerecord (6.1.3.2) lib/active_record/migration.rb:606:in `build_watcher'
activerecord (6.1.3.2) lib/active_record/migration.rb:588:in `block in call'
activerecord (6.1.3.2) lib/active_record/migration.rb:587:in `synchronize'
activerecord (6.1.3.2) lib/active_record/migration.rb:587:in `call'
actionpack (6.1.3.2) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.1.3.2) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (6.1.3.2) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.1.3.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.1.3.2) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.1.3.2) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
actionpack (6.1.3.2) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.1.3.2) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.1.3.2) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.1.3.2) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (6.1.3.2) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (6.1.3.2) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (6.1.3.2) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.1.3.2) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.1.3.2) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.1.3.2) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.1.3.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.1.3.2) lib/action_dispatch/middleware/static.rb:24:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.1.3.2) lib/action_dispatch/middleware/host_authorization.rb:98:in `call'
railties (6.1.3.2) lib/rails/engine.rb:539:in `call'
puma (5.3.2) lib/puma/configuration.rb:249:in `call'
puma (5.3.2) lib/puma/request.rb:77:in `block in handle_request'
puma (5.3.2) lib/puma/thread_pool.rb:338:in `with_force_shutdown'
puma (5.3.2) lib/puma/request.rb:76:in `handle_request'
puma (5.3.2) lib/puma/server.rb:438:in `process_client'
puma (5.3.2) lib/puma/thread_pool.rb:145:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2023-06-29 23:39:54 +0100
  
ActiveRecord::NoDatabaseError (FATAL:  database "react_rails_api_project_template_development" does not exist
):
  
activerecord (6.1.7.4) lib/active_record/connection_adapters/postgresql_adapter.rb:81:in `rescue in new_client'
activerecord (6.1.7.4) lib/active_record/connection_adapters/postgresql_adapter.rb:77:in `new_client'
activerecord (6.1.7.4) lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `postgresql_connection'
activerecord (6.1.7.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:882:in `public_send'
activerecord (6.1.7.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:882:in `new_connection'
activerecord (6.1.7.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:926:in `checkout_new_connection'
activerecord (6.1.7.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:905:in `try_to_checkout_new_connection'
activerecord (6.1.7.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:866:in `acquire_connection'
activerecord (6.1.7.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:588:in `checkout'
activerecord (6.1.7.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:428:in `connection'
activerecord (6.1.7.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:1128:in `retrieve_connection'
activerecord (6.1.7.4) lib/active_record/connection_handling.rb:327:in `retrieve_connection'
activerecord (6.1.7.4) lib/active_record/connection_handling.rb:283:in `connection'
activerecord (6.1.7.4) lib/active_record/migration.rb:611:in `connection'
activerecord (6.1.7.4) lib/active_record/migration.rb:606:in `build_watcher'
activerecord (6.1.7.4) lib/active_record/migration.rb:588:in `block in call'
activerecord (6.1.7.4) lib/active_record/migration.rb:587:in `synchronize'
activerecord (6.1.7.4) lib/active_record/migration.rb:587:in `call'
actionpack (6.1.7.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.1.7.4) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (6.1.7.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.1.7.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.1.7.4) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.1.7.4) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
actionpack (6.1.7.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.1.7.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.1.7.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.1.7.4) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (6.1.7.4) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (6.1.7.4) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (6.1.7.4) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.1.7.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.1.7.4) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.1.7.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.1.7.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.1.7.4) lib/action_dispatch/middleware/static.rb:24:in `call'
rack (2.2.7) lib/rack/sendfile.rb:110:in `call'
actionpack (6.1.7.4) lib/action_dispatch/middleware/host_authorization.rb:148:in `call'
railties (6.1.7.4) lib/rails/engine.rb:539:in `call'
puma (5.6.6) lib/puma/configuration.rb:252:in `call'
puma (5.6.6) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.6) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.6) lib/puma/request.rb:76:in `handle_request'
puma (5.6.6) lib/puma/server.rb:443:in `process_client'
puma (5.6.6) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/favicon.ico" for 127.0.0.1 at 2023-06-29 23:39:54 +0100
  
ActiveRecord::NoDatabaseError (FATAL:  database "react_rails_api_project_template_development" does not exist
):
  
activerecord (6.1.7.4) lib/active_record/connection_adapters/postgresql_adapter.rb:81:in `rescue in new_client'
activerecord (6.1.7.4) lib/active_record/connection_adapters/postgresql_adapter.rb:77:in `new_client'
activerecord (6.1.7.4) lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `postgresql_connection'
activerecord (6.1.7.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:882:in `public_send'
activerecord (6.1.7.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:882:in `new_connection'
activerecord (6.1.7.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:926:in `checkout_new_connection'
activerecord (6.1.7.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:905:in `try_to_checkout_new_connection'
activerecord (6.1.7.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:866:in `acquire_connection'
activerecord (6.1.7.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:588:in `checkout'
activerecord (6.1.7.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:428:in `connection'
activerecord (6.1.7.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:1128:in `retrieve_connection'
activerecord (6.1.7.4) lib/active_record/connection_handling.rb:327:in `retrieve_connection'
activerecord (6.1.7.4) lib/active_record/connection_handling.rb:283:in `connection'
activerecord (6.1.7.4) lib/active_record/migration.rb:611:in `connection'
activerecord (6.1.7.4) lib/active_record/migration.rb:606:in `build_watcher'
activerecord (6.1.7.4) lib/active_record/migration.rb:588:in `block in call'
activerecord (6.1.7.4) lib/active_record/migration.rb:587:in `synchronize'
activerecord (6.1.7.4) lib/active_record/migration.rb:587:in `call'
actionpack (6.1.7.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.1.7.4) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (6.1.7.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.1.7.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.1.7.4) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.1.7.4) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
actionpack (6.1.7.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.1.7.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.1.7.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.1.7.4) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (6.1.7.4) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (6.1.7.4) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (6.1.7.4) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.1.7.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.1.7.4) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.1.7.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.1.7.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.1.7.4) lib/action_dispatch/middleware/static.rb:24:in `call'
rack (2.2.7) lib/rack/sendfile.rb:110:in `call'
actionpack (6.1.7.4) lib/action_dispatch/middleware/host_authorization.rb:148:in `call'
railties (6.1.7.4) lib/rails/engine.rb:539:in `call'
puma (5.6.6) lib/puma/configuration.rb:252:in `call'
puma (5.6.6) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.6) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.6) lib/puma/request.rb:76:in `handle_request'
puma (5.6.6) lib/puma/server.rb:443:in `process_client'
puma (5.6.6) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/products" for 127.0.0.1 at 2023-06-29 23:40:50 +0100
  
ActiveRecord::NoDatabaseError (FATAL:  database "react_rails_api_project_template_development" does not exist
):
  
activerecord (6.1.7.4) lib/active_record/connection_adapters/postgresql_adapter.rb:81:in `rescue in new_client'
activerecord (6.1.7.4) lib/active_record/connection_adapters/postgresql_adapter.rb:77:in `new_client'
activerecord (6.1.7.4) lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `postgresql_connection'
activerecord (6.1.7.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:882:in `public_send'
activerecord (6.1.7.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:882:in `new_connection'
activerecord (6.1.7.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:926:in `checkout_new_connection'
activerecord (6.1.7.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:905:in `try_to_checkout_new_connection'
activerecord (6.1.7.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:866:in `acquire_connection'
activerecord (6.1.7.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:588:in `checkout'
activerecord (6.1.7.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:428:in `connection'
activerecord (6.1.7.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:1128:in `retrieve_connection'
activerecord (6.1.7.4) lib/active_record/connection_handling.rb:327:in `retrieve_connection'
activerecord (6.1.7.4) lib/active_record/connection_handling.rb:283:in `connection'
activerecord (6.1.7.4) lib/active_record/migration.rb:611:in `connection'
activerecord (6.1.7.4) lib/active_record/migration.rb:606:in `build_watcher'
activerecord (6.1.7.4) lib/active_record/migration.rb:588:in `block in call'
activerecord (6.1.7.4) lib/active_record/migration.rb:587:in `synchronize'
activerecord (6.1.7.4) lib/active_record/migration.rb:587:in `call'
actionpack (6.1.7.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.1.7.4) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (6.1.7.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.1.7.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.1.7.4) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.1.7.4) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
actionpack (6.1.7.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.1.7.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.1.7.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.1.7.4) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (6.1.7.4) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (6.1.7.4) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (6.1.7.4) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.1.7.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.1.7.4) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.1.7.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.1.7.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.1.7.4) lib/action_dispatch/middleware/static.rb:24:in `call'
rack (2.2.7) lib/rack/sendfile.rb:110:in `call'
actionpack (6.1.7.4) lib/action_dispatch/middleware/host_authorization.rb:148:in `call'
railties (6.1.7.4) lib/rails/engine.rb:539:in `call'
puma (5.6.6) lib/puma/configuration.rb:252:in `call'
puma (5.6.6) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.6) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.6) lib/puma/request.rb:76:in `handle_request'
puma (5.6.6) lib/puma/server.rb:443:in `process_client'
puma (5.6.6) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
  [1m[35m (0.4ms)[0m  [1m[35mCREATE DATABASE "react_rails_api_project_template_development" ENCODING = 'unicode'[0m
  [1m[35m (49.5ms)[0m  [1m[35mCREATE DATABASE "react_rails_api_project_template_development" ENCODING = 'unicode'[0m
  [1m[35m (40.3ms)[0m  [1m[35mCREATE DATABASE "react_rails_api_project_template_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.2ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "bakers" CASCADE[0m
  [1m[35m (4.5ms)[0m  [1m[35mCREATE TABLE "bakers" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "carts" CASCADE[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "carts" ("id" bigserial primary key, "customer_id" bigint NOT NULL, "total" float, "active" boolean, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_carts_on_customer_id" ON "carts" ("customer_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "customer_addresses" CASCADE[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE TABLE "customer_addresses" ("id" bigserial primary key, "customer_id" bigint NOT NULL, "phone" character varying, "address" character varying, "aditional_information" character varying, "region" character varying, "city" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_customer_addresses_on_customer_id" ON "customer_addresses" ("customer_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "customers" CASCADE[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE TABLE "customers" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "verified" boolean, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "discounts" CASCADE[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE TABLE "discounts" ("id" bigserial primary key, "name" character varying, "description" character varying, "discount_percent" float, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "line_items" CASCADE[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" bigserial primary key, "cart_id" bigint NOT NULL, "product_id" bigint NOT NULL, "quantity" integer, "variant_option_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "color" character varying, "cake_text" character varying, "price" float)[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE INDEX "index_line_items_on_variant_option_id" ON "line_items" ("variant_option_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "orders" CASCADE[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE TABLE "orders" ("id" bigserial primary key, "cart_id" bigint NOT NULL, "payment_method" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "status" character varying, "customer_id" bigint NOT NULL, "customer_address_id" bigint NOT NULL)[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_orders_on_cart_id" ON "orders" ("cart_id")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_orders_on_customer_address_id" ON "orders" ("customer_address_id")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_orders_on_customer_id" ON "orders" ("customer_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "payments" CASCADE[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE TABLE "payments" ("id" bigserial primary key, "order_id" bigint NOT NULL, "payment_stripe_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_payments_on_order_id" ON "payments" ("order_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "product_images" CASCADE[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE TABLE "product_images" ("id" bigserial primary key, "product_id" bigint NOT NULL, "image_url" character varying, "image_public_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_product_images_on_product_id" ON "product_images" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "products" CASCADE[0m
  [1m[35m (4.2ms)[0m  [1m[35mCREATE TABLE "products" ("id" bigserial primary key, "name" character varying, "price" float, "description" character varying, "discount_id" bigint, "variant_group_id" bigint, "active" boolean, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE INDEX "index_products_on_discount_id" ON "products" ("discount_id")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_products_on_variant_group_id" ON "products" ("variant_group_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "project_videos" CASCADE[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE TABLE "project_videos" ("id" bigserial primary key, "project_id" bigint NOT NULL, "video_title" character varying, "video_url" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_project_videos_on_project_id" ON "project_videos" ("project_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "projects" CASCADE[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE TABLE "projects" ("id" bigserial primary key, "artist_id" bigint NOT NULL, "title" character varying, "project_url" character varying, "cover_art" character varying, "cover_art_public_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_projects_on_artist_id" ON "projects" ("artist_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "reviews" CASCADE[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE TABLE "reviews" ("id" bigserial primary key, "product_id" bigint NOT NULL, "customer_id" bigint NOT NULL, "review" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_reviews_on_customer_id" ON "reviews" ("customer_id")[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE INDEX "index_reviews_on_product_id" ON "reviews" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "stripe_customers" CASCADE[0m
  [1m[35m (3.8ms)[0m  [1m[35mCREATE TABLE "stripe_customers" ("id" bigserial primary key, "customer_id" bigint NOT NULL, "stripe_customer_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE INDEX "index_stripe_customers_on_customer_id" ON "stripe_customers" ("customer_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "variant_groups" CASCADE[0m
  [1m[35m (3.5ms)[0m  [1m[35mCREATE TABLE "variant_groups" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "variant_options" CASCADE[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE TABLE "variant_options" ("id" bigserial primary key, "variant_group_id" bigint NOT NULL, "name" character varying, "price" float, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE INDEX "index_variant_options_on_variant_group_id" ON "variant_options" ("variant_group_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "artists_profiles" ADD CONSTRAINT "fk_rails_4bf08b9ecd"
FOREIGN KEY ("artist_id")
  REFERENCES "artists" ("id")
[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE DATABASE "react_rails_api_project_template_development" ENCODING = 'unicode'[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE DATABASE "react_rails_api_project_template_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.2ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (1.9ms)[0m  [1m[35mDROP TABLE IF EXISTS "bakers" CASCADE[0m
  [1m[35m (3.4ms)[0m  [1m[35mCREATE TABLE "bakers" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "carts" CASCADE[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "carts" ("id" bigserial primary key, "customer_id" bigint NOT NULL, "total" float, "active" boolean, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE INDEX "index_carts_on_customer_id" ON "carts" ("customer_id")[0m
  [1m[35m (1.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "customer_addresses" CASCADE[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE TABLE "customer_addresses" ("id" bigserial primary key, "customer_id" bigint NOT NULL, "phone" character varying, "address" character varying, "aditional_information" character varying, "region" character varying, "city" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_customer_addresses_on_customer_id" ON "customer_addresses" ("customer_id")[0m
  [1m[35m (1.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "customers" CASCADE[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE TABLE "customers" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "verified" boolean, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "discounts" CASCADE[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE TABLE "discounts" ("id" bigserial primary key, "name" character varying, "description" character varying, "discount_percent" float, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "line_items" CASCADE[0m
  [1m[35m (4.5ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" bigserial primary key, "cart_id" bigint NOT NULL, "product_id" bigint NOT NULL, "quantity" integer, "variant_option_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "color" character varying, "cake_text" character varying, "price" float)[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE INDEX "index_line_items_on_variant_option_id" ON "line_items" ("variant_option_id")[0m
  [1m[35m (1.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "orders" CASCADE[0m
  [1m[35m (4.3ms)[0m  [1m[35mCREATE TABLE "orders" ("id" bigserial primary key, "cart_id" bigint NOT NULL, "payment_method" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "status" character varying, "customer_id" bigint NOT NULL, "customer_address_id" bigint NOT NULL)[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE INDEX "index_orders_on_cart_id" ON "orders" ("cart_id")[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE INDEX "index_orders_on_customer_address_id" ON "orders" ("customer_address_id")[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE INDEX "index_orders_on_customer_id" ON "orders" ("customer_id")[0m
  [1m[35m (1.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "payments" CASCADE[0m
  [1m[35m (4.3ms)[0m  [1m[35mCREATE TABLE "payments" ("id" bigserial primary key, "order_id" bigint NOT NULL, "payment_stripe_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE INDEX "index_payments_on_order_id" ON "payments" ("order_id")[0m
  [1m[35m (1.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "product_images" CASCADE[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE TABLE "product_images" ("id" bigserial primary key, "product_id" bigint NOT NULL, "image_url" character varying, "image_public_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_product_images_on_product_id" ON "product_images" ("product_id")[0m
  [1m[35m (1.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "products" CASCADE[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE TABLE "products" ("id" bigserial primary key, "name" character varying, "price" float, "description" character varying, "discount_id" bigint, "variant_group_id" bigint, "active" boolean, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE INDEX "index_products_on_discount_id" ON "products" ("discount_id")[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE INDEX "index_products_on_variant_group_id" ON "products" ("variant_group_id")[0m
  [1m[35m (3.8ms)[0m  [1m[35mDROP TABLE IF EXISTS "project_videos" CASCADE[0m
  [1m[35m (6.2ms)[0m  [1m[35mCREATE TABLE "project_videos" ("id" bigserial primary key, "project_id" bigint NOT NULL, "video_title" character varying, "video_url" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE INDEX "index_project_videos_on_project_id" ON "project_videos" ("project_id")[0m
  [1m[35m (2.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "projects" CASCADE[0m
  [1m[35m (4.1ms)[0m  [1m[35mCREATE TABLE "projects" ("id" bigserial primary key, "artist_id" bigint NOT NULL, "title" character varying, "project_url" character varying, "cover_art" character varying, "cover_art_public_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE INDEX "index_projects_on_artist_id" ON "projects" ("artist_id")[0m
  [1m[35m (1.7ms)[0m  [1m[35mDROP TABLE IF EXISTS "reviews" CASCADE[0m
  [1m[35m (3.4ms)[0m  [1m[35mCREATE TABLE "reviews" ("id" bigserial primary key, "product_id" bigint NOT NULL, "customer_id" bigint NOT NULL, "review" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE INDEX "index_reviews_on_customer_id" ON "reviews" ("customer_id")[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE INDEX "index_reviews_on_product_id" ON "reviews" ("product_id")[0m
  [1m[35m (1.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "stripe_customers" CASCADE[0m
  [1m[35m (4.5ms)[0m  [1m[35mCREATE TABLE "stripe_customers" ("id" bigserial primary key, "customer_id" bigint NOT NULL, "stripe_customer_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE INDEX "index_stripe_customers_on_customer_id" ON "stripe_customers" ("customer_id")[0m
  [1m[35m (1.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "variant_groups" CASCADE[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "variant_groups" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "variant_options" CASCADE[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE TABLE "variant_options" ("id" bigserial primary key, "variant_group_id" bigint NOT NULL, "name" character varying, "price" float, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_variant_options_on_variant_group_id" ON "variant_options" ("variant_group_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "artists_profiles" ADD CONSTRAINT "fk_rails_4bf08b9ecd"
FOREIGN KEY ("artist_id")
  REFERENCES "artists" ("id")
[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1087325618115650655)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateBakers (20230123201400)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "bakers" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(1087325618115650655)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE DATABASE "react_rails_api_project_template_development" ENCODING = 'unicode'[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE DATABASE "react_rails_api_project_template_test" ENCODING = 'unicode'[0m
Started GET "/products" for 127.0.0.1 at 2023-06-29 23:55:13 +0100
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate RAILS_ENV=development

You have 20 pending migrations:

20230123201400_create_bakers.rb
20230123201653_create_discounts.rb
20230123202100_create_variant_groups.rb
20230123202101_create_products.rb
20230123202332_create_product_images.rb
20230124142704_create_customers.rb
20230124142942_create_reviews.rb
20230124143526_create_carts.rb
20230207174048_create_variant_options.rb
20230207174816_create_line_items.rb
20230523154736_add_color_to_line_items.rb
20230523154914_add_cake_text_to_line_items.rb
20230523155844_add_price_to_line_items.rb
20230606125852_create_customer_addresses.rb
20230610162616_create_orders.rb
20230610162759_create_stripe_customers.rb
20230610163214_create_payments.rb
20230625154910_add_status_to_orders.rb
20230625154953_add_customer_reference_to_orders.rb
20230625155045_add_customer_address_reference_to_orders.rb


):
  
activerecord (6.1.7.4) lib/active_record/migration.rb:625:in `check_pending!'
activerecord (6.1.7.4) lib/active_record/migration.rb:590:in `block (2 levels) in call'
activesupport (6.1.7.4) lib/active_support/evented_file_update_checker.rb:59:in `execute'
activerecord (6.1.7.4) lib/active_record/migration.rb:595:in `block in call'
activerecord (6.1.7.4) lib/active_record/migration.rb:587:in `synchronize'
activerecord (6.1.7.4) lib/active_record/migration.rb:587:in `call'
actionpack (6.1.7.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.1.7.4) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (6.1.7.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.1.7.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.1.7.4) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.1.7.4) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
actionpack (6.1.7.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.1.7.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.1.7.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.1.7.4) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (6.1.7.4) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (6.1.7.4) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (6.1.7.4) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.1.7.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.1.7.4) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.1.7.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.1.7.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.1.7.4) lib/action_dispatch/middleware/static.rb:24:in `call'
rack (2.2.7) lib/rack/sendfile.rb:110:in `call'
actionpack (6.1.7.4) lib/action_dispatch/middleware/host_authorization.rb:148:in `call'
railties (6.1.7.4) lib/rails/engine.rb:539:in `call'
puma (5.6.6) lib/puma/configuration.rb:252:in `call'
puma (5.6.6) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.6) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.6) lib/puma/request.rb:76:in `handle_request'
puma (5.6.6) lib/puma/server.rb:443:in `process_client'
puma (5.6.6) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1087325618115650655)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateBakers (20230123201400)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "bakers" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(1087325618115650655)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1087325618115650655)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateBakers (20230123201400)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "bakers" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT pg_advisory_unlock(1087325618115650655)[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE DATABASE "react_rails_api_project_template_development" ENCODING = 'unicode'[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE DATABASE "react_rails_api_project_template_test" ENCODING = 'unicode'[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35mSQL (0.2ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (18.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "bakers" CASCADE[0m
  [1m[35m (9.6ms)[0m  [1m[35mCREATE TABLE "bakers" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (3.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "carts" CASCADE[0m
  [1m[35m (5.6ms)[0m  [1m[35mCREATE TABLE "carts" ("id" bigserial primary key, "customer_id" bigint NOT NULL, "total" float, "active" boolean, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE INDEX "index_carts_on_customer_id" ON "carts" ("customer_id")[0m
  [1m[35m (4.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "customer_addresses" CASCADE[0m
  [1m[35m (9.0ms)[0m  [1m[35mCREATE TABLE "customer_addresses" ("id" bigserial primary key, "customer_id" bigint NOT NULL, "phone" character varying, "address" character varying, "aditional_information" character varying, "region" character varying, "city" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE INDEX "index_customer_addresses_on_customer_id" ON "customer_addresses" ("customer_id")[0m
  [1m[35m (3.9ms)[0m  [1m[35mDROP TABLE IF EXISTS "customers" CASCADE[0m
  [1m[35m (9.1ms)[0m  [1m[35mCREATE TABLE "customers" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "verified" boolean, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (3.9ms)[0m  [1m[35mDROP TABLE IF EXISTS "discounts" CASCADE[0m
  [1m[35m (9.1ms)[0m  [1m[35mCREATE TABLE "discounts" ("id" bigserial primary key, "name" character varying, "description" character varying, "discount_percent" float, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (5.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "line_items" CASCADE[0m
  [1m[35m (8.2ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" bigserial primary key, "cart_id" bigint NOT NULL, "product_id" bigint NOT NULL, "quantity" integer, "variant_option_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "color" character varying, "cake_text" character varying, "price" float)[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE INDEX "index_line_items_on_variant_option_id" ON "line_items" ("variant_option_id")[0m
  [1m[35m (5.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "orders" CASCADE[0m
  [1m[35m (8.0ms)[0m  [1m[35mCREATE TABLE "orders" ("id" bigserial primary key, "cart_id" bigint NOT NULL, "payment_method" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "status" character varying, "customer_id" bigint NOT NULL, "customer_address_id" bigint NOT NULL)[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE INDEX "index_orders_on_cart_id" ON "orders" ("cart_id")[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE INDEX "index_orders_on_customer_address_id" ON "orders" ("customer_address_id")[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE INDEX "index_orders_on_customer_id" ON "orders" ("customer_id")[0m
  [1m[35m (4.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "payments" CASCADE[0m
  [1m[35m (7.8ms)[0m  [1m[35mCREATE TABLE "payments" ("id" bigserial primary key, "order_id" bigint NOT NULL, "payment_stripe_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE INDEX "index_payments_on_order_id" ON "payments" ("order_id")[0m
  [1m[35m (4.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "product_images" CASCADE[0m
  [1m[35m (7.8ms)[0m  [1m[35mCREATE TABLE "product_images" ("id" bigserial primary key, "product_id" bigint NOT NULL, "image_url" character varying, "image_public_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE INDEX "index_product_images_on_product_id" ON "product_images" ("product_id")[0m
  [1m[35m (4.6ms)[0m  [1m[35mDROP TABLE IF EXISTS "products" CASCADE[0m
  [1m[35m (8.4ms)[0m  [1m[35mCREATE TABLE "products" ("id" bigserial primary key, "name" character varying, "price" float, "description" character varying, "discount_id" bigint, "variant_group_id" bigint, "active" boolean, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE INDEX "index_products_on_discount_id" ON "products" ("discount_id")[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE INDEX "index_products_on_variant_group_id" ON "products" ("variant_group_id")[0m
  [1m[35m (4.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "project_videos" CASCADE[0m
  [1m[35m (5.6ms)[0m  [1m[35mCREATE TABLE "project_videos" ("id" bigserial primary key, "project_id" bigint NOT NULL, "video_title" character varying, "video_url" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE INDEX "index_project_videos_on_project_id" ON "project_videos" ("project_id")[0m
  [1m[35m (1.9ms)[0m  [1m[35mDROP TABLE IF EXISTS "projects" CASCADE[0m
  [1m[35m (4.0ms)[0m  [1m[35mCREATE TABLE "projects" ("id" bigserial primary key, "artist_id" bigint NOT NULL, "title" character varying, "project_url" character varying, "cover_art" character varying, "cover_art_public_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE INDEX "index_projects_on_artist_id" ON "projects" ("artist_id")[0m
  [1m[35m (1.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "reviews" CASCADE[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE TABLE "reviews" ("id" bigserial primary key, "product_id" bigint NOT NULL, "customer_id" bigint NOT NULL, "review" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_reviews_on_customer_id" ON "reviews" ("customer_id")[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_reviews_on_product_id" ON "reviews" ("product_id")[0m
  [1m[35m (1.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "stripe_customers" CASCADE[0m
  [1m[35m (3.6ms)[0m  [1m[35mCREATE TABLE "stripe_customers" ("id" bigserial primary key, "customer_id" bigint NOT NULL, "stripe_customer_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_stripe_customers_on_customer_id" ON "stripe_customers" ("customer_id")[0m
  [1m[35m (1.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "variant_groups" CASCADE[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE TABLE "variant_groups" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "variant_options" CASCADE[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE TABLE "variant_options" ("id" bigserial primary key, "variant_group_id" bigint NOT NULL, "name" character varying, "price" float, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_variant_options_on_variant_group_id" ON "variant_options" ("variant_group_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "artists_profiles" ADD CONSTRAINT "fk_rails_4bf08b9ecd"
FOREIGN KEY ("artist_id")
  REFERENCES "artists" ("id")
[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (5018.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "react_rails_api_project_template_development"[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (17.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "react_rails_api_project_template_development"[0m
  [1m[35m (13.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "react_rails_api_project_template_test"[0m
  [1m[35m (41.8ms)[0m  [1m[35mCREATE DATABASE "react_rails_api_project_template_development" ENCODING = 'unicode'[0m
  [1m[35m (41.7ms)[0m  [1m[35mCREATE DATABASE "react_rails_api_project_template_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.2ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "bakers" CASCADE[0m
  [1m[35m (7.5ms)[0m  [1m[35mCREATE TABLE "bakers" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "carts" CASCADE[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "carts" ("id" bigserial primary key, "customer_id" bigint NOT NULL, "total" float, "active" boolean, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE INDEX "index_carts_on_customer_id" ON "carts" ("customer_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "customer_addresses" CASCADE[0m
  [1m[35m (3.7ms)[0m  [1m[35mCREATE TABLE "customer_addresses" ("id" bigserial primary key, "customer_id" bigint NOT NULL, "phone" character varying, "address" character varying, "aditional_information" character varying, "region" character varying, "city" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE INDEX "index_customer_addresses_on_customer_id" ON "customer_addresses" ("customer_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "customers" CASCADE[0m
  [1m[35m (4.7ms)[0m  [1m[35mCREATE TABLE "customers" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "verified" boolean, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "discounts" CASCADE[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE TABLE "discounts" ("id" bigserial primary key, "name" character varying, "description" character varying, "discount_percent" float, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "line_items" CASCADE[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" bigserial primary key, "cart_id" bigint NOT NULL, "product_id" bigint NOT NULL, "quantity" integer, "variant_option_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "color" character varying, "cake_text" character varying, "price" float)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE INDEX "index_line_items_on_variant_option_id" ON "line_items" ("variant_option_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "orders" CASCADE[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE TABLE "orders" ("id" bigserial primary key, "cart_id" bigint NOT NULL, "payment_method" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "status" character varying, "customer_id" bigint NOT NULL, "customer_address_id" bigint NOT NULL)[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_orders_on_cart_id" ON "orders" ("cart_id")[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE INDEX "index_orders_on_customer_address_id" ON "orders" ("customer_address_id")[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE INDEX "index_orders_on_customer_id" ON "orders" ("customer_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "payments" CASCADE[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE TABLE "payments" ("id" bigserial primary key, "order_id" bigint NOT NULL, "payment_stripe_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE INDEX "index_payments_on_order_id" ON "payments" ("order_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "product_images" CASCADE[0m
  [1m[35m (3.8ms)[0m  [1m[35mCREATE TABLE "product_images" ("id" bigserial primary key, "product_id" bigint NOT NULL, "image_url" character varying, "image_public_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE INDEX "index_product_images_on_product_id" ON "product_images" ("product_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "products" CASCADE[0m
  [1m[35m (3.5ms)[0m  [1m[35mCREATE TABLE "products" ("id" bigserial primary key, "name" character varying, "price" float, "description" character varying, "discount_id" bigint, "variant_group_id" bigint, "active" boolean, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_products_on_discount_id" ON "products" ("discount_id")[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_products_on_variant_group_id" ON "products" ("variant_group_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "project_videos" CASCADE[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE TABLE "project_videos" ("id" bigserial primary key, "project_id" bigint NOT NULL, "video_title" character varying, "video_url" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_project_videos_on_project_id" ON "project_videos" ("project_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "projects" CASCADE[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE TABLE "projects" ("id" bigserial primary key, "artist_id" bigint NOT NULL, "title" character varying, "project_url" character varying, "cover_art" character varying, "cover_art_public_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_projects_on_artist_id" ON "projects" ("artist_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "reviews" CASCADE[0m
  [1m[35m (3.8ms)[0m  [1m[35mCREATE TABLE "reviews" ("id" bigserial primary key, "product_id" bigint NOT NULL, "customer_id" bigint NOT NULL, "review" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE INDEX "index_reviews_on_customer_id" ON "reviews" ("customer_id")[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE INDEX "index_reviews_on_product_id" ON "reviews" ("product_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "stripe_customers" CASCADE[0m
  [1m[35m (3.7ms)[0m  [1m[35mCREATE TABLE "stripe_customers" ("id" bigserial primary key, "customer_id" bigint NOT NULL, "stripe_customer_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE INDEX "index_stripe_customers_on_customer_id" ON "stripe_customers" ("customer_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "variant_groups" CASCADE[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "variant_groups" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "variant_options" CASCADE[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE TABLE "variant_options" ("id" bigserial primary key, "variant_group_id" bigint NOT NULL, "name" character varying, "price" float, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_variant_options_on_variant_group_id" ON "variant_options" ("variant_group_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "artists_profiles" ADD CONSTRAINT "fk_rails_4bf08b9ecd"
FOREIGN KEY ("artist_id")
  REFERENCES "artists" ("id")
[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1087325618115650655)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateBakers (20230123201400)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "bakers" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(1087325618115650655)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (51.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "react_rails_api_project_template_development"[0m
  [1m[35m (14.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "react_rails_api_project_template_test"[0m
  [1m[35m (48.3ms)[0m  [1m[35mCREATE DATABASE "react_rails_api_project_template_development" ENCODING = 'unicode'[0m
  [1m[35m (43.8ms)[0m  [1m[35mCREATE DATABASE "react_rails_api_project_template_test" ENCODING = 'unicode'[0m
  [1m[35m (9.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (4.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1087325618115650655)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateBakers (20230123201400)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.0ms)[0m  [1m[35mCREATE TABLE "bakers" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230123201400"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateDiscounts (20230123201653)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE TABLE "discounts" ("id" bigserial primary key, "name" character varying, "description" character varying, "discount_percent" float, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230123201653"]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateVariantGroups (20230123202100)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.5ms)[0m  [1m[35mCREATE TABLE "variant_groups" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230123202100"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateProducts (20230123202101)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (6.2ms)[0m  [1m[35mCREATE TABLE "products" ("id" bigserial primary key, "name" character varying, "price" float, "description" character varying, "discount_id" bigint, "variant_group_id" bigint, "active" boolean, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_794aad2cea"
FOREIGN KEY ("discount_id")
  REFERENCES "discounts" ("id")
, CONSTRAINT "fk_rails_a0fe450737"
FOREIGN KEY ("variant_group_id")
  REFERENCES "variant_groups" ("id")
)[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_products_on_discount_id" ON "products" ("discount_id")[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE INDEX "index_products_on_variant_group_id" ON "products" ("variant_group_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230123202101"]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateProductImages (20230123202332)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.8ms)[0m  [1m[35mCREATE TABLE "product_images" ("id" bigserial primary key, "product_id" bigint NOT NULL, "image_url" character varying, "image_public_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_1c991d3be6"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE INDEX "index_product_images_on_product_id" ON "product_images" ("product_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230123202332"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCustomers (20230124142704)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE TABLE "customers" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "verified" boolean, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230124142704"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateReviews (20230124142942)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.8ms)[0m  [1m[35mCREATE TABLE "reviews" ("id" bigserial primary key, "product_id" bigint NOT NULL, "customer_id" bigint NOT NULL, "review" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_bedd9094d4"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
, CONSTRAINT "fk_rails_74e2428a18"
FOREIGN KEY ("customer_id")
  REFERENCES "customers" ("id")
)[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_reviews_on_product_id" ON "reviews" ("product_id")[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_reviews_on_customer_id" ON "reviews" ("customer_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230124142942"]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCarts (20230124143526)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE TABLE "carts" ("id" bigserial primary key, "customer_id" bigint NOT NULL, "total" float, "active" boolean, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_e02ab95379"
FOREIGN KEY ("customer_id")
  REFERENCES "customers" ("id")
)[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_carts_on_customer_id" ON "carts" ("customer_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230124143526"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateVariantOptions (20230207174048)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.4ms)[0m  [1m[35mCREATE TABLE "variant_options" ("id" bigserial primary key, "variant_group_id" bigint NOT NULL, "name" character varying, "price" float, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_543345bd81"
FOREIGN KEY ("variant_group_id")
  REFERENCES "variant_groups" ("id")
)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_variant_options_on_variant_group_id" ON "variant_options" ("variant_group_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230207174048"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateLineItems (20230207174816)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" bigserial primary key, "cart_id" bigint NOT NULL, "product_id" bigint NOT NULL, "quantity" integer, "variant_option_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_af645e8e5f"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
, CONSTRAINT "fk_rails_11e15d5c6b"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
, CONSTRAINT "fk_rails_f4554af19c"
FOREIGN KEY ("variant_option_id")
  REFERENCES "variant_options" ("id")
)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE INDEX "index_line_items_on_variant_option_id" ON "line_items" ("variant_option_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230207174816"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddColorToLineItems (20230523154736)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.4ms)[0m  [1m[35mALTER TABLE "line_items" ADD "color" character varying[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230523154736"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddCakeTextToLineItems (20230523154914)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "line_items" ADD "cake_text" character varying[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230523154914"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddPriceToLineItems (20230523155844)
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "line_items" ADD "price" float[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230523155844"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCustomerAddresses (20230606125852)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (6.2ms)[0m  [1m[35mCREATE TABLE "customer_addresses" ("id" bigserial primary key, "customer_id" bigint NOT NULL, "phone" character varying, "address" character varying, "aditional_information" character varying, "region" character varying, "city" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_79041ef784"
FOREIGN KEY ("customer_id")
  REFERENCES "customers" ("id")
)[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE INDEX "index_customer_addresses_on_customer_id" ON "customer_addresses" ("customer_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230606125852"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateOrders (20230610162616)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.3ms)[0m  [1m[35mCREATE TABLE "orders" ("id" bigserial primary key, "cart_id" bigint NOT NULL, "payment_method" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_5cdf0e0ad4"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
)[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE INDEX "index_orders_on_cart_id" ON "orders" ("cart_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230610162616"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateStripeCustomers (20230610162759)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (7.6ms)[0m  [1m[35mCREATE TABLE "stripe_customers" ("id" bigserial primary key, "customer_id" bigint NOT NULL, "stripe_customer_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_1d9a17c961"
FOREIGN KEY ("customer_id")
  REFERENCES "customers" ("id")
)[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_stripe_customers_on_customer_id" ON "stripe_customers" ("customer_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230610162759"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePayments (20230610163214)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE TABLE "payments" ("id" bigserial primary key, "order_id" bigint NOT NULL, "payment_stripe_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_6af949464b"
FOREIGN KEY ("order_id")
  REFERENCES "orders" ("id")
)[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE INDEX "index_payments_on_order_id" ON "payments" ("order_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230610163214"]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddStatusToOrders (20230625154910)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.7ms)[0m  [1m[35mALTER TABLE "orders" ADD "status" character varying[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230625154910"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddCustomerReferenceToOrders (20230625154953)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "orders" ADD "customer_id" bigint NOT NULL[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE INDEX "index_orders_on_customer_id" ON "orders" ("customer_id")[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "orders" ADD CONSTRAINT "fk_rails_3dad120da9"
FOREIGN KEY ("customer_id")
  REFERENCES "customers" ("id")
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230625154953"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddCustomerAddressReferenceToOrders (20230625155045)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "orders" ADD "customer_address_id" bigint NOT NULL[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE INDEX "index_orders_on_customer_address_id" ON "orders" ("customer_address_id")[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "orders" ADD CONSTRAINT "fk_rails_2d0f1279d3"
FOREIGN KEY ("customer_address_id")
  REFERENCES "customer_addresses" ("id")
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230625155045"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-06-29 23:06:44.368511"], ["updated_at", "2023-06-29 23:06:44.368511"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(1087325618115650655)[0m
  [1m[35m (2.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mBaker Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "bakers" WHERE "bakers"."email" = $1 LIMIT $2[0m  [["email", "jaynasimiyu@gmail.com"], ["LIMIT", 1]]
  [1m[36mBaker Create (0.6ms)[0m  [1m[32mINSERT INTO "bakers" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Ashley"], ["last_name", "Simiyu"], ["email", "jaynasimiyu@gmail.com"], ["password_digest", "$2a$12$lfk0xD2CNylsF1UAh1gx7OpPpRtfFGW4qF85wZCbPzvSIcK5HBE8."], ["created_at", "2023-06-29 23:06:44.738868"], ["updated_at", "2023-06-29 23:06:44.738868"]]
  [1m[36mTRANSACTION (4.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDiscount Create (1.0ms)[0m  [1m[32mINSERT INTO "discounts" ("name", "description", "discount_percent", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "No discount"], ["description", "The product has no discount"], ["discount_percent", 0.0], ["created_at", "2023-06-29 23:06:44.754907"], ["updated_at", "2023-06-29 23:06:44.754907"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mVariantGroup Create (0.6ms)[0m  [1m[32mINSERT INTO "variant_groups" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "No variant group"], ["created_at", "2023-06-29 23:06:44.772304"], ["updated_at", "2023-06-29 23:06:44.772304"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
Started GET "/products" for 127.0.0.1 at 2023-06-30 00:07:24 +0100
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as */*
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.49ms)
Completed 200 OK in 25ms (Views: 7.9ms | ActiveRecord: 0.5ms | Allocations: 7563)


Started GET "/" for 127.0.0.1 at 2023-06-30 00:07:33 +0100
Processing by Rails::WelcomeController#index as */*
  Rendering /usr/share/rvm/gems/ruby-2.7.4/gems/railties-6.1.7.4/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /usr/share/rvm/gems/ruby-2.7.4/gems/railties-6.1.7.4/lib/rails/templates/rails/welcome/index.html.erb (Duration: 7.5ms | Allocations: 297)
Completed 200 OK in 19ms (Views: 10.2ms | ActiveRecord: 0.0ms | Allocations: 2761)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-06-30 00:09:17 +0100
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-06-30 00:09:17 +0100
Started GET "/products" for 127.0.0.1 at 2023-06-30 00:09:17 +0100
Processing by ProductsController#index as HTML
Processing by BakersController#logged_in as */*
Processing by CustomersController#logged_in as */*
  [1m[36mProduct Load (3.7ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.18ms)
Completed 200 OK in 46ms (Views: 41.4ms | ActiveRecord: 3.7ms | Allocations: 8218)


  [1m[36mBaker Load (0.3ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.08ms)
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
Completed 201 Created in 74ms (Views: 3.2ms | ActiveRecord: 16.0ms | Allocations: 13489)


[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.07ms)
Completed 201 Created in 65ms (Views: 1.9ms | ActiveRecord: 14.8ms | Allocations: 12748)


Started GET "/baker-logged-in" for 127.0.0.1 at 2023-06-30 00:15:32 +0100
Processing by BakersController#logged_in as */*
Started GET "/customer-logged-in" for 127.0.0.1 at 2023-06-30 00:15:32 +0100
Processing by CustomersController#logged_in as */*
Started GET "/products" for 127.0.0.1 at 2023-06-30 00:15:32 +0100
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (1.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.14ms)
Completed 201 Created in 22ms (Views: 2.4ms | ActiveRecord: 7.7ms | Allocations: 6564)


[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.46ms)
Completed 200 OK in 29ms (Views: 29.0ms | ActiveRecord: 13.5ms | Allocations: 8168)


  [1m[36mBaker Load (0.4ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.07ms)
Completed 201 Created in 40ms (Views: 0.8ms | ActiveRecord: 11.1ms | Allocations: 11615)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-06-30 00:15:45 +0100
Processing by CustomersController#logged_in as */*
Started GET "/products" for 127.0.0.1 at 2023-06-30 00:15:45 +0100
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.16ms)
Completed 200 OK in 9ms (Views: 8.1ms | ActiveRecord: 0.2ms | Allocations: 930)


  [1m[36mCustomer Load (4.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.06ms)
Completed 201 Created in 22ms (Views: 0.7ms | ActiveRecord: 4.3ms | Allocations: 2501)


Started GET "/baker-logged-in" for 127.0.0.1 at 2023-06-30 00:15:45 +0100
Processing by BakersController#logged_in as */*
  [1m[36mBaker Load (0.3ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.06ms)
Completed 201 Created in 3ms (Views: 0.6ms | ActiveRecord: 0.3ms | Allocations: 771)


Started POST "/baker-login" for 127.0.0.1 at 2023-06-30 00:16:09 +0100
Processing by BakersController#login as HTML
  Parameters: {"password"=>"[FILTERED]"}
  [1m[36mBaker Load (0.3ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:6:in `login'
[active_model_serializers] Rendered BakerSerializer with ActiveModelSerializers::Adapter::Attributes (0.29ms)
Completed 201 Created in 229ms (Views: 9.5ms | ActiveRecord: 5.2ms | Allocations: 5672)


Started GET "/customers" for 127.0.0.1 at 2023-06-30 00:16:10 +0100
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
  ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.1ms)
Completed 200 OK in 5ms (Views: 3.8ms | ActiveRecord: 0.4ms | Allocations: 742)


Started GET "/variant_groups" for 127.0.0.1 at 2023-06-30 00:16:10 +0100
Processing by VariantGroupsController#index as HTML
Started GET "/discounts" for 127.0.0.1 at 2023-06-30 00:16:10 +0100
  [1m[36mVariantGroup Load (4.5ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups"[0m
  ↳ app/controllers/variant_groups_controller.rb:8:in `index'
Processing by DiscountsController#index as HTML
  [1m[36mDiscount Load (10.6ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts"[0m
  ↳ app/controllers/discounts_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mProduct Load (1.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."variant_group_id" = $1[0m  [["variant_group_id", 1]]
[active_model_serializers]   ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."discount_id" = $1[0m  [["discount_id", 1]]
[active_model_serializers]   ↳ app/controllers/discounts_controller.rb:9:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (22.25ms)
Completed 200 OK in 77ms (Views: 42.3ms | ActiveRecord: 31.8ms | Allocations: 15641)


[active_model_serializers]   [1m[36mVariantOption Load (0.5ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 1]]
[active_model_serializers]   ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (54.1ms)
Completed 200 OK in 100ms (Views: 66.4ms | ActiveRecord: 30.0ms | Allocations: 20317)


Started GET "/variant_groups" for 127.0.0.1 at 2023-06-30 00:16:22 +0100
Processing by VariantGroupsController#index as HTML
  [1m[36mVariantGroup Load (0.3ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups"[0m
  ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."variant_group_id" = $1[0m  [["variant_group_id", 1]]
[active_model_serializers]   ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.4ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 1]]
[active_model_serializers]   ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (7.76ms)
Completed 200 OK in 11ms (Views: 9.4ms | ActiveRecord: 1.0ms | Allocations: 2719)


Started GET "/discounts" for 127.0.0.1 at 2023-06-30 00:16:32 +0100
Processing by DiscountsController#index as HTML
  [1m[36mDiscount Load (0.6ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts"[0m
  ↳ app/controllers/discounts_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."discount_id" = $1[0m  [["discount_id", 1]]
[active_model_serializers]   ↳ app/controllers/discounts_controller.rb:9:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (3.94ms)
Completed 200 OK in 8ms (Views: 7.3ms | ActiveRecord: 0.9ms | Allocations: 1802)


Started DELETE "/baker-logout" for 127.0.0.1 at 2023-06-30 08:41:24 +0100
Processing by BakersController#logout as */*
Completed 204 No Content in 3ms (ActiveRecord: 0.0ms | Allocations: 188)


Started GET "/products" for 127.0.0.1 at 2023-06-30 09:19:47 +0100
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as */*
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.25ms)
Completed 200 OK in 28ms (Views: 6.6ms | ActiveRecord: 0.9ms | Allocations: 6661)


Started GET "/products" for 127.0.0.1 at 2023-06-30 09:19:58 +0100
Processing by ProductsController#index as */*
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.21ms)
Completed 200 OK in 5ms (Views: 3.3ms | ActiveRecord: 1.0ms | Allocations: 867)


  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (7.3ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "bakers" DISABLE TRIGGER ALL;ALTER TABLE "product_images" DISABLE TRIGGER ALL;ALTER TABLE "discounts" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "variant_groups" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "reviews" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "variant_options" DISABLE TRIGGER ALL;ALTER TABLE "line_items" DISABLE TRIGGER ALL;ALTER TABLE "customer_addresses" DISABLE TRIGGER ALL;ALTER TABLE "stripe_customers" DISABLE TRIGGER ALL;ALTER TABLE "payments" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (43.2ms)[0m  [1m[35mTRUNCATE TABLE "bakers", "product_images", "discounts", "products", "variant_groups", "customers", "reviews", "carts", "variant_options", "line_items", "customer_addresses", "stripe_customers", "payments", "orders"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "bakers" ENABLE TRIGGER ALL;ALTER TABLE "reviews" ENABLE TRIGGER ALL;ALTER TABLE "variant_options" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "line_items" ENABLE TRIGGER ALL;ALTER TABLE "product_images" ENABLE TRIGGER ALL;ALTER TABLE "discounts" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "variant_groups" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "customer_addresses" ENABLE TRIGGER ALL;ALTER TABLE "stripe_customers" ENABLE TRIGGER ALL;ALTER TABLE "payments" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mBaker Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "bakers" WHERE "bakers"."email" = $1 LIMIT $2[0m  [["email", "jaynasimiyu@gmail.com"], ["LIMIT", 1]]
  [1m[36mBaker Create (0.4ms)[0m  [1m[32mINSERT INTO "bakers" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Ashley"], ["last_name", "Simiyu"], ["email", "jaynasimiyu@gmail.com"], ["password_digest", "$2a$12$PJPD3sp/zIwZWSDMHHI0JeNiXQjWIJy0w.CVC0.iN6Bgks8GZmDXK"], ["created_at", "2023-06-30 14:54:49.863501"], ["updated_at", "2023-06-30 14:54:49.863501"]]
  [1m[36mTRANSACTION (6.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDiscount Create (0.5ms)[0m  [1m[32mINSERT INTO "discounts" ("name", "description", "discount_percent", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "No discount"], ["description", "The product has no discount"], ["discount_percent", 0.0], ["created_at", "2023-06-30 14:54:49.890468"], ["updated_at", "2023-06-30 14:54:49.890468"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mVariantGroup Create (0.5ms)[0m  [1m[32mINSERT INTO "variant_groups" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "No variant group"], ["created_at", "2023-06-30 14:54:49.902410"], ["updated_at", "2023-06-30 14:54:49.902410"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
Started GET "/bakers" for 127.0.0.1 at 2023-06-30 15:55:41 +0100
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by BakersController#index as */*
  [1m[36mBaker Load (1.2ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers"[0m
  ↳ app/controllers/bakers_controller.rb:42:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.74ms)
Completed 200 OK in 37ms (Views: 19.6ms | ActiveRecord: 9.1ms | Allocations: 8334)


Started POST "/customers" for 127.0.0.1 at 2023-06-30 15:56:34 +0100
Processing by CustomersController#create as HTML
  Parameters: {"first_name"=>"Pascal", "last_name"=>"Odudigbo", "email"=>"odudigbopascal@gmail.com", "verified"=>false, "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/customers_controller.rb:61:in `create'
  [1m[36mCustomer Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "customers" WHERE "customers"."email" = $1 LIMIT $2[0m  [["email", "odudigbopascal@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:61:in `create'
  [1m[36mCustomer Create (0.5ms)[0m  [1m[32mINSERT INTO "customers" ("first_name", "last_name", "email", "verified", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Pascal"], ["last_name", "Odudigbo"], ["email", "odudigbopascal@gmail.com"], ["verified", false], ["password_digest", "$2a$12$t1t68oRS..5KvzUFjxj59.lejn5Pukd5LfK4JskwStsdIUHEY5Mr6"], ["created_at", "2023-06-30 14:56:34.987205"], ["updated_at", "2023-06-30 14:56:34.987205"]]
  ↳ app/controllers/customers_controller.rb:61:in `create'
  [1m[36mTRANSACTION (6.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/customers_controller.rb:61:in `create'
[active_model_serializers]   [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:62:in `create'
[active_model_serializers]   [1m[36mCustomerAddress Load (0.5ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:62:in `create'
[active_model_serializers]   [1m[36mStripeCustomer Load (0.9ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 1], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:62:in `create'
[active_model_serializers]   [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:62:in `create'
[active_model_serializers] Rendered CustomerSerializer with ActiveModelSerializers::Adapter::Attributes (91.88ms)
Completed 201 Created in 343ms (Views: 82.9ms | ActiveRecord: 27.8ms | Allocations: 24174)


Started GET "/customers" for 127.0.0.1 at 2023-06-30 15:57:22 +0100
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by CustomersController#index as */*
  [1m[36mCustomer Load (0.9ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
  ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers]   [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers]   [1m[36mCustomerAddress Load (0.3ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers]   [1m[36mStripeCustomer Load (0.4ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 1], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers]   [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (58.75ms)
Completed 200 OK in 101ms (Views: 65.2ms | ActiveRecord: 18.6ms | Allocations: 25117)


  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "bakers" DISABLE TRIGGER ALL;ALTER TABLE "reviews" DISABLE TRIGGER ALL;ALTER TABLE "variant_options" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "line_items" DISABLE TRIGGER ALL;ALTER TABLE "product_images" DISABLE TRIGGER ALL;ALTER TABLE "discounts" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "variant_groups" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "customer_addresses" DISABLE TRIGGER ALL;ALTER TABLE "stripe_customers" DISABLE TRIGGER ALL;ALTER TABLE "payments" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (99.5ms)[0m  [1m[35mTRUNCATE TABLE "bakers", "reviews", "variant_options", "carts", "line_items", "product_images", "discounts", "products", "variant_groups", "customers", "customer_addresses", "stripe_customers", "payments", "orders"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "bakers" ENABLE TRIGGER ALL;ALTER TABLE "reviews" ENABLE TRIGGER ALL;ALTER TABLE "variant_options" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "line_items" ENABLE TRIGGER ALL;ALTER TABLE "product_images" ENABLE TRIGGER ALL;ALTER TABLE "discounts" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "variant_groups" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "customer_addresses" ENABLE TRIGGER ALL;ALTER TABLE "stripe_customers" ENABLE TRIGGER ALL;ALTER TABLE "payments" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mBaker Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "bakers" WHERE "bakers"."email" = $1 LIMIT $2[0m  [["email", "jaynasimiyu@gmail.com"], ["LIMIT", 1]]
  [1m[36mBaker Create (0.4ms)[0m  [1m[32mINSERT INTO "bakers" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Ashley"], ["last_name", "Simiyu"], ["email", "jaynasimiyu@gmail.com"], ["password_digest", "$2a$12$6sWj0A.TgWtxA110urdsheeegEiHgeKsgeQsuYd3DjDCM0AezeYKW"], ["created_at", "2023-06-30 14:57:53.257295"], ["updated_at", "2023-06-30 14:57:53.257295"]]
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDiscount Create (0.4ms)[0m  [1m[32mINSERT INTO "discounts" ("name", "description", "discount_percent", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "No discount"], ["description", "The product has no discount"], ["discount_percent", 0.0], ["created_at", "2023-06-30 14:57:53.268853"], ["updated_at", "2023-06-30 14:57:53.268853"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mVariantGroup Create (0.4ms)[0m  [1m[32mINSERT INTO "variant_groups" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "No variant group"], ["created_at", "2023-06-30 14:57:53.276994"], ["updated_at", "2023-06-30 14:57:53.276994"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
Started GET "/customers" for 127.0.0.1 at 2023-06-30 15:57:59 +0100
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by CustomersController#index as */*
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
  ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.3ms)
Completed 200 OK in 19ms (Views: 6.1ms | ActiveRecord: 0.6ms | Allocations: 7574)


  [1m[35m (0.8ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1087325618115650655)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(1087325618115650655)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mBaker Load (0.4ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" /* loading for inspect */ LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mBaker Load (1.1ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers"[0m
Started POST "/customers" for 127.0.0.1 at 2023-06-30 16:09:07 +0100
Processing by CustomersController#create as */*
  Parameters: {"first_name"=>"Pascal", "last_name"=>"Odudigbo", "email"=>"odudigbopascal@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "verified"=>true}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/customers_controller.rb:61:in `create'
  [1m[36mCustomer Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "customers" WHERE "customers"."email" = $1 LIMIT $2[0m  [["email", "odudigbopascal@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:61:in `create'
  [1m[36mCustomer Create (0.5ms)[0m  [1m[32mINSERT INTO "customers" ("first_name", "last_name", "email", "verified", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Pascal"], ["last_name", "Odudigbo"], ["email", "odudigbopascal@gmail.com"], ["verified", true], ["password_digest", "$2a$12$Lmi5W3MjcWCQ0.UEVKyQSu39ZsP4cAnCwq3gyU9XpRNMRHPVBeJeu"], ["created_at", "2023-06-30 15:09:08.079475"], ["updated_at", "2023-06-30 15:09:08.079475"]]
  ↳ app/controllers/customers_controller.rb:61:in `create'
  [1m[36mTRANSACTION (5.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/customers_controller.rb:61:in `create'
[active_model_serializers]   [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:62:in `create'
[active_model_serializers]   [1m[36mCustomerAddress Load (0.6ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:62:in `create'
[active_model_serializers]   [1m[36mStripeCustomer Load (0.7ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:62:in `create'
[active_model_serializers]   [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:62:in `create'
[active_model_serializers] Rendered CustomerSerializer with ActiveModelSerializers::Adapter::Attributes (30.02ms)
Completed 201 Created in 273ms (Views: 30.2ms | ActiveRecord: 13.4ms | Allocations: 21078)


  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mBaker Load (0.4ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers"[0m
  [1m[36mDiscount Load (0.4ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts"[0m
  [1m[36mVariantGroup Load (0.4ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups"[0m
Started GET "/customers" for 127.0.0.1 at 2023-06-30 16:10:54 +0100
Processing by CustomersController#index as */*
  Parameters: {"first_name"=>"Pascal", "last_name"=>"Odudigbo", "email"=>"odudigbopascal@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "verified"=>true}
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
  ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers]   [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers]   [1m[36mCustomerAddress Load (0.4ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers]   [1m[36mStripeCustomer Load (0.7ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers]   [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (16.35ms)
Completed 200 OK in 20ms (Views: 17.2ms | ActiveRecord: 2.0ms | Allocations: 4608)


Started GET "/customers" for 127.0.0.1 at 2023-06-30 16:10:56 +0100
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by CustomersController#index as */*
  Parameters: {"first_name"=>"Pascal", "last_name"=>"Odudigbo", "email"=>"odudigbopascal@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "verified"=>true}
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
  ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers]   [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers]   [1m[36mCustomerAddress Load (0.6ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers]   [1m[36mStripeCustomer Load (0.4ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers]   [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (46.18ms)
Completed 200 OK in 77ms (Views: 49.0ms | ActiveRecord: 14.4ms | Allocations: 25109)


Started GET "/discounts" for 127.0.0.1 at 2023-06-30 16:11:16 +0100
Processing by DiscountsController#index as */*
  Parameters: {"first_name"=>"Pascal", "last_name"=>"Odudigbo", "email"=>"odudigbopascal@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "verified"=>true}
  [1m[36mDiscount Load (0.6ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts"[0m
  ↳ app/controllers/discounts_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."discount_id" = $1[0m  [["discount_id", 3]]
[active_model_serializers]   ↳ app/controllers/discounts_controller.rb:9:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (16.21ms)
Completed 200 OK in 60ms (Views: 55.4ms | ActiveRecord: 18.3ms | Allocations: 11198)


Started POST "/customer-login" for 127.0.0.1 at 2023-06-30 16:12:24 +0100
Processing by CustomersController#login as HTML
  Parameters: {"password"=>"[FILTERED]"}
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:6:in `login'
[active_model_serializers]   [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:9:in `login'
[active_model_serializers]   [1m[36mCustomerAddress Load (0.3ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:9:in `login'
[active_model_serializers]   [1m[36mStripeCustomer Load (0.9ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:9:in `login'
[active_model_serializers]   [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:9:in `login'
[active_model_serializers] Rendered CustomerSerializer with ActiveModelSerializers::Adapter::Attributes (22.36ms)
Completed 201 Created in 248ms (Views: 21.6ms | ActiveRecord: 2.1ms | Allocations: 15832)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-06-30 16:12:24 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.7ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.25ms)
Completed 201 Created in 8ms (Views: 3.5ms | ActiveRecord: 1.0ms | Allocations: 1547)


Started GET "/baker-logged-in" for 127.0.0.1 at 2023-06-30 23:57:27 +0100
Started GET "/customer-logged-in" for 127.0.0.1 at 2023-06-30 23:57:27 +0100
Started GET "/products" for 127.0.0.1 at 2023-06-30 23:57:27 +0100
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by BakersController#logged_in as */*
Processing by CustomersController#logged_in as */*
  [1m[36mBaker Load (0.4ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
Processing by ProductsController#index as HTML
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.22ms)
Completed 201 Created in 23ms (Views: 3.6ms | ActiveRecord: 3.4ms | Allocations: 5169)


  [1m[36mCustomer Load (1.1ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers]   [1m[36mCart Load (1.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
  [1m[36mProduct Load (3.8ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.18ms)
Completed 200 OK in 52ms (Views: 13.1ms | ActiveRecord: 33.9ms | Allocations: 18728)


[active_model_serializers]   [1m[36mCustomerAddress Load (0.8ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mStripeCustomer Load (0.7ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mOrder Load (1.0ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers] Rendered CustomerSerializer with ActiveModelSerializers::Adapter::Attributes (44.97ms)
Completed 201 Created in 89ms (Views: 40.6ms | ActiveRecord: 21.7ms | Allocations: 31023)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-06-30 23:57:27 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.19ms)
Completed 201 Created in 29ms (Views: 4.3ms | ActiveRecord: 5.8ms | Allocations: 12854)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-06-30 23:58:10 +0100
Processing by CustomersController#logged_in as */*
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
Started GET "/products" for 127.0.0.1 at 2023-06-30 23:58:10 +0100
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.18ms)
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.5ms | Allocations: 870)


[active_model_serializers]   [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mCustomerAddress Load (2.6ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mStripeCustomer Load (0.4ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers] Rendered CustomerSerializer with ActiveModelSerializers::Adapter::Attributes (70.97ms)
Completed 201 Created in 114ms (Views: 91.7ms | ActiveRecord: 13.4ms | Allocations: 12020)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-06-30 23:58:10 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (2.7ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.13ms)
Completed 201 Created in 10ms (Views: 2.4ms | ActiveRecord: 3.2ms | Allocations: 1566)


Started GET "/baker-logged-in" for 127.0.0.1 at 2023-06-30 23:58:10 +0100
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by BakersController#logged_in as */*
  [1m[36mBaker Load (0.2ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.09ms)
Completed 201 Created in 14ms (Views: 2.3ms | ActiveRecord: 2.1ms | Allocations: 5169)


Started POST "/baker-login" for 127.0.0.1 at 2023-06-30 23:58:32 +0100
Processing by BakersController#login as HTML
  Parameters: {"password"=>"[FILTERED]"}
  [1m[36mBaker Load (6.8ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:6:in `login'
[active_model_serializers] Rendered BakerSerializer with ActiveModelSerializers::Adapter::Attributes (1.46ms)
Completed 201 Created in 235ms (Views: 9.2ms | ActiveRecord: 11.6ms | Allocations: 3677)


Started GET "/variant_groups" for 127.0.0.1 at 2023-06-30 23:58:33 +0100
Processing by VariantGroupsController#index as HTML
Started GET "/discounts" for 127.0.0.1 at 2023-06-30 23:58:33 +0100
  [1m[36mVariantGroup Load (0.9ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups"[0m
  ↳ app/controllers/variant_groups_controller.rb:8:in `index'
Processing by DiscountsController#index as HTML
  [1m[36mDiscount Load (0.9ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts"[0m
  ↳ app/controllers/discounts_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.8ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (41.55ms)
Completed 200 OK in 65ms (Views: 42.9ms | ActiveRecord: 13.4ms | Allocations: 10124)


[active_model_serializers]   [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."discount_id" = $1[0m  [["discount_id", 3]]
[active_model_serializers]   ↳ app/controllers/discounts_controller.rb:9:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (30.35ms)
Completed 200 OK in 76ms (Views: 57.6ms | ActiveRecord: 13.9ms | Allocations: 12008)


Started GET "/customers" for 127.0.0.1 at 2023-06-30 23:58:33 +0100
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
  ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers]   [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers]   [1m[36mCustomerAddress Load (0.3ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers]   [1m[36mStripeCustomer Load (0.3ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers]   [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (33.57ms)
Completed 200 OK in 54ms (Views: 35.9ms | ActiveRecord: 9.8ms | Allocations: 25119)


Started GET "/products" for 127.0.0.1 at 2023-06-30 23:58:48 +0100
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.18ms)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.4ms | Allocations: 875)


Started POST "/products" for 127.0.0.1 at 2023-06-30 23:59:38 +0100
Processing by ProductsController#create as HTML
  Parameters: {"name"=>"Test", "price"=>2000, "description"=>"test", "discount_id"=>3, "variant_group_id"=>3, "active"=>true}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:20:in `create'
  [1m[36mDiscount Load (0.4ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:20:in `create'
  [1m[36mVariantGroup Load (0.4ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:20:in `create'
  [1m[36mProduct Create (1.6ms)[0m  [1m[32mINSERT INTO "products" ("name", "price", "description", "discount_id", "variant_group_id", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Test"], ["price", 2000.0], ["description", "test"], ["discount_id", 3], ["variant_group_id", 3], ["active", true], ["created_at", "2023-06-30 22:59:38.068055"], ["updated_at", "2023-06-30 22:59:38.068055"]]
  ↳ app/controllers/products_controller.rb:20:in `create'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:20:in `create'
[active_model_serializers]   [1m[36mProductImage Load (0.6ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:21:in `create'
[active_model_serializers] Rendered ProductSerializer with ActiveModelSerializers::Adapter::Attributes (8.32ms)
Completed 201 Created in 62ms (Views: 8.8ms | ActiveRecord: 12.0ms | Allocations: 15525)


Started GET "/products" for 127.0.0.1 at 2023-06-30 23:59:38 +0100
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (0.8ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.3ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.3ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (17.88ms)
Completed 200 OK in 23ms (Views: 19.7ms | ActiveRecord: 2.6ms | Allocations: 4847)


Started GET "/products" for 127.0.0.1 at 2023-06-30 23:59:40 +0100
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (0.6ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.3ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.3ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (16.81ms)
Completed 200 OK in 21ms (Views: 18.4ms | ActiveRecord: 1.8ms | Allocations: 4838)


Started POST "/product_images" for 127.0.0.1 at 2023-06-30 23:59:49 +0100
Processing by ProductImagesController#create as HTML
  Parameters: {"product_id"=>1, "image_url"=>"http://res.cloudinary.com/db7dgsxy2/image/upload/v1688165986/Oink_Oink_Product_Images/qofglzygkvbuxnjud5ar.jpg", "image_public_id"=>"Oink_Oink_Product_Images/qofglzygkvbuxnjud5ar"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/product_images_controller.rb:20:in `create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/product_images_controller.rb:20:in `create'
  [1m[36mProductImage Create (0.8ms)[0m  [1m[32mINSERT INTO "product_images" ("product_id", "image_url", "image_public_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 1], ["image_url", "http://res.cloudinary.com/db7dgsxy2/image/upload/v1688165986/Oink_Oink_Product_Images/qofglzygkvbuxnjud5ar.jpg"], ["image_public_id", "Oink_Oink_Product_Images/qofglzygkvbuxnjud5ar"], ["created_at", "2023-06-30 22:59:49.533528"], ["updated_at", "2023-06-30 22:59:49.533528"]]
  ↳ app/controllers/product_images_controller.rb:20:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/product_images_controller.rb:20:in `create'
[active_model_serializers] Rendered ProductImageSerializer with ActiveModelSerializers::Adapter::Attributes (1.42ms)
Completed 201 Created in 29ms (Views: 3.2ms | ActiveRecord: 4.8ms | Allocations: 10814)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-06-30 23:59:57 +0100
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-06-30 23:59:57 +0100
Processing by CustomersController#logged_in as */*
Started GET "/products" for 127.0.0.1 at 2023-06-30 23:59:57 +0100
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCart Load (0.8ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mCustomerAddress Load (0.4ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
Processing by BakersController#logged_in as */*
[active_model_serializers]   [1m[36mStripeCustomer Load (0.3ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers] Rendered CustomerSerializer with ActiveModelSerializers::Adapter::Attributes (22.16ms)
Completed 201 Created in 35ms (Views: 22.1ms | ActiveRecord: 2.5ms | Allocations: 4573)


  [1m[36mBaker Load (0.5ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers]   [1m[36mDiscount Load (1.7ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered BakerSerializer with ActiveModelSerializers::Adapter::Attributes (0.54ms)
Completed 201 Created in 63ms (Views: 4.6ms | ActiveRecord: 23.3ms | Allocations: 14623)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-06-30 23:59:57 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
[active_model_serializers]   [1m[36mVariantGroup Load (0.7ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
  [1m[36mCustomer Load (5.9ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.2ms)
Completed 201 Created in 19ms (Views: 7.9ms | ActiveRecord: 6.2ms | Allocations: 1566)


[active_model_serializers]   [1m[36mProductImage Load (0.5ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.4ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (102.85ms)
Completed 200 OK in 139ms (Views: 86.2ms | ActiveRecord: 52.6ms | Allocations: 27319)


Started GET "/customers" for 127.0.0.1 at 2023-07-01 10:45:57 +0100
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (0.8ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 10:45:57 +0100
Processing by CustomersController#logged_in as */*
Started GET "/variant_groups" for 127.0.0.1 at 2023-07-01 10:45:57 +0100
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 10:45:57 +0100
Processing by BakersController#logged_in as */*
Started GET "/discounts" for 127.0.0.1 at 2023-07-01 10:45:57 +0100
Processing by DiscountsController#index as HTML
  ↳ app/controllers/customers_controller.rb:49:in `index'
Processing by VariantGroupsController#index as HTML
[active_model_serializers]   [1m[36mCart Load (1.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
  [1m[36mCustomer Load (1.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
  [1m[36mDiscount Load (0.6ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts"[0m
  ↳ app/controllers/discounts_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mCustomerAddress Load (20.9ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers]   [1m[36mCart Load (4.7ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mStripeCustomer Load (1.1ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers]   [1m[36mCustomerAddress Load (6.6ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
  [1m[36mVariantGroup Load (0.5ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups"[0m
  ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mOrder Load (2.7ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   [1m[36mStripeCustomer Load (0.3ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mProduct Load (5.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."discount_id" = $1[0m  [["discount_id", 3]]
[active_model_serializers]   ↳ app/controllers/discounts_controller.rb:9:in `index'
  [1m[36mBaker Load (3.7ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers] Rendered BakerSerializer with ActiveModelSerializers::Adapter::Attributes (0.52ms)
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (118.46ms)
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (66.87ms)
Completed 200 OK in 153ms (Views: 72.4ms | ActiveRecord: 67.9ms | Allocations: 39212)


Started GET "/products" for 127.0.0.1 at 2023-07-01 10:45:58 +0100
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
Completed 200 OK in 198ms (Views: 198.0ms | ActiveRecord: 38.0ms | Allocations: 48663)


[active_model_serializers]   [1m[36mOrder Load (17.7ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers] Rendered CustomerSerializer with ActiveModelSerializers::Adapter::Attributes (131.44ms)
Completed 201 Created in 194ms (Views: 102.7ms | ActiveRecord: 52.2ms | Allocations: 47151)


Completed 201 Created in 163ms (Views: 14.4ms | ActiveRecord: 69.1ms | Allocations: 41444)


[active_model_serializers]   [1m[36mProduct Load (8.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (0.4ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (4.8ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (85.34ms)
Completed 200 OK in 182ms (Views: 73.0ms | ActiveRecord: 104.8ms | Allocations: 42661)


[active_model_serializers]   [1m[36mVariantGroup Load (11.7ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.4ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (83.26ms)
Completed 200 OK in 88ms (Views: 65.4ms | ActiveRecord: 22.2ms | Allocations: 14661)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 10:45:58 +0100
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.23ms)
Completed 201 Created in 35ms (Views: 5.8ms | ActiveRecord: 4.4ms | Allocations: 15861)


Started GET "/products" for 127.0.0.1 at 2023-07-01 10:46:11 +0100
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (0.3ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.3ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (1.2ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (11.69ms)
Completed 200 OK in 16ms (Views: 13.7ms | ActiveRecord: 2.3ms | Allocations: 4981)


Started POST "/products" for 127.0.0.1 at 2023-07-01 10:46:44 +0100
Processing by ProductsController#create as HTML
  Parameters: {"name"=>"Test 2", "price"=>2000, "description"=>"test", "discount_id"=>3, "variant_group_id"=>3, "active"=>true}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:20:in `create'
  [1m[36mDiscount Load (0.2ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:20:in `create'
  [1m[36mVariantGroup Load (0.2ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:20:in `create'
  [1m[36mProduct Create (0.6ms)[0m  [1m[32mINSERT INTO "products" ("name", "price", "description", "discount_id", "variant_group_id", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Test 2"], ["price", 2000.0], ["description", "test"], ["discount_id", 3], ["variant_group_id", 3], ["active", true], ["created_at", "2023-07-01 09:46:44.491259"], ["updated_at", "2023-07-01 09:46:44.491259"]]
  ↳ app/controllers/products_controller.rb:20:in `create'
  [1m[36mTRANSACTION (6.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:20:in `create'
[active_model_serializers]   [1m[36mProductImage Load (0.5ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:21:in `create'
[active_model_serializers] Rendered ProductSerializer with ActiveModelSerializers::Adapter::Attributes (9.52ms)
Completed 201 Created in 71ms (Views: 12.0ms | ActiveRecord: 18.8ms | Allocations: 20832)


Started GET "/products" for 127.0.0.1 at 2023-07-01 10:46:44 +0100
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (0.2ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.2ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.2ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (47.51ms)
Completed 200 OK in 66ms (Views: 48.0ms | ActiveRecord: 10.9ms | Allocations: 34512)


Started GET "/products" for 127.0.0.1 at 2023-07-01 10:46:46 +0100
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (0.3ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (1.3ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.1ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.3ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (56.48ms)
Completed 200 OK in 61ms (Views: 51.3ms | ActiveRecord: 9.7ms | Allocations: 12899)


Started POST "/product_images" for 127.0.0.1 at 2023-07-01 10:46:51 +0100
Processing by ProductImagesController#create as HTML
  Parameters: {"product_id"=>2, "image_url"=>"http://res.cloudinary.com/db7dgsxy2/image/upload/v1688204807/Oink_Oink_Product_Images/plvxt0pdjekdpdni1kon.jpg", "image_public_id"=>"Oink_Oink_Product_Images/plvxt0pdjekdpdni1kon"}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/product_images_controller.rb:20:in `create'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/product_images_controller.rb:20:in `create'
  [1m[36mProductImage Create (1.2ms)[0m  [1m[32mINSERT INTO "product_images" ("product_id", "image_url", "image_public_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 2], ["image_url", "http://res.cloudinary.com/db7dgsxy2/image/upload/v1688204807/Oink_Oink_Product_Images/plvxt0pdjekdpdni1kon.jpg"], ["image_public_id", "Oink_Oink_Product_Images/plvxt0pdjekdpdni1kon"], ["created_at", "2023-07-01 09:46:51.954896"], ["updated_at", "2023-07-01 09:46:51.954896"]]
  ↳ app/controllers/product_images_controller.rb:20:in `create'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/product_images_controller.rb:20:in `create'
[active_model_serializers] Rendered ProductImageSerializer with ActiveModelSerializers::Adapter::Attributes (1.21ms)
Completed 201 Created in 25ms (Views: 2.6ms | ActiveRecord: 2.8ms | Allocations: 3457)


Started POST "/products" for 127.0.0.1 at 2023-07-01 10:47:11 +0100
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#create as HTML
  Parameters: {"name"=>"Test 3", "price"=>2000, "description"=>"test", "discount_id"=>3, "variant_group_id"=>3, "active"=>true}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:20:in `create'
  [1m[36mDiscount Load (0.4ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:20:in `create'
  [1m[36mVariantGroup Load (0.2ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:20:in `create'
  [1m[36mProduct Create (1.7ms)[0m  [1m[32mINSERT INTO "products" ("name", "price", "description", "discount_id", "variant_group_id", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Test 3"], ["price", 2000.0], ["description", "test"], ["discount_id", 3], ["variant_group_id", 3], ["active", true], ["created_at", "2023-07-01 09:47:11.949748"], ["updated_at", "2023-07-01 09:47:11.949748"]]
  ↳ app/controllers/products_controller.rb:20:in `create'
  [1m[36mTRANSACTION (6.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:20:in `create'
[active_model_serializers]   [1m[36mProductImage Load (0.7ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:21:in `create'
[active_model_serializers] Rendered ProductSerializer with ActiveModelSerializers::Adapter::Attributes (11.87ms)
Completed 201 Created in 92ms (Views: 20.9ms | ActiveRecord: 18.3ms | Allocations: 27483)


Started GET "/products" for 127.0.0.1 at 2023-07-01 10:47:12 +0100
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (0.7ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.4ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.2ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (37.47ms)
Completed 200 OK in 41ms (Views: 37.6ms | ActiveRecord: 2.7ms | Allocations: 12776)


Started POST "/product_images" for 127.0.0.1 at 2023-07-01 10:47:13 +0100
Processing by ProductImagesController#create as HTML
  Parameters: {"product_id"=>3, "image_url"=>"http://res.cloudinary.com/db7dgsxy2/image/upload/v1688204832/Oink_Oink_Product_Images/ocyzy9d4oz16dum0lbpe.jpg", "image_public_id"=>"Oink_Oink_Product_Images/ocyzy9d4oz16dum0lbpe"}
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/product_images_controller.rb:20:in `create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/product_images_controller.rb:20:in `create'
  [1m[36mProductImage Create (1.5ms)[0m  [1m[32mINSERT INTO "product_images" ("product_id", "image_url", "image_public_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 3], ["image_url", "http://res.cloudinary.com/db7dgsxy2/image/upload/v1688204832/Oink_Oink_Product_Images/ocyzy9d4oz16dum0lbpe.jpg"], ["image_public_id", "Oink_Oink_Product_Images/ocyzy9d4oz16dum0lbpe"], ["created_at", "2023-07-01 09:47:13.548220"], ["updated_at", "2023-07-01 09:47:13.548220"]]
  ↳ app/controllers/product_images_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/product_images_controller.rb:20:in `create'
[active_model_serializers] Rendered ProductImageSerializer with ActiveModelSerializers::Adapter::Attributes (9.27ms)
Completed 201 Created in 29ms (Views: 10.1ms | ActiveRecord: 4.3ms | Allocations: 3405)


Started GET "/products" for 127.0.0.1 at 2023-07-01 10:47:14 +0100
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (0.3ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.3ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (2.0ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.4ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (52.48ms)
Completed 200 OK in 59ms (Views: 49.5ms | ActiveRecord: 8.2ms | Allocations: 17133)


Started POST "/products" for 127.0.0.1 at 2023-07-01 10:47:41 +0100
Processing by ProductsController#create as HTML
  Parameters: {"name"=>"Test 4", "price"=>2000, "description"=>"test", "discount_id"=>3, "variant_group_id"=>3, "active"=>true}
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:20:in `create'
  [1m[36mDiscount Load (2.4ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:20:in `create'
  [1m[36mVariantGroup Load (2.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:20:in `create'
  [1m[36mProduct Create (1.1ms)[0m  [1m[32mINSERT INTO "products" ("name", "price", "description", "discount_id", "variant_group_id", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Test 4"], ["price", 2000.0], ["description", "test"], ["discount_id", 3], ["variant_group_id", 3], ["active", true], ["created_at", "2023-07-01 09:47:41.560109"], ["updated_at", "2023-07-01 09:47:41.560109"]]
  ↳ app/controllers/products_controller.rb:20:in `create'
  [1m[36mTRANSACTION (6.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:20:in `create'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:21:in `create'
[active_model_serializers] Rendered ProductSerializer with ActiveModelSerializers::Adapter::Attributes (5.84ms)
Completed 201 Created in 47ms (Views: 6.6ms | ActiveRecord: 12.5ms | Allocations: 4935)


Started GET "/products" for 127.0.0.1 at 2023-07-01 10:47:41 +0100
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (0.6ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.3ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.5ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.6ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.8ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (55.39ms)
Completed 200 OK in 59ms (Views: 54.3ms | ActiveRecord: 4.1ms | Allocations: 16733)


Started POST "/product_images" for 127.0.0.1 at 2023-07-01 10:47:42 +0100
Processing by ProductImagesController#create as HTML
  Parameters: {"product_id"=>4, "image_url"=>"http://res.cloudinary.com/db7dgsxy2/image/upload/v1688204862/Oink_Oink_Product_Images/rmazmhworqkwhlwaqbgz.jpg", "image_public_id"=>"Oink_Oink_Product_Images/rmazmhworqkwhlwaqbgz"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/product_images_controller.rb:20:in `create'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/product_images_controller.rb:20:in `create'
  [1m[36mProductImage Create (0.5ms)[0m  [1m[32mINSERT INTO "product_images" ("product_id", "image_url", "image_public_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 4], ["image_url", "http://res.cloudinary.com/db7dgsxy2/image/upload/v1688204862/Oink_Oink_Product_Images/rmazmhworqkwhlwaqbgz.jpg"], ["image_public_id", "Oink_Oink_Product_Images/rmazmhworqkwhlwaqbgz"], ["created_at", "2023-07-01 09:47:42.846154"], ["updated_at", "2023-07-01 09:47:42.846154"]]
  ↳ app/controllers/product_images_controller.rb:20:in `create'
  [1m[36mTRANSACTION (6.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/product_images_controller.rb:20:in `create'
[active_model_serializers] Rendered ProductImageSerializer with ActiveModelSerializers::Adapter::Attributes (1.97ms)
Completed 201 Created in 25ms (Views: 4.0ms | ActiveRecord: 7.4ms | Allocations: 3269)


Started GET "/products" for 127.0.0.1 at 2023-07-01 10:47:43 +0100
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (1.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (2.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (6.1ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.6ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.3ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (74.02ms)
Completed 200 OK in 81ms (Views: 67.9ms | ActiveRecord: 12.5ms | Allocations: 16850)


Started POST "/products" for 127.0.0.1 at 2023-07-01 10:48:11 +0100
Processing by ProductsController#create as HTML
  Parameters: {"name"=>"Test 5", "price"=>2000, "description"=>"test", "discount_id"=>3, "variant_group_id"=>3, "active"=>true}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:20:in `create'
  [1m[36mDiscount Load (0.7ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:20:in `create'
  [1m[36mVariantGroup Load (0.4ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:20:in `create'
  [1m[36mProduct Create (1.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "price", "description", "discount_id", "variant_group_id", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Test 5"], ["price", 2000.0], ["description", "test"], ["discount_id", 3], ["variant_group_id", 3], ["active", true], ["created_at", "2023-07-01 09:48:11.718648"], ["updated_at", "2023-07-01 09:48:11.718648"]]
  ↳ app/controllers/products_controller.rb:20:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:20:in `create'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:21:in `create'
[active_model_serializers] Rendered ProductSerializer with ActiveModelSerializers::Adapter::Attributes (3.3ms)
Completed 201 Created in 28ms (Views: 3.7ms | ActiveRecord: 4.0ms | Allocations: 4758)


Started GET "/products" for 127.0.0.1 at 2023-07-01 10:48:11 +0100
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (0.4ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.3ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.3ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (57.62ms)
Completed 200 OK in 62ms (Views: 59.0ms | ActiveRecord: 3.0ms | Allocations: 20663)


Started GET "/products" for 127.0.0.1 at 2023-07-01 10:48:13 +0100
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (0.3ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.3ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.7ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.3ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (87.09ms)
Completed 200 OK in 91ms (Views: 87.0ms | ActiveRecord: 3.3ms | Allocations: 20664)


Started POST "/product_images" for 127.0.0.1 at 2023-07-01 10:48:14 +0100
Processing by ProductImagesController#create as HTML
  Parameters: {"product_id"=>5, "image_url"=>"http://res.cloudinary.com/db7dgsxy2/image/upload/v1688204892/Oink_Oink_Product_Images/q1pshueoantznqko6dpb.jpg", "image_public_id"=>"Oink_Oink_Product_Images/q1pshueoantznqko6dpb"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/product_images_controller.rb:20:in `create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/product_images_controller.rb:20:in `create'
  [1m[36mProductImage Create (0.5ms)[0m  [1m[32mINSERT INTO "product_images" ("product_id", "image_url", "image_public_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 5], ["image_url", "http://res.cloudinary.com/db7dgsxy2/image/upload/v1688204892/Oink_Oink_Product_Images/q1pshueoantznqko6dpb.jpg"], ["image_public_id", "Oink_Oink_Product_Images/q1pshueoantznqko6dpb"], ["created_at", "2023-07-01 09:48:14.993457"], ["updated_at", "2023-07-01 09:48:14.993457"]]
  ↳ app/controllers/product_images_controller.rb:20:in `create'
  [1m[36mTRANSACTION (15.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/product_images_controller.rb:20:in `create'
[active_model_serializers] Rendered ProductImageSerializer with ActiveModelSerializers::Adapter::Attributes (0.73ms)
Completed 201 Created in 26ms (Views: 1.7ms | ActiveRecord: 16.8ms | Allocations: 2944)


Started GET "/babel/parser/lib/index.js" for 127.0.0.1 at 2023-07-01 10:50:33 +0100
  
ActionController::RoutingError (No route matches [GET] "/babel/parser/lib/index.js"):
  
Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 10:53:06 +0100
Started GET "/products" for 127.0.0.1 at 2023-07-01 10:53:06 +0100
Processing by ProductsController#index as HTML
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 10:53:06 +0100
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
Processing by CustomersController#logged_in as */*
[active_model_serializers]   [1m[36mDiscount Load (4.4ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
Processing by BakersController#logged_in as */*
[active_model_serializers]   [1m[36mVariantGroup Load (2.8ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.9ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mProductImage Load (6.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCustomerAddress Load (0.4ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
  [1m[36mBaker Load (1.5ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers]   [1m[36mProductImage Load (1.7ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mStripeCustomer Load (0.4ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers] Rendered BakerSerializer with ActiveModelSerializers::Adapter::Attributes (0.49ms)
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Completed 201 Created in 97ms (Views: 3.3ms | ActiveRecord: 26.2ms | Allocations: 17232)


[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mOrder Load (1.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers] Rendered CustomerSerializer with ActiveModelSerializers::Adapter::Attributes (56.95ms)
Completed 201 Created in 115ms (Views: 48.0ms | ActiveRecord: 20.3ms | Allocations: 18058)


[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.5ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.3ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (148.7ms)
Completed 200 OK in 159ms (Views: 141.1ms | ActiveRecord: 17.8ms | Allocations: 31032)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 10:53:06 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.2ms)
Completed 201 Created in 56ms (Views: 4.6ms | ActiveRecord: 6.8ms | Allocations: 9717)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 10:53:10 +0100
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 10:53:10 +0100
Started GET "/products" for 127.0.0.1 at 2023-07-01 10:53:10 +0100
Processing by ProductsController#index as HTML
Processing by CustomersController#logged_in as */*
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Processing by BakersController#logged_in as */*
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (0.7ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
  [1m[36mCustomer Load (2.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers]   [1m[36mCart Load (4.0ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   [1m[36mVariantGroup Load (3.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCustomerAddress Load (1.3ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
  [1m[36mBaker Load (3.5ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mStripeCustomer Load (9.7ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mProductImage Load (1.7ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers] Rendered CustomerSerializer with ActiveModelSerializers::Adapter::Attributes (77.84ms)
Completed 201 Created in 87ms (Views: 62.9ms | ActiveRecord: 17.8ms | Allocations: 11781)


[active_model_serializers] Rendered BakerSerializer with ActiveModelSerializers::Adapter::Attributes (0.54ms)
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
Completed 201 Created in 87ms (Views: 15.3ms | ActiveRecord: 23.8ms | Allocations: 11976)


[active_model_serializers]   [1m[36mCACHE Discount Load (0.1ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.4ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (131.71ms)
Completed 200 OK in 136ms (Views: 127.8ms | ActiveRecord: 7.8ms | Allocations: 20807)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 10:53:11 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (1.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.51ms)
Completed 201 Created in 12ms (Views: 5.2ms | ActiveRecord: 1.4ms | Allocations: 1442)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 10:53:40 +0100
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 10:53:40 +0100
Processing by CustomersController#logged_in as */*
Processing by BakersController#logged_in as */*
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBaker Load (0.3ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered BakerSerializer with ActiveModelSerializers::Adapter::Attributes (0.34ms)
Started GET "/products" for 127.0.0.1 at 2023-07-01 10:53:40 +0100
Completed 201 Created in 4ms (Views: 1.5ms | ActiveRecord: 0.3ms | Allocations: 1027)


[active_model_serializers]   [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
Processing by ProductsController#index as HTML
[active_model_serializers]   [1m[36mCustomerAddress Load (0.5ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mStripeCustomer Load (0.2ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   [1m[36mDiscount Load (3.1ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers] Rendered CustomerSerializer with ActiveModelSerializers::Adapter::Attributes (12.53ms)
Completed 201 Created in 16ms (Views: 11.6ms | ActiveRecord: 1.8ms | Allocations: 4488)


[active_model_serializers]   [1m[36mVariantGroup Load (3.4ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.1ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.1ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.6ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.3ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 10:53:40 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
  [1m[36mCustomer Load (1.1ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
  [1m[36mCart Load (2.0ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (1.72ms)
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (94.53ms)
Completed 200 OK in 98ms (Views: 87.7ms | ActiveRecord: 10.5ms | Allocations: 20816)


Completed 201 Created in 18ms (Views: 8.3ms | ActiveRecord: 3.2ms | Allocations: 1442)


Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 10:54:25 +0100
Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 10:54:25 +0100
Processing by BakersController#logged_in as */*
Processing by CustomersController#logged_in as */*
Started GET "/products" for 127.0.0.1 at 2023-07-01 10:54:25 +0100
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
  ↳ app/controllers/products_controller.rb:8:in `index'
  [1m[36mBaker Load (0.3ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered BakerSerializer with ActiveModelSerializers::Adapter::Attributes (0.27ms)
[active_model_serializers]   [1m[36mDiscount Load (0.3ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Completed 201 Created in 13ms (Views: 0.9ms | ActiveRecord: 0.3ms | Allocations: 2536)


[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.3ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCart Load (2.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCustomerAddress Load (0.5ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.1ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mStripeCustomer Load (0.8ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mProductImage Load (1.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.3ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers] Rendered CustomerSerializer with ActiveModelSerializers::Adapter::Attributes (84.34ms)
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
Completed 201 Created in 103ms (Views: 80.8ms | ActiveRecord: 16.8ms | Allocations: 10946)


[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (107.66ms)
Completed 200 OK in 112ms (Views: 107.7ms | ActiveRecord: 4.3ms | Allocations: 21807)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 10:54:25 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.2ms)
Completed 201 Created in 7ms (Views: 2.4ms | ActiveRecord: 0.7ms | Allocations: 1542)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 10:55:09 +0100
Started GET "/products" for 127.0.0.1 at 2023-07-01 10:55:09 +0100
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 10:55:09 +0100
Processing by CustomersController#logged_in as */*
Processing by BakersController#logged_in as */*
Processing by ProductsController#index as HTML
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  [1m[36mBaker Load (2.8ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mDiscount Load (0.3ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers] Rendered BakerSerializer with ActiveModelSerializers::Adapter::Attributes (0.26ms)
Completed 201 Created in 6ms (Views: 0.7ms | ActiveRecord: 2.8ms | Allocations: 847)


[active_model_serializers]   [1m[36mCustomerAddress Load (0.3ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mVariantGroup Load (0.2ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mStripeCustomer Load (0.3ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mOrder Load (3.0ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers] Rendered CustomerSerializer with ActiveModelSerializers::Adapter::Attributes (15.29ms)
Completed 201 Created in 18ms (Views: 12.0ms | ActiveRecord: 4.1ms | Allocations: 4407)


[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.0ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.7ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 10:55:09 +0100
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.9ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
  [1m[36mCart Load (1.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   [1m[36mVariantOption Load (0.4ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.2ms)
Completed 201 Created in 14ms (Views: 7.8ms | ActiveRecord: 2.1ms | Allocations: 1442)


[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.1ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (117.56ms)
Completed 200 OK in 122ms (Views: 116.1ms | ActiveRecord: 5.1ms | Allocations: 20816)


Started GET "/products" for 127.0.0.1 at 2023-07-01 10:56:57 +0100
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (1.1ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (1.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.9ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.1ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.5ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.6ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.3ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (84.36ms)
Completed 200 OK in 96ms (Views: 88.5ms | ActiveRecord: 6.5ms | Allocations: 20806)


Started POST "/carts" for 127.0.0.1 at 2023-07-01 10:57:07 +0100
Processing by CartsController#create as HTML
  Parameters: {"customer_id"=>2, "total"=>0, "active"=>true}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:20:in `create'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:20:in `create'
  [1m[36mCart Create (1.0ms)[0m  [1m[32mINSERT INTO "carts" ("customer_id", "total", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["customer_id", 2], ["total", 0.0], ["active", true], ["created_at", "2023-07-01 09:57:07.396121"], ["updated_at", "2023-07-01 09:57:07.396121"]]
  ↳ app/controllers/carts_controller.rb:20:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:20:in `create'
[active_model_serializers]   [1m[36mLineItem Load (1.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:21:in `create'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (8.07ms)
Completed 201 Created in 28ms (Views: 7.6ms | ActiveRecord: 6.9ms | Allocations: 8336)


Started POST "/line_items" for 127.0.0.1 at 2023-07-01 10:57:07 +0100
Processing by LineItemsController#create as HTML
  Parameters: {"cart_id"=>1, "product_id"=>1, "quantity"=>1, "color"=>"Any color", "cake_text"=>"No text", "price"=>nil}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/line_items_controller.rb:20:in `create'
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:20:in `create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:20:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/line_items_controller.rb:20:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with ActiveModel::Errors (5.06ms)
Completed 422 Unprocessable Entity in 22ms (Views: 6.1ms | ActiveRecord: 2.9ms | Allocations: 10188)


Started POST "/carts" for 127.0.0.1 at 2023-07-01 10:57:10 +0100
Processing by CartsController#create as HTML
  Parameters: {"customer_id"=>2, "total"=>0, "active"=>true}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:20:in `create'
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:20:in `create'
  [1m[36mCart Create (0.6ms)[0m  [1m[32mINSERT INTO "carts" ("customer_id", "total", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["customer_id", 2], ["total", 0.0], ["active", true], ["created_at", "2023-07-01 09:57:10.364637"], ["updated_at", "2023-07-01 09:57:10.364637"]]
  ↳ app/controllers/carts_controller.rb:20:in `create'
  [1m[36mTRANSACTION (15.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:20:in `create'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:21:in `create'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (6.45ms)
Completed 201 Created in 46ms (Views: 6.4ms | ActiveRecord: 20.9ms | Allocations: 8343)


Started POST "/line_items" for 127.0.0.1 at 2023-07-01 10:57:10 +0100
Processing by LineItemsController#create as HTML
  Parameters: {"cart_id"=>2, "product_id"=>2, "quantity"=>1, "color"=>"Any color", "cake_text"=>"No text", "price"=>nil}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/line_items_controller.rb:20:in `create'
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:20:in `create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:20:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/line_items_controller.rb:20:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with ActiveModel::Errors (2.16ms)
Completed 422 Unprocessable Entity in 31ms (Views: 2.9ms | ActiveRecord: 10.9ms | Allocations: 12504)


Started POST "/carts" for 127.0.0.1 at 2023-07-01 10:57:13 +0100
Processing by CartsController#create as HTML
  Parameters: {"customer_id"=>2, "total"=>0, "active"=>true}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:20:in `create'
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:20:in `create'
  [1m[36mCart Create (0.5ms)[0m  [1m[32mINSERT INTO "carts" ("customer_id", "total", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["customer_id", 2], ["total", 0.0], ["active", true], ["created_at", "2023-07-01 09:57:13.184914"], ["updated_at", "2023-07-01 09:57:13.184914"]]
  ↳ app/controllers/carts_controller.rb:20:in `create'
  [1m[36mTRANSACTION (6.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:20:in `create'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:21:in `create'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (4.27ms)
Completed 201 Created in 24ms (Views: 4.9ms | ActiveRecord: 7.6ms | Allocations: 3873)


Started POST "/line_items" for 127.0.0.1 at 2023-07-01 10:57:13 +0100
Processing by LineItemsController#create as HTML
  Parameters: {"cart_id"=>3, "product_id"=>3, "quantity"=>1, "color"=>"Any color", "cake_text"=>"No text", "price"=>nil}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/line_items_controller.rb:20:in `create'
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:20:in `create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:20:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/line_items_controller.rb:20:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with ActiveModel::Errors (0.56ms)
Completed 422 Unprocessable Entity in 9ms (Views: 1.0ms | ActiveRecord: 1.0ms | Allocations: 3182)


Started POST "/carts" for 127.0.0.1 at 2023-07-01 10:57:38 +0100
Processing by CartsController#create as HTML
  Parameters: {"customer_id"=>2, "total"=>0, "active"=>true}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:20:in `create'
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:20:in `create'
  [1m[36mCart Create (0.7ms)[0m  [1m[32mINSERT INTO "carts" ("customer_id", "total", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["customer_id", 2], ["total", 0.0], ["active", true], ["created_at", "2023-07-01 09:57:38.656787"], ["updated_at", "2023-07-01 09:57:38.656787"]]
  ↳ app/controllers/carts_controller.rb:20:in `create'
  [1m[36mTRANSACTION (6.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:20:in `create'
[active_model_serializers]   [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:21:in `create'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (7.81ms)
Completed 201 Created in 35ms (Views: 12.3ms | ActiveRecord: 8.2ms | Allocations: 4848)


Started POST "/line_items" for 127.0.0.1 at 2023-07-01 10:57:38 +0100
Processing by LineItemsController#create as HTML
  Parameters: {"cart_id"=>4, "product_id"=>3, "quantity"=>1, "color"=>"Any color", "cake_text"=>"No text", "price"=>nil}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/line_items_controller.rb:20:in `create'
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:20:in `create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:20:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/line_items_controller.rb:20:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with ActiveModel::Errors (2.25ms)
Completed 422 Unprocessable Entity in 32ms (Views: 3.4ms | ActiveRecord: 5.8ms | Allocations: 12549)


Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 11:04:01 +0100
Processing by BakersController#logged_in as */*
Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 11:04:01 +0100
Processing by CustomersController#logged_in as */*
Started GET "/products" for 127.0.0.1 at 2023-07-01 11:04:01 +0100
Processing by ProductsController#index as HTML
  [1m[36mBaker Load (0.3ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered BakerSerializer with ActiveModelSerializers::Adapter::Attributes (0.27ms)
Completed 201 Created in 16ms (Views: 0.9ms | ActiveRecord: 6.1ms | Allocations: 5252)


  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (0.5ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mVariantGroup Load (3.3ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.6ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCustomerAddress Load (3.0ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (1.3ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mStripeCustomer Load (1.4ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mProductImage Load (1.0ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mOrder Load (3.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers] Rendered CustomerSerializer with ActiveModelSerializers::Adapter::Attributes (45.67ms)
Completed 201 Created in 73ms (Views: 38.2ms | ActiveRecord: 25.5ms | Allocations: 10563)


[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.7ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.1ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (113.25ms)
Completed 200 OK in 131ms (Views: 130.4ms | ActiveRecord: 18.5ms | Allocations: 23678)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:04:02 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (19.87ms)
Completed 201 Created in 41ms (Views: 22.5ms | ActiveRecord: 9.6ms | Allocations: 8511)


Started PATCH "/carts/1" for 127.0.0.1 at 2023-07-01 11:04:02 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"1"}
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (5.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (2.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (11.7ms)
Completed 200 OK in 48ms (Views: 10.2ms | ActiveRecord: 17.9ms | Allocations: 6702)


Started PATCH "/carts/2" for 127.0.0.1 at 2023-07-01 11:04:02 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"2"}
  [1m[36mCart Load (1.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (5.86ms)
Completed 200 OK in 24ms (Views: 5.9ms | ActiveRecord: 4.7ms | Allocations: 3831)


Started PATCH "/carts/3" for 127.0.0.1 at 2023-07-01 11:04:02 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"3"}
  [1m[36mCart Load (0.8ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (8.18ms)
Completed 200 OK in 30ms (Views: 9.1ms | ActiveRecord: 5.1ms | Allocations: 3685)


Started PATCH "/carts/4" for 127.0.0.1 at 2023-07-01 11:04:02 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"4"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (5.69ms)
Completed 200 OK in 16ms (Views: 6.2ms | ActiveRecord: 1.7ms | Allocations: 3686)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:04:02 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (18.78ms)
Completed 201 Created in 27ms (Views: 21.2ms | ActiveRecord: 2.7ms | Allocations: 5628)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:04:02 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (1.1ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.9ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (23.18ms)
Completed 201 Created in 52ms (Views: 44.0ms | ActiveRecord: 3.6ms | Allocations: 7576)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:04:02 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (2.8ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (32.73ms)
Completed 201 Created in 49ms (Views: 38.3ms | ActiveRecord: 4.7ms | Allocations: 5626)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:04:02 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (3.0ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (20.84ms)
Completed 201 Created in 31ms (Views: 23.3ms | ActiveRecord: 4.9ms | Allocations: 5625)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 11:04:38 +0100
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 11:04:38 +0100
Processing by CustomersController#logged_in as */*
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers]   [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
Started GET "/products" for 127.0.0.1 at 2023-07-01 11:04:38 +0100
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
Processing by BakersController#logged_in as */*
[active_model_serializers]   [1m[36mDiscount Load (0.3ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.7ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCustomerAddress Load (0.5ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   [1m[36mStripeCustomer Load (0.3ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBaker Load (0.4ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers]   [1m[36mOrder Load (0.9ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered CustomerSerializer with ActiveModelSerializers::Adapter::Attributes (38.83ms)
Completed 201 Created in 52ms (Views: 46.1ms | ActiveRecord: 2.6ms | Allocations: 4863)


[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers] Rendered BakerSerializer with ActiveModelSerializers::Adapter::Attributes (1.19ms)
Completed 201 Created in 56ms (Views: 3.3ms | ActiveRecord: 7.6ms | Allocations: 4691)


[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.8ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.6ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.5ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.1ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.1ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:04:38 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (129.98ms)
Completed 200 OK in 135ms (Views: 128.6ms | ActiveRecord: 5.9ms | Allocations: 20828)


[active_model_serializers]   [1m[36mLineItem Load (1.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.9ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (28.88ms)
Completed 201 Created in 42ms (Views: 34.7ms | ActiveRecord: 5.3ms | Allocations: 5625)


Started PATCH "/carts/1" for 127.0.0.1 at 2023-07-01 11:04:38 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"1"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
Started PATCH "/carts/2" for 127.0.0.1 at 2023-07-01 11:04:38 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"2"}
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (17.93ms)
Completed 200 OK in 42ms (Views: 18.7ms | ActiveRecord: 2.9ms | Allocations: 4600)


  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (4.8ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (3.1ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (1.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (5.48ms)
Completed 200 OK in 33ms (Views: 5.6ms | ActiveRecord: 9.8ms | Allocations: 3828)


Started PATCH "/carts/3" for 127.0.0.1 at 2023-07-01 11:04:38 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"3"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.7ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (1.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (4.45ms)
Completed 200 OK in 24ms (Views: 4.7ms | ActiveRecord: 5.6ms | Allocations: 3682)


Started PATCH "/carts/4" for 127.0.0.1 at 2023-07-01 11:04:38 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"4"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (3.55ms)
Completed 200 OK in 25ms (Views: 4.0ms | ActiveRecord: 1.8ms | Allocations: 3682)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:04:38 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (2.9ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (25.46ms)
Completed 201 Created in 31ms (Views: 22.8ms | ActiveRecord: 6.2ms | Allocations: 5626)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:04:38 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.7ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (1.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (3.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (3.9ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (5.9ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (44.01ms)
Completed 201 Created in 55ms (Views: 36.6ms | ActiveRecord: 15.5ms | Allocations: 5626)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:04:38 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (1.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (2.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (5.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (22.14ms)
Completed 201 Created in 31ms (Views: 17.0ms | ActiveRecord: 10.1ms | Allocations: 5626)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:04:38 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (6.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (24.26ms)
Completed 201 Created in 30ms (Views: 19.4ms | ActiveRecord: 8.3ms | Allocations: 5625)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 11:06:21 +0100
Started GET "/products" for 127.0.0.1 at 2023-07-01 11:06:21 +0100
Processing by CustomersController#logged_in as */*
Processing by ProductsController#index as HTML
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 11:06:21 +0100
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers]   [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
Processing by BakersController#logged_in as */*
  [1m[36mBaker Load (0.2ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers]   [1m[36mCustomerAddress Load (0.7ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
  [1m[36mProduct Load (1.7ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
[active_model_serializers] Rendered BakerSerializer with ActiveModelSerializers::Adapter::Attributes (0.31ms)
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
  ↳ app/controllers/products_controller.rb:8:in `index'
Completed 201 Created in 5ms (Views: 1.9ms | ActiveRecord: 0.2ms | Allocations: 1339)


[active_model_serializers]   [1m[36mStripeCustomer Load (0.7ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mDiscount Load (7.3ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (6.3ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mProductImage Load (4.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers] Rendered CustomerSerializer with ActiveModelSerializers::Adapter::Attributes (53.04ms)
Completed 201 Created in 56ms (Views: 51.3ms | ActiveRecord: 2.6ms | Allocations: 4850)


[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (5.6ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.6ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (4.7ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.1ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.5ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (4.1ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.1ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (146.76ms)
Completed 200 OK in 160ms (Views: 123.3ms | ActiveRecord: 36.7ms | Allocations: 22563)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:06:21 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (1.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (2.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (5.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.9ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (20.75ms)
Completed 201 Created in 33ms (Views: 16.2ms | ActiveRecord: 10.8ms | Allocations: 5625)


Started PATCH "/carts/1" for 127.0.0.1 at 2023-07-01 11:06:21 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"1"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.8ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (3.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (7.29ms)
Completed 200 OK in 27ms (Views: 4.6ms | ActiveRecord: 8.8ms | Allocations: 3682)


Started PATCH "/carts/2" for 127.0.0.1 at 2023-07-01 11:06:21 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"2"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (1.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (3.77ms)
Completed 200 OK in 13ms (Views: 3.1ms | ActiveRecord: 2.3ms | Allocations: 3682)


Started PATCH "/carts/3" for 127.0.0.1 at 2023-07-01 11:06:21 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"3"}
  [1m[36mCart Load (0.8ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (3.67ms)
Completed 200 OK in 16ms (Views: 3.7ms | ActiveRecord: 2.5ms | Allocations: 3685)


Started PATCH "/carts/4" for 127.0.0.1 at 2023-07-01 11:06:21 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"4"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (10.5ms)
Completed 200 OK in 22ms (Views: 10.8ms | ActiveRecord: 1.8ms | Allocations: 3682)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:06:21 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (2.1ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.8ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (12.09ms)
Completed 201 Created in 22ms (Views: 15.1ms | ActiveRecord: 3.7ms | Allocations: 5626)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:06:21 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (3.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (3.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (27.52ms)
Completed 201 Created in 37ms (Views: 23.9ms | ActiveRecord: 10.5ms | Allocations: 5626)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:06:21 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (1.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (5.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (24.51ms)
Completed 201 Created in 37ms (Views: 26.5ms | ActiveRecord: 8.2ms | Allocations: 5626)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:06:22 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (2.1ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (2.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (2.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (33.25ms)
Completed 201 Created in 43ms (Views: 31.5ms | ActiveRecord: 8.9ms | Allocations: 5625)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 11:07:52 +0100
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 11:07:52 +0100
Started GET "/products" for 127.0.0.1 at 2023-07-01 11:07:52 +0100
Processing by CustomersController#logged_in as */*
Processing by ProductsController#index as HTML
Processing by BakersController#logged_in as */*
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  [1m[36mBaker Load (0.3ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered BakerSerializer with ActiveModelSerializers::Adapter::Attributes (0.3ms)
Completed 201 Created in 3ms (Views: 0.9ms | ActiveRecord: 0.3ms | Allocations: 834)


[active_model_serializers]   [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   [1m[36mDiscount Load (0.2ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mVariantGroup Load (2.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCustomerAddress Load (5.3ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   [1m[36mStripeCustomer Load (0.3ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mOrder Load (4.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers] Rendered CustomerSerializer with ActiveModelSerializers::Adapter::Attributes (21.34ms)
Completed 201 Created in 25ms (Views: 12.1ms | ActiveRecord: 10.4ms | Allocations: 4805)


[active_model_serializers]   [1m[36mProductImage Load (0.8ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.6ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.1ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.7ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.3ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.1ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (96.84ms)
Completed 200 OK in 100ms (Views: 93.4ms | ActiveRecord: 6.2ms | Allocations: 20806)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:07:52 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (4.9ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.8ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (2.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (38.16ms)
Completed 201 Created in 57ms (Views: 40.9ms | ActiveRecord: 9.2ms | Allocations: 5626)


Started PATCH "/carts/1" for 127.0.0.1 at 2023-07-01 11:07:52 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"1"}
  [1m[36mCart Load (1.0ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (5.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (1.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
Started PATCH "/carts/2" for 127.0.0.1 at 2023-07-01 11:07:52 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"2"}
  [1m[36mCart Load (0.9ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
  [1m[36mCustomer Load (2.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (19.75ms)
Completed 200 OK in 49ms (Views: 25.3ms | ActiveRecord: 9.5ms | Allocations: 3692)


  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (3.92ms)
Completed 200 OK in 25ms (Views: 4.2ms | ActiveRecord: 5.7ms | Allocations: 3682)


Started PATCH "/carts/3" for 127.0.0.1 at 2023-07-01 11:07:52 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"3"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (1.1ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
Started PATCH "/carts/4" for 127.0.0.1 at 2023-07-01 11:07:52 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"4"}
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[31mUnpermitted parameter: :id[0m
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (5.37ms)
Completed 200 OK in 23ms (Views: 5.8ms | ActiveRecord: 5.4ms | Allocations: 3693)


  [1m[36mTRANSACTION (5.9ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (1.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (6.86ms)
Completed 200 OK in 26ms (Views: 5.7ms | ActiveRecord: 9.2ms | Allocations: 3682)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:07:53 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (2.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (17.68ms)
Completed 201 Created in 24ms (Views: 16.9ms | ActiveRecord: 5.4ms | Allocations: 5626)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:07:53 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (2.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (2.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (29.85ms)
Completed 201 Created in 38ms (Views: 27.8ms | ActiveRecord: 8.1ms | Allocations: 5625)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:07:53 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (1.9ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (7.9ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (3.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (2.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (22.16ms)
Completed 201 Created in 42ms (Views: 21.6ms | ActiveRecord: 16.5ms | Allocations: 5625)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:07:53 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.8ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (19.07ms)
Completed 201 Created in 27ms (Views: 20.5ms | ActiveRecord: 2.5ms | Allocations: 5625)


Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 11:08:12 +0100
Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 11:08:12 +0100
Started GET "/products" for 127.0.0.1 at 2023-07-01 11:08:12 +0100
Processing by CustomersController#logged_in as */*
Processing by BakersController#logged_in as */*
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
  ↳ app/controllers/products_controller.rb:8:in `index'
  [1m[36mBaker Load (0.3ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers]   [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   [1m[36mDiscount Load (0.3ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers] Rendered BakerSerializer with ActiveModelSerializers::Adapter::Attributes (0.45ms)
Completed 201 Created in 12ms (Views: 3.5ms | ActiveRecord: 0.3ms | Allocations: 838)


[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (1.5ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCustomerAddress Load (4.0ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mStripeCustomer Load (1.5ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.1ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mOrder Load (2.8ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers] Rendered CustomerSerializer with ActiveModelSerializers::Adapter::Attributes (40.55ms)
Completed 201 Created in 45ms (Views: 33.0ms | ActiveRecord: 9.1ms | Allocations: 4799)


[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.8ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.7ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (1.1ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.1ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (128.31ms)
Completed 200 OK in 132ms (Views: 123.9ms | ActiveRecord: 7.7ms | Allocations: 20818)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:08:12 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (1.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.9ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (23.15ms)
Completed 201 Created in 36ms (Views: 27.8ms | ActiveRecord: 4.0ms | Allocations: 5625)


Started PATCH "/carts/1" for 127.0.0.1 at 2023-07-01 11:08:12 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"1"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (3.91ms)
Completed 200 OK in 14ms (Views: 4.6ms | ActiveRecord: 1.6ms | Allocations: 3682)


Started PATCH "/carts/2" for 127.0.0.1 at 2023-07-01 11:08:12 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"2"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (2.1ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (3.71ms)
Completed 200 OK in 20ms (Views: 4.2ms | ActiveRecord: 5.6ms | Allocations: 3686)


Started PATCH "/carts/3" for 127.0.0.1 at 2023-07-01 11:08:12 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"3"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (3.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
Started PATCH "/carts/4" for 127.0.0.1 at 2023-07-01 11:08:12 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"4"}
[active_model_serializers]   [1m[36mLineItem Load (2.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
  [1m[36mCart Load (1.8ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (23.46ms)
Completed 200 OK in 43ms (Views: 21.6ms | ActiveRecord: 12.0ms | Allocations: 3685)


  [1m[36mCustomer Load (2.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (4.17ms)
Completed 200 OK in 31ms (Views: 4.5ms | ActiveRecord: 7.7ms | Allocations: 3682)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:08:12 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (2.9ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (2.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.9ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (22.77ms)
Completed 201 Created in 38ms (Views: 26.0ms | ActiveRecord: 8.4ms | Allocations: 5625)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:08:12 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (20.09ms)
Completed 201 Created in 29ms (Views: 23.1ms | ActiveRecord: 2.1ms | Allocations: 5625)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:08:12 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (24.14ms)
Completed 201 Created in 33ms (Views: 27.1ms | ActiveRecord: 3.1ms | Allocations: 5626)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:08:12 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (3.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (4.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (19.23ms)
Completed 201 Created in 25ms (Views: 14.3ms | ActiveRecord: 8.5ms | Allocations: 5625)


Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 11:09:07 +0100
Started GET "/products" for 127.0.0.1 at 2023-07-01 11:09:07 +0100
Processing by BakersController#logged_in as */*
Processing by ProductsController#index as HTML
  [1m[36mBaker Load (0.4ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 11:09:07 +0100
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
Processing by CustomersController#logged_in as */*
[active_model_serializers] Rendered BakerSerializer with ActiveModelSerializers::Adapter::Attributes (0.32ms)
Completed 201 Created in 4ms (Views: 1.0ms | ActiveRecord: 0.4ms | Allocations: 845)


  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (2.8ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.4ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.7ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCustomer Load (0.8ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mProductImage Load (3.0ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCustomerAddress Load (1.9ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mStripeCustomer Load (0.5ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mProductImage Load (2.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mOrder Load (2.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers] Rendered CustomerSerializer with ActiveModelSerializers::Adapter::Attributes (38.13ms)
Completed 201 Created in 80ms (Views: 34.0ms | ActiveRecord: 21.2ms | Allocations: 16328)


[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.7ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.1ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (5.5ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.1ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (137.45ms)
Completed 200 OK in 144ms (Views: 124.6ms | ActiveRecord: 18.6ms | Allocations: 29036)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:09:07 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.7ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (1.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (2.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (4.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (4.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (30.6ms)
Completed 201 Created in 41ms (Views: 23.3ms | ActiveRecord: 14.5ms | Allocations: 5625)


Started PATCH "/carts/1" for 127.0.0.1 at 2023-07-01 11:09:07 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"1"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (1.8ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (11.22ms)
Completed 200 OK in 31ms (Views: 11.9ms | ActiveRecord: 5.8ms | Allocations: 3682)


Started PATCH "/carts/2" for 127.0.0.1 at 2023-07-01 11:09:07 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"2"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (7.49ms)
Completed 200 OK in 22ms (Views: 9.6ms | ActiveRecord: 1.4ms | Allocations: 3682)


Started PATCH "/carts/3" for 127.0.0.1 at 2023-07-01 11:09:07 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"3"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (3.95ms)
Completed 200 OK in 17ms (Views: 4.4ms | ActiveRecord: 1.4ms | Allocations: 3682)


Started PATCH "/carts/4" for 127.0.0.1 at 2023-07-01 11:09:07 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"4"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (2.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (8.38ms)
Completed 200 OK in 21ms (Views: 6.8ms | ActiveRecord: 4.1ms | Allocations: 3682)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:09:07 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (3.1ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.9ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (17.66ms)
Completed 201 Created in 29ms (Views: 18.8ms | ActiveRecord: 6.8ms | Allocations: 5625)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:09:07 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (25.68ms)
Completed 201 Created in 36ms (Views: 28.9ms | ActiveRecord: 3.0ms | Allocations: 5627)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:09:07 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (5.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (2.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (16.69ms)
Completed 201 Created in 28ms (Views: 14.7ms | ActiveRecord: 10.5ms | Allocations: 5625)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:09:07 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (2.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (16.63ms)
Completed 201 Created in 27ms (Views: 19.6ms | ActiveRecord: 5.3ms | Allocations: 5626)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 11:10:18 +0100
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 11:10:18 +0100
Processing by BakersController#logged_in as */*
Started GET "/products" for 127.0.0.1 at 2023-07-01 11:10:18 +0100
Processing by ProductsController#index as HTML
  [1m[36mBaker Load (1.0ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered BakerSerializer with ActiveModelSerializers::Adapter::Attributes (0.37ms)
Processing by CustomersController#logged_in as */*
Completed 201 Created in 6ms (Views: 1.1ms | ActiveRecord: 1.0ms | Allocations: 839)


  [1m[36mProduct Load (4.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
  [1m[36mCustomer Load (0.8ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers]   [1m[36mDiscount Load (7.9ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCart Load (1.0ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mVariantGroup Load (8.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCustomerAddress Load (1.3ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mProductImage Load (3.9ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   [1m[36mStripeCustomer Load (0.4ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mOrder Load (1.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers] Rendered CustomerSerializer with ActiveModelSerializers::Adapter::Attributes (45.16ms)
Completed 201 Created in 57ms (Views: 41.6ms | ActiveRecord: 5.0ms | Allocations: 12810)


[active_model_serializers]   [1m[36mProductImage Load (3.8ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.6ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.1ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (1.8ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (106.82ms)
Completed 200 OK in 115ms (Views: 82.7ms | ActiveRecord: 32.0ms | Allocations: 26054)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:10:18 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (2.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (2.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (2.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (2.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (26.83ms)
Completed 201 Created in 38ms (Views: 23.9ms | ActiveRecord: 9.4ms | Allocations: 5625)


Started PATCH "/carts/1" for 127.0.0.1 at 2023-07-01 11:10:18 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"1"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (4.35ms)
Completed 200 OK in 16ms (Views: 5.9ms | ActiveRecord: 1.2ms | Allocations: 3682)


Started PATCH "/carts/2" for 127.0.0.1 at 2023-07-01 11:10:18 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"2"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.9ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (4.69ms)
Completed 200 OK in 22ms (Views: 5.3ms | ActiveRecord: 2.2ms | Allocations: 3682)


Started PATCH "/carts/3" for 127.0.0.1 at 2023-07-01 11:10:18 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"3"}
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (1.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (6.46ms)
Completed 200 OK in 29ms (Views: 7.2ms | ActiveRecord: 4.6ms | Allocations: 3686)


Started PATCH "/carts/4" for 127.0.0.1 at 2023-07-01 11:10:18 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"4"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (6.88ms)
Completed 200 OK in 19ms (Views: 7.6ms | ActiveRecord: 1.3ms | Allocations: 3682)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:10:18 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (2.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (21.48ms)
Completed 201 Created in 31ms (Views: 24.7ms | ActiveRecord: 3.8ms | Allocations: 5625)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:10:18 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (3.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (31.16ms)
Completed 201 Created in 40ms (Views: 30.9ms | ActiveRecord: 6.2ms | Allocations: 5625)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:10:18 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (27.39ms)
Completed 201 Created in 38ms (Views: 30.8ms | ActiveRecord: 3.7ms | Allocations: 5625)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:10:19 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (1.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (3.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (27.88ms)
Completed 201 Created in 35ms (Views: 26.4ms | ActiveRecord: 5.9ms | Allocations: 5625)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 11:10:55 +0100
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 11:10:55 +0100
Processing by CustomersController#logged_in as */*
Processing by BakersController#logged_in as */*
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Started GET "/products" for 127.0.0.1 at 2023-07-01 11:10:55 +0100
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
Processing by ProductsController#index as HTML
  [1m[36mBaker Load (1.3ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers]   [1m[36mCart Load (1.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers] Rendered BakerSerializer with ActiveModelSerializers::Adapter::Attributes (1.38ms)
Completed 201 Created in 15ms (Views: 9.8ms | ActiveRecord: 1.3ms | Allocations: 2814)


[active_model_serializers]   [1m[36mCustomerAddress Load (0.5ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mStripeCustomer Load (2.8ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mDiscount Load (0.5ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.4ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.5ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   [1m[36mOrder Load (2.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers] Rendered CustomerSerializer with ActiveModelSerializers::Adapter::Attributes (35.63ms)
Completed 201 Created in 39ms (Views: 29.1ms | ActiveRecord: 7.3ms | Allocations: 4807)


[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.7ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.7ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.1ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.9ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.9ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (1.8ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.1ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (102.83ms)
Completed 200 OK in 123ms (Views: 104.2ms | ActiveRecord: 18.3ms | Allocations: 24616)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:10:55 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (23.56ms)
Completed 201 Created in 34ms (Views: 29.2ms | ActiveRecord: 2.4ms | Allocations: 5625)


Started PATCH "/carts/1" for 127.0.0.1 at 2023-07-01 11:10:55 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"1"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (4.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (1.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (3.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (7.78ms)
Completed 200 OK in 29ms (Views: 5.5ms | ActiveRecord: 10.2ms | Allocations: 3682)


Started PATCH "/carts/2" for 127.0.0.1 at 2023-07-01 11:10:55 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"2"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (1.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (11.67ms)
Completed 200 OK in 26ms (Views: 11.3ms | ActiveRecord: 2.1ms | Allocations: 3682)


Started PATCH "/carts/3" for 127.0.0.1 at 2023-07-01 11:10:55 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"3"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (2.91ms)
Completed 200 OK in 17ms (Views: 3.4ms | ActiveRecord: 2.1ms | Allocations: 3682)


Started PATCH "/carts/4" for 127.0.0.1 at 2023-07-01 11:10:55 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"4"}
  [1m[36mCart Load (1.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (5.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (5.56ms)
Completed 200 OK in 32ms (Views: 6.5ms | ActiveRecord: 10.5ms | Allocations: 3682)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:10:55 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.9ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (26.66ms)
Completed 201 Created in 41ms (Views: 28.6ms | ActiveRecord: 3.7ms | Allocations: 5625)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:10:55 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (3.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (22.19ms)
Completed 201 Created in 33ms (Views: 23.2ms | ActiveRecord: 6.6ms | Allocations: 5626)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:10:55 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.8ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (2.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (23.16ms)
Completed 201 Created in 33ms (Views: 24.9ms | ActiveRecord: 5.6ms | Allocations: 5655)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:10:56 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (15.48ms)
Completed 201 Created in 24ms (Views: 17.1ms | ActiveRecord: 2.4ms | Allocations: 5626)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 11:11:41 +0100
Processing by CustomersController#logged_in as */*
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 11:11:41 +0100
Processing by BakersController#logged_in as */*
Started GET "/products" for 127.0.0.1 at 2023-07-01 11:11:41 +0100
  [1m[36mCustomer Load (3.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Processing by ProductsController#index as HTML
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
  [1m[36mBaker Load (2.8ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers]   [1m[36mDiscount Load (0.8ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers] Rendered BakerSerializer with ActiveModelSerializers::Adapter::Attributes (0.35ms)
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
Completed 201 Created in 10ms (Views: 1.2ms | ActiveRecord: 2.8ms | Allocations: 1556)


[active_model_serializers]   [1m[36mCart Load (6.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   [1m[36mVariantGroup Load (0.3ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mProductImage Load (1.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCustomerAddress Load (2.1ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   [1m[36mStripeCustomer Load (1.0ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mOrder Load (1.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered CustomerSerializer with ActiveModelSerializers::Adapter::Attributes (48.84ms)
Completed 201 Created in 58ms (Views: 38.9ms | ActiveRecord: 13.9ms | Allocations: 6611)


[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (2.5ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (1.6ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.1ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (148.62ms)
Completed 200 OK in 154ms (Views: 144.9ms | ActiveRecord: 9.2ms | Allocations: 20807)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:11:41 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (5.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (2.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (31.76ms)
Completed 201 Created in 40ms (Views: 28.5ms | ActiveRecord: 9.2ms | Allocations: 5625)


Started PATCH "/carts/1" for 127.0.0.1 at 2023-07-01 11:11:42 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"1"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (1.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (1.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (12.04ms)
Completed 200 OK in 32ms (Views: 13.2ms | ActiveRecord: 6.7ms | Allocations: 3683)


Started PATCH "/carts/2" for 127.0.0.1 at 2023-07-01 11:11:42 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"2"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.8ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (2.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (6.2ms)
Completed 200 OK in 36ms (Views: 5.2ms | ActiveRecord: 4.0ms | Allocations: 3686)


Started PATCH "/carts/3" for 127.0.0.1 at 2023-07-01 11:11:42 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"3"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (1.9ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
Started PATCH "/carts/4" for 127.0.0.1 at 2023-07-01 11:11:42 +0100
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"4"}
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (5.91ms)
Completed 200 OK in 21ms (Views: 6.1ms | ActiveRecord: 4.8ms | Allocations: 3692)


  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.7ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (1.9ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (7.65ms)
Completed 200 OK in 24ms (Views: 6.7ms | ActiveRecord: 4.2ms | Allocations: 3682)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:11:42 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.7ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (23.27ms)
Completed 201 Created in 32ms (Views: 25.3ms | ActiveRecord: 3.2ms | Allocations: 5626)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:11:42 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (16.2ms)
Completed 201 Created in 24ms (Views: 20.0ms | ActiveRecord: 2.1ms | Allocations: 5625)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:11:42 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (2.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (21.31ms)
Completed 201 Created in 30ms (Views: 22.8ms | ActiveRecord: 4.3ms | Allocations: 5627)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:11:42 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (2.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (16.94ms)
Completed 201 Created in 27ms (Views: 16.7ms | ActiveRecord: 5.0ms | Allocations: 5625)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 11:15:36 +0100
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 11:15:36 +0100
Processing by CustomersController#logged_in as */*
Processing by BakersController#logged_in as */*
  [1m[36mCustomer Load (1.9ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
Started GET "/products" for 127.0.0.1 at 2023-07-01 11:15:36 +0100
Processing by ProductsController#index as HTML
[active_model_serializers]   [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
  [1m[36mBaker Load (3.7ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers]   [1m[36mCustomerAddress Load (0.4ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers] Rendered BakerSerializer with ActiveModelSerializers::Adapter::Attributes (0.47ms)
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
Completed 201 Created in 16ms (Views: 1.3ms | ActiveRecord: 3.7ms | Allocations: 2386)


[active_model_serializers]   [1m[36mStripeCustomer Load (2.0ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mOrder Load (1.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mDiscount Load (0.4ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers] Rendered CustomerSerializer with ActiveModelSerializers::Adapter::Attributes (35.32ms)
Completed 201 Created in 42ms (Views: 31.7ms | ActiveRecord: 6.1ms | Allocations: 4805)


[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.5ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.0ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (2.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.8ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.6ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.1ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (93.63ms)
Completed 200 OK in 126ms (Views: 106.9ms | ActiveRecord: 18.7ms | Allocations: 24626)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:15:36 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (3.0ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (2.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (3.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (24.69ms)
Completed 201 Created in 39ms (Views: 20.1ms | ActiveRecord: 11.2ms | Allocations: 5625)


Started PATCH "/carts/1" for 127.0.0.1 at 2023-07-01 11:15:36 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"1"}
  [1m[36mCart Load (3.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (6.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (16.75ms)
Completed 200 OK in 44ms (Views: 12.9ms | ActiveRecord: 12.4ms | Allocations: 3713)


Started PATCH "/carts/2" for 127.0.0.1 at 2023-07-01 11:15:36 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"2"}
  [1m[36mCart Load (2.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (6.11ms)
Completed 200 OK in 23ms (Views: 7.2ms | ActiveRecord: 4.6ms | Allocations: 3682)


Started PATCH "/carts/3" for 127.0.0.1 at 2023-07-01 11:15:36 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"3"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (2.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (3.71ms)
Completed 200 OK in 18ms (Views: 4.3ms | ActiveRecord: 4.6ms | Allocations: 3682)


Started PATCH "/carts/4" for 127.0.0.1 at 2023-07-01 11:15:36 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"4"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (3.76ms)
Completed 200 OK in 15ms (Views: 4.1ms | ActiveRecord: 1.2ms | Allocations: 3683)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:15:36 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (2.9ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (2.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (3.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (31.06ms)
Completed 201 Created in 41ms (Views: 27.7ms | ActiveRecord: 11.2ms | Allocations: 5625)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:15:36 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (1.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (2.9ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (3.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (19.2ms)
Completed 201 Created in 32ms (Views: 22.0ms | ActiveRecord: 8.1ms | Allocations: 5625)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:15:36 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (8.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (5.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (28.11ms)
Completed 201 Created in 33ms (Views: 15.2ms | ActiveRecord: 16.3ms | Allocations: 5625)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:15:36 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (1.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (14.62ms)
Completed 201 Created in 22ms (Views: 16.1ms | ActiveRecord: 2.7ms | Allocations: 5626)


Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 11:15:57 +0100
Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 11:15:57 +0100
Processing by BakersController#logged_in as */*
Processing by CustomersController#logged_in as */*
Started GET "/products" for 127.0.0.1 at 2023-07-01 11:15:57 +0100
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers]   [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  [1m[36mBaker Load (0.7ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered BakerSerializer with ActiveModelSerializers::Adapter::Attributes (0.46ms)
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
Completed 201 Created in 11ms (Views: 3.5ms | ActiveRecord: 0.7ms | Allocations: 837)


Processing by ProductsController#index as HTML
[active_model_serializers]   [1m[36mCustomerAddress Load (1.0ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mStripeCustomer Load (1.8ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
  [1m[36mProduct Load (3.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mOrder Load (5.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers] Rendered CustomerSerializer with ActiveModelSerializers::Adapter::Attributes (30.99ms)
Completed 201 Created in 34ms (Views: 23.2ms | ActiveRecord: 8.8ms | Allocations: 6123)


[active_model_serializers]   [1m[36mDiscount Load (0.5ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.8ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.6ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (7.1ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (3.0ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.5ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.1ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.1ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (118.84ms)
Completed 200 OK in 131ms (Views: 112.6ms | ActiveRecord: 17.6ms | Allocations: 23810)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:15:57 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (1.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (3.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.9ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (5.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (36.01ms)
Completed 201 Created in 44ms (Views: 29.6ms | ActiveRecord: 11.8ms | Allocations: 5628)


Started PATCH "/carts/1" for 127.0.0.1 at 2023-07-01 11:15:57 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"1"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (4.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (6.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (13.32ms)
Completed 200 OK in 37ms (Views: 8.6ms | ActiveRecord: 13.6ms | Allocations: 3682)


Started PATCH "/carts/2" for 127.0.0.1 at 2023-07-01 11:15:57 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"2"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (8.85ms)
Completed 200 OK in 26ms (Views: 9.1ms | ActiveRecord: 2.2ms | Allocations: 3682)


Started PATCH "/carts/3" for 127.0.0.1 at 2023-07-01 11:15:57 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"3"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.8ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (4.57ms)
Completed 200 OK in 18ms (Views: 5.0ms | ActiveRecord: 1.9ms | Allocations: 3682)


Started PATCH "/carts/4" for 127.0.0.1 at 2023-07-01 11:15:57 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"4"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (7.13ms)
Completed 200 OK in 24ms (Views: 7.4ms | ActiveRecord: 3.4ms | Allocations: 3684)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:15:57 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.7ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.8ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (2.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (18.5ms)
Completed 201 Created in 28ms (Views: 18.8ms | ActiveRecord: 5.6ms | Allocations: 5625)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:15:57 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (1.1ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (1.7ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (3.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (16.72ms)
Completed 201 Created in 26ms (Views: 15.0ms | ActiveRecord: 7.4ms | Allocations: 5625)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:15:57 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (14.85ms)
Completed 201 Created in 20ms (Views: 16.8ms | ActiveRecord: 1.6ms | Allocations: 5625)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:15:57 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (14.64ms)
Completed 201 Created in 22ms (Views: 16.9ms | ActiveRecord: 2.5ms | Allocations: 5628)


Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 11:17:35 +0100
Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 11:17:35 +0100
Processing by CustomersController#logged_in as */*
Processing by BakersController#logged_in as */*
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBaker Load (0.4ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered BakerSerializer with ActiveModelSerializers::Adapter::Attributes (0.26ms)
Completed 201 Created in 3ms (Views: 0.7ms | ActiveRecord: 0.4ms | Allocations: 844)


[active_model_serializers]   [1m[36mCart Load (4.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mCustomerAddress Load (0.8ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
Started GET "/products" for 127.0.0.1 at 2023-07-01 11:17:35 +0100
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mStripeCustomer Load (3.1ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mDiscount Load (2.7ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mOrder Load (1.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers] Rendered CustomerSerializer with ActiveModelSerializers::Adapter::Attributes (24.91ms)
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
Completed 201 Created in 28ms (Views: 16.5ms | ActiveRecord: 9.7ms | Allocations: 4805)


[active_model_serializers]   [1m[36mVariantGroup Load (1.8ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (2.7ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.0ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.5ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.1ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (3.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.4ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.1ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:17:35 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
  [1m[36mCustomer Load (2.1ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (133.6ms)
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
Completed 200 OK in 137ms (Views: 122.7ms | ActiveRecord: 13.9ms | Allocations: 20807)


  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (19.6ms)
Completed 201 Created in 29ms (Views: 22.6ms | ActiveRecord: 3.4ms | Allocations: 5625)


Started PATCH "/carts/1" for 127.0.0.1 at 2023-07-01 11:17:35 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"1"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (1.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (1.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (12.91ms)
Completed 200 OK in 31ms (Views: 12.0ms | ActiveRecord: 6.9ms | Allocations: 3686)


Started PATCH "/carts/2" for 127.0.0.1 at 2023-07-01 11:17:35 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"2"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (6.72ms)
Completed 200 OK in 23ms (Views: 7.1ms | ActiveRecord: 1.8ms | Allocations: 3682)


Started PATCH "/carts/3" for 127.0.0.1 at 2023-07-01 11:17:35 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"3"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (1.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (4.54ms)
Completed 200 OK in 21ms (Views: 5.5ms | ActiveRecord: 3.0ms | Allocations: 3682)


Started PATCH "/carts/4" for 127.0.0.1 at 2023-07-01 11:17:35 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"4"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (5.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (5.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (8.83ms)
Completed 200 OK in 28ms (Views: 4.4ms | ActiveRecord: 12.1ms | Allocations: 3682)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:17:35 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (1.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (2.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.9ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (31.12ms)
Completed 201 Created in 42ms (Views: 31.0ms | ActiveRecord: 5.7ms | Allocations: 5625)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:17:35 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (1.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.8ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (19.66ms)
Completed 201 Created in 32ms (Views: 21.9ms | ActiveRecord: 4.9ms | Allocations: 5625)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:17:35 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (1.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (3.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (26.06ms)
Completed 201 Created in 37ms (Views: 23.7ms | ActiveRecord: 7.1ms | Allocations: 5625)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:17:35 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (1.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (5.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (20.93ms)
Completed 201 Created in 33ms (Views: 21.5ms | ActiveRecord: 9.6ms | Allocations: 5626)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 11:18:17 +0100
Processing by CustomersController#logged_in as */*
  [1m[36mCustomer Load (0.7ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers]   [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mCustomerAddress Load (0.3ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 11:18:17 +0100
Started GET "/products" for 127.0.0.1 at 2023-07-01 11:18:17 +0100
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
Processing by BakersController#logged_in as */*
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
  [1m[36mBaker Load (0.5ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered BakerSerializer with ActiveModelSerializers::Adapter::Attributes (0.71ms)
[active_model_serializers]   [1m[36mDiscount Load (1.3ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Completed 201 Created in 8ms (Views: 3.0ms | ActiveRecord: 0.5ms | Allocations: 843)


[active_model_serializers]   [1m[36mStripeCustomer Load (0.4ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   [1m[36mVariantGroup Load (2.7ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers] Rendered CustomerSerializer with ActiveModelSerializers::Adapter::Attributes (30.16ms)
Completed 201 Created in 34ms (Views: 29.2ms | ActiveRecord: 2.1ms | Allocations: 4812)


[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.8ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (2.7ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.7ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.1ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.4ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.1ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (126.21ms)
Completed 200 OK in 131ms (Views: 118.3ms | ActiveRecord: 12.0ms | Allocations: 20807)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:18:18 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (5.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (3.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.9ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (2.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (48.71ms)
Completed 201 Created in 63ms (Views: 47.4ms | ActiveRecord: 12.7ms | Allocations: 5625)


Started PATCH "/carts/1" for 127.0.0.1 at 2023-07-01 11:18:18 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"1"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (5.15ms)
Completed 200 OK in 24ms (Views: 5.6ms | ActiveRecord: 1.7ms | Allocations: 3682)


Started PATCH "/carts/2" for 127.0.0.1 at 2023-07-01 11:18:18 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"2"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.7ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (5.29ms)
Completed 200 OK in 23ms (Views: 6.3ms | ActiveRecord: 2.0ms | Allocations: 3682)


Started PATCH "/carts/3" for 127.0.0.1 at 2023-07-01 11:18:18 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"3"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (6.38ms)
Completed 200 OK in 18ms (Views: 6.9ms | ActiveRecord: 1.5ms | Allocations: 3682)


Started PATCH "/carts/4" for 127.0.0.1 at 2023-07-01 11:18:18 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"4"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (5.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (4.43ms)
Completed 200 OK in 20ms (Views: 4.5ms | ActiveRecord: 8.3ms | Allocations: 3682)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:18:18 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (6.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (19.42ms)
Completed 201 Created in 24ms (Views: 13.8ms | ActiveRecord: 8.5ms | Allocations: 5626)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:18:18 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (1.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (5.9ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (2.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (25.38ms)
Completed 201 Created in 34ms (Views: 21.3ms | ActiveRecord: 10.0ms | Allocations: 5626)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:18:18 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (1.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (2.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (3.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (3.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (19.87ms)
Completed 201 Created in 34ms (Views: 19.8ms | ActiveRecord: 11.1ms | Allocations: 5625)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:18:18 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (1.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (15.35ms)
Completed 201 Created in 23ms (Views: 17.8ms | ActiveRecord: 3.8ms | Allocations: 5625)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 11:19:46 +0100
Processing by CustomersController#logged_in as */*
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 11:19:46 +0100
Processing by BakersController#logged_in as */*
  [1m[36mCustomer Load (9.8ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
  [1m[36mBaker Load (1.2ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
Started GET "/products" for 127.0.0.1 at 2023-07-01 11:19:46 +0100
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
Processing by ProductsController#index as HTML
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers] Rendered BakerSerializer with ActiveModelSerializers::Adapter::Attributes (0.49ms)
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 201 Created in 18ms (Views: 1.3ms | ActiveRecord: 1.2ms | Allocations: 840)


  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCustomerAddress Load (0.5ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mDiscount Load (2.7ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mStripeCustomer Load (0.5ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mVariantGroup Load (2.2ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mOrder Load (2.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers] Rendered CustomerSerializer with ActiveModelSerializers::Adapter::Attributes (24.35ms)
Completed 201 Created in 46ms (Views: 28.0ms | ActiveRecord: 13.2ms | Allocations: 4810)


[active_model_serializers]   [1m[36mProductImage Load (0.6ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (2.6ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (3.9ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (3.2ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.1ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.2ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (129.69ms)
Completed 200 OK in 133ms (Views: 115.1ms | ActiveRecord: 17.7ms | Allocations: 20807)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:19:46 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (25.97ms)
Completed 201 Created in 36ms (Views: 26.2ms | ActiveRecord: 4.4ms | Allocations: 5626)


Started PATCH "/carts/1" for 127.0.0.1 at 2023-07-01 11:19:46 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"1"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
Started PATCH "/carts/2" for 127.0.0.1 at 2023-07-01 11:19:46 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"2"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  ↳ app/controllers/carts_controller.rb:29:in `update'
Started PATCH "/carts/3" for 127.0.0.1 at 2023-07-01 11:19:46 +0100
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"3"}
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (2.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mLineItem Load (0.9ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (14.06ms)
  [1m[36mCustomer Load (1.7ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Started PATCH "/carts/4" for 127.0.0.1 at 2023-07-01 11:19:46 +0100
  ↳ app/controllers/carts_controller.rb:29:in `update'
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"4"}
Completed 200 OK in 49ms (Views: 13.9ms | ActiveRecord: 1.9ms | Allocations: 3936)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (10.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (16.6ms)
Completed 200 OK in 43ms (Views: 7.5ms | ActiveRecord: 16.1ms | Allocations: 7017)


[active_model_serializers]   [1m[36mLineItem Load (9.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (12.98ms)
Completed 200 OK in 37ms (Views: 3.9ms | ActiveRecord: 12.1ms | Allocations: 6225)


  [1m[36mCart Load (0.9ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (4.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (1.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:19:46 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   [1m[36mLineItem Load (2.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (15.38ms)
Completed 200 OK in 66ms (Views: 13.9ms | ActiveRecord: 23.9ms | Allocations: 6761)


[active_model_serializers]   [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.9ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (37.32ms)
Completed 201 Created in 52ms (Views: 44.2ms | ActiveRecord: 4.7ms | Allocations: 5625)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:19:46 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (1.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (1.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (20.24ms)
Completed 201 Created in 32ms (Views: 21.3ms | ActiveRecord: 5.6ms | Allocations: 5625)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:19:46 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (1.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (2.0ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (3.9ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (20.75ms)
Completed 201 Created in 34ms (Views: 21.0ms | ActiveRecord: 9.3ms | Allocations: 5628)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:19:46 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (1.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (18.78ms)
Completed 201 Created in 27ms (Views: 21.1ms | ActiveRecord: 4.0ms | Allocations: 5625)


Started GET "/customers" for 127.0.0.1 at 2023-07-01 11:19:46 +0100
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
  ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers]   [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
Started GET "/variant_groups" for 127.0.0.1 at 2023-07-01 11:19:46 +0100
Started GET "/discounts" for 127.0.0.1 at 2023-07-01 11:19:46 +0100
Processing by VariantGroupsController#index as HTML
[active_model_serializers]   [1m[36mCustomerAddress Load (16.7ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
  [1m[36mVariantGroup Load (0.4ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups"[0m
[active_model_serializers]   [1m[36mStripeCustomer Load (0.4ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
Processing by DiscountsController#index as HTML
  [1m[36mDiscount Load (0.6ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts"[0m
  ↳ app/controllers/discounts_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   [1m[36mOrder Load (5.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers]   ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (42.22ms)
Completed 200 OK in 45ms (Views: 21.7ms | ActiveRecord: 22.8ms | Allocations: 5086)


[active_model_serializers]   [1m[36mVariantOption Load (0.3ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (18.59ms)
Completed 200 OK in 28ms (Views: 26.2ms | ActiveRecord: 1.6ms | Allocations: 3776)


[active_model_serializers]   [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."discount_id" = $1[0m  [["discount_id", 3]]
[active_model_serializers]   ↳ app/controllers/discounts_controller.rb:9:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (13.37ms)
Completed 200 OK in 25ms (Views: 24.0ms | ActiveRecord: 0.9ms | Allocations: 2837)


Started GET "/babel/parser/lib/index.js" for 127.0.0.1 at 2023-07-01 11:22:20 +0100
  
ActionController::RoutingError (No route matches [GET] "/babel/parser/lib/index.js"):
  
Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 11:26:23 +0100
Started GET "/products" for 127.0.0.1 at 2023-07-01 11:26:23 +0100
Processing by CustomersController#logged_in as */*
Processing by ProductsController#index as HTML
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 11:26:23 +0100
Processing by BakersController#logged_in as */*
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
  [1m[36mProduct Load (3.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mDiscount Load (0.9ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
  [1m[36mBaker Load (0.6ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCustomerAddress Load (0.6ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers] Rendered BakerSerializer with ActiveModelSerializers::Adapter::Attributes (0.42ms)
Completed 201 Created in 51ms (Views: 1.2ms | ActiveRecord: 24.8ms | Allocations: 8348)


[active_model_serializers]   [1m[36mVariantGroup Load (1.5ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mStripeCustomer Load (5.4ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mProductImage Load (1.7ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.1ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   [1m[36mProductImage Load (1.6ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered CustomerSerializer with ActiveModelSerializers::Adapter::Attributes (73.0ms)
Completed 201 Created in 91ms (Views: 66.3ms | ActiveRecord: 14.4ms | Allocations: 7664)


[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.9ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.6ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:26:23 +0100
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (123.9ms)
Completed 200 OK in 154ms (Views: 150.4ms | ActiveRecord: 27.3ms | Allocations: 27987)


  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (1.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (34.69ms)
Completed 201 Created in 80ms (Views: 41.8ms | ActiveRecord: 20.0ms | Allocations: 8490)


Started PATCH "/carts/1" for 127.0.0.1 at 2023-07-01 11:26:23 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"1"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (5.2ms)
Completed 200 OK in 27ms (Views: 5.4ms | ActiveRecord: 2.2ms | Allocations: 3685)


Started PATCH "/carts/2" for 127.0.0.1 at 2023-07-01 11:26:23 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"2"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (1.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (6.37ms)
Completed 200 OK in 31ms (Views: 7.6ms | ActiveRecord: 4.0ms | Allocations: 3682)


Started PATCH "/carts/3" for 127.0.0.1 at 2023-07-01 11:26:23 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"3"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (4.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (4.12ms)
Completed 200 OK in 20ms (Views: 4.2ms | ActiveRecord: 6.1ms | Allocations: 3712)


Started PATCH "/carts/4" for 127.0.0.1 at 2023-07-01 11:26:23 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"4"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (1.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (1.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (5.78ms)
Completed 200 OK in 19ms (Views: 4.9ms | ActiveRecord: 5.9ms | Allocations: 3689)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:26:23 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.9ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (19.66ms)
Completed 201 Created in 28ms (Views: 22.5ms | ActiveRecord: 2.6ms | Allocations: 5625)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:26:23 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (1.9ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (4.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (25.33ms)
Completed 201 Created in 40ms (Views: 21.3ms | ActiveRecord: 9.0ms | Allocations: 5625)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:26:23 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (5.0ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (3.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (5.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (20.02ms)
Completed 201 Created in 31ms (Views: 15.1ms | ActiveRecord: 14.3ms | Allocations: 5625)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:26:23 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (13.31ms)
Completed 201 Created in 20ms (Views: 14.8ms | ActiveRecord: 1.8ms | Allocations: 5625)


Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 11:26:59 +0100
Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 11:26:59 +0100
Processing by BakersController#logged_in as */*
Processing by CustomersController#logged_in as */*
  [1m[36mBaker Load (0.4ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Started GET "/products" for 127.0.0.1 at 2023-07-01 11:26:59 +0100
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
Processing by ProductsController#index as HTML
[active_model_serializers] Rendered BakerSerializer with ActiveModelSerializers::Adapter::Attributes (0.3ms)
Completed 201 Created in 4ms (Views: 1.0ms | ActiveRecord: 0.4ms | Allocations: 849)


  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (0.5ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   [1m[36mVariantGroup Load (0.3ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.1ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCustomerAddress Load (1.2ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mStripeCustomer Load (0.7ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.2ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mOrder Load (1.8ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   [1m[36mProductImage Load (0.5ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers] Rendered CustomerSerializer with ActiveModelSerializers::Adapter::Attributes (29.29ms)
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
Completed 201 Created in 37ms (Views: 26.2ms | ActiveRecord: 4.3ms | Allocations: 4816)


[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (7.7ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (6.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (2.9ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (143.67ms)
Completed 200 OK in 150ms (Views: 129.2ms | ActiveRecord: 20.6ms | Allocations: 20819)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:26:59 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.7ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (2.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (5.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (26.24ms)
Completed 201 Created in 47ms (Views: 35.0ms | ActiveRecord: 9.3ms | Allocations: 5626)


Started PATCH "/carts/1" for 127.0.0.1 at 2023-07-01 11:26:59 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"1"}
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (1.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (7.64ms)
Completed 200 OK in 34ms (Views: 8.9ms | ActiveRecord: 3.4ms | Allocations: 3682)


Started PATCH "/carts/2" for 127.0.0.1 at 2023-07-01 11:26:59 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"2"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (1.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (10.16ms)
Completed 200 OK in 27ms (Views: 10.2ms | ActiveRecord: 3.1ms | Allocations: 3682)


Started PATCH "/carts/3" for 127.0.0.1 at 2023-07-01 11:26:59 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"3"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (2.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
Started PATCH "/carts/4" for 127.0.0.1 at 2023-07-01 11:26:59 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"4"}
[active_model_serializers]   [1m[36mLineItem Load (2.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[31mUnpermitted parameter: :id[0m
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (7.77ms)
Completed 200 OK in 26ms (Views: 5.9ms | ActiveRecord: 7.0ms | Allocations: 3682)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (2.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (3.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (8.22ms)
Completed 200 OK in 26ms (Views: 5.4ms | ActiveRecord: 6.6ms | Allocations: 3683)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:26:59 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (16.04ms)
Completed 201 Created in 27ms (Views: 16.7ms | ActiveRecord: 2.5ms | Allocations: 5625)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:26:59 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (4.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (2.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (2.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (2.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (20.76ms)
Completed 201 Created in 30ms (Views: 14.8ms | ActiveRecord: 13.5ms | Allocations: 5625)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:26:59 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (4.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (28.95ms)
Completed 201 Created in 34ms (Views: 24.3ms | ActiveRecord: 8.1ms | Allocations: 5626)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:26:59 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (23.55ms)
Completed 201 Created in 37ms (Views: 32.8ms | ActiveRecord: 1.6ms | Allocations: 5626)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 11:27:28 +0100
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 11:27:28 +0100
Processing by CustomersController#logged_in as */*
Processing by BakersController#logged_in as */*
  [1m[36mBaker Load (0.4ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Started GET "/products" for 127.0.0.1 at 2023-07-01 11:27:28 +0100
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
Processing by ProductsController#index as HTML
[active_model_serializers] Rendered BakerSerializer with ActiveModelSerializers::Adapter::Attributes (0.28ms)
Completed 201 Created in 4ms (Views: 0.9ms | ActiveRecord: 0.4ms | Allocations: 851)


  [1m[36mCustomer Load (3.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCart Load (2.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mDiscount Load (3.5ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (1.3ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCustomerAddress Load (2.4ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mProductImage Load (1.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mStripeCustomer Load (4.7ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mOrder Load (2.9ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers] Rendered CustomerSerializer with ActiveModelSerializers::Adapter::Attributes (67.19ms)
Completed 201 Created in 77ms (Views: 55.5ms | ActiveRecord: 15.9ms | Allocations: 10940)


[active_model_serializers]   [1m[36mProductImage Load (8.8ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.6ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.7ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.5ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (141.19ms)
Completed 200 OK in 151ms (Views: 132.1ms | ActiveRecord: 18.5ms | Allocations: 25837)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:27:28 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (1.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.9ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (2.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (6.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (33.34ms)
Completed 201 Created in 78ms (Views: 29.2ms | ActiveRecord: 26.6ms | Allocations: 8470)


Started PATCH "/carts/1" for 127.0.0.1 at 2023-07-01 11:27:28 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"1"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (1.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (6.2ms)
Completed 200 OK in 23ms (Views: 6.9ms | ActiveRecord: 3.0ms | Allocations: 3682)


Started PATCH "/carts/2" for 127.0.0.1 at 2023-07-01 11:27:28 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"2"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (3.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (2.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (7.49ms)
Completed 200 OK in 26ms (Views: 6.7ms | ActiveRecord: 9.4ms | Allocations: 3682)


Started PATCH "/carts/3" for 127.0.0.1 at 2023-07-01 11:27:28 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"3"}
  [1m[36mCart Load (3.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (1.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (3.57ms)
Completed 200 OK in 21ms (Views: 3.0ms | ActiveRecord: 5.6ms | Allocations: 3682)


Started PATCH "/carts/4" for 127.0.0.1 at 2023-07-01 11:27:28 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"4"}
  [1m[36mCart Load (1.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (1.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (2.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (9.88ms)
Completed 200 OK in 30ms (Views: 8.9ms | ActiveRecord: 8.2ms | Allocations: 3712)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:27:28 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (29.14ms)
Completed 201 Created in 39ms (Views: 33.3ms | ActiveRecord: 3.5ms | Allocations: 5628)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:27:28 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (21.31ms)
Completed 201 Created in 31ms (Views: 25.7ms | ActiveRecord: 3.2ms | Allocations: 5626)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:27:28 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (2.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (4.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (3.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (4.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (4.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (29.13ms)
Completed 201 Created in 49ms (Views: 21.7ms | ActiveRecord: 18.9ms | Allocations: 5625)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:27:28 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (1.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.9ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (3.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (29.58ms)
Completed 201 Created in 47ms (Views: 32.4ms | ActiveRecord: 9.2ms | Allocations: 5625)


Started GET "/variant_groups" for 127.0.0.1 at 2023-07-01 13:44:43 +0100
Processing by VariantGroupsController#index as HTML
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 13:44:43 +0100
Processing by BakersController#logged_in as */*
  [1m[36mVariantGroup Load (0.6ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups"[0m
  ↳ app/controllers/variant_groups_controller.rb:8:in `index'
Started GET "/products" for 127.0.0.1 at 2023-07-01 13:44:43 +0100
Processing by ProductsController#index as HTML
[active_model_serializers]   [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.7ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
  [1m[36mBaker Load (0.6ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered BakerSerializer with ActiveModelSerializers::Adapter::Attributes (0.37ms)
Completed 201 Created in 29ms (Views: 1.1ms | ActiveRecord: 7.3ms | Allocations: 9621)


[active_model_serializers]   ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (27.93ms)
Completed 200 OK in 48ms (Views: 47.2ms | ActiveRecord: 15.1ms | Allocations: 14215)


  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (2.4ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.4ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.1ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.4ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (180.55ms)
Completed 200 OK in 212ms (Views: 184.4ms | ActiveRecord: 27.8ms | Allocations: 29375)


Started GET "/discounts" for 127.0.0.1 at 2023-07-01 13:44:44 +0100
Started GET "/customers" for 127.0.0.1 at 2023-07-01 13:44:44 +0100
Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 13:44:44 +0100
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DiscountsController#index as HTML
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mDiscount Load (0.5ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts"[0m
  ↳ app/controllers/discounts_controller.rb:9:in `index'
Processing by CustomersController#index as HTML
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[active_model_serializers]   [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."discount_id" = $1[0m  [["discount_id", 3]]
[active_model_serializers]   ↳ app/controllers/discounts_controller.rb:9:in `index'
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
  ↳ app/controllers/customers_controller.rb:49:in `index'
Processing by CustomersController#logged_in as */*
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (28.45ms)
Completed 200 OK in 50ms (Views: 35.6ms | ActiveRecord: 8.0ms | Allocations: 19889)


  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers]   [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers]   [1m[36mCart Load (2.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mCustomerAddress Load (0.3ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers]   [1m[36mStripeCustomer Load (0.3ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers]   [1m[36mCustomerAddress Load (0.4ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers]   [1m[36mStripeCustomer Load (0.4ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (88.96ms)
Completed 200 OK in 125ms (Views: 77.6ms | ActiveRecord: 34.2ms | Allocations: 28472)


[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers] Rendered CustomerSerializer with ActiveModelSerializers::Adapter::Attributes (84.84ms)
Completed 201 Created in 122ms (Views: 72.0ms | ActiveRecord: 20.9ms | Allocations: 28311)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 13:44:44 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (3.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (17.01ms)
Completed 201 Created in 31ms (Views: 15.9ms | ActiveRecord: 7.8ms | Allocations: 7305)


Started PATCH "/carts/1" for 127.0.0.1 at 2023-07-01 13:44:44 +0100
Started PATCH "/carts/2" for 127.0.0.1 at 2023-07-01 13:44:44 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"1"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"2"}
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
Started PATCH "/carts/3" for 127.0.0.1 at 2023-07-01 13:44:44 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"3"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
[31mUnpermitted parameter: :id[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
Started PATCH "/carts/4" for 127.0.0.1 at 2023-07-01 13:44:44 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"4"}
  [1m[36mTRANSACTION (5.8ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (5.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
  [1m[36mCustomer Load (1.1ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (9.43ms)
  ↳ app/controllers/carts_controller.rb:29:in `update'
Completed 200 OK in 30ms (Views: 5.1ms | ActiveRecord: 6.1ms | Allocations: 4267)


  [1m[36mCart Load (1.0ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 13:44:44 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
  [1m[36mTRANSACTION (12.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
  [1m[36mTRANSACTION (21.3ms)[0m  [1m[35mCOMMIT[0m
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
[active_model_serializers]   [1m[36mLineItem Load (1.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[31mUnpermitted parameter: :id[0m
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (3.13ms)
Completed 200 OK in 36ms (Views: 3.1ms | ActiveRecord: 16.6ms | Allocations: 5850)


[active_model_serializers]   [1m[36mLineItem Load (3.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (12.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (17.0ms)
Completed 200 OK in 58ms (Views: 5.2ms | ActiveRecord: 40.7ms | Allocations: 8141)


[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (23.87ms)
Completed 201 Created in 30ms (Views: 22.0ms | ActiveRecord: 5.7ms | Allocations: 5649)


  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 13:44:44 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (2.1ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCart Load (2.8ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (3.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (9.38ms)
Completed 200 OK in 101ms (Views: 9.3ms | ActiveRecord: 23.2ms | Allocations: 17035)


[active_model_serializers]   [1m[36mLineItem Load (1.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (21.2ms)
Completed 201 Created in 30ms (Views: 18.1ms | ActiveRecord: 10.3ms | Allocations: 5649)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 13:44:44 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (2.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (10.4ms)
Completed 201 Created in 18ms (Views: 12.9ms | ActiveRecord: 3.7ms | Allocations: 5625)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 13:44:44 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (10.84ms)
Completed 201 Created in 17ms (Views: 12.4ms | ActiveRecord: 1.8ms | Allocations: 5628)


Started GET "/products" for 127.0.0.1 at 2023-07-01 13:45:41 +0100
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (0.3ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.3ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.3ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (58.46ms)
Completed 200 OK in 64ms (Views: 60.8ms | ActiveRecord: 3.2ms | Allocations: 20806)


Started GET "/customers" for 127.0.0.1 at 2023-07-01 13:52:49 +0100
Processing by CustomersController#index as HTML
Started GET "/variant_groups" for 127.0.0.1 at 2023-07-01 13:52:49 +0100
Started GET "/discounts" for 127.0.0.1 at 2023-07-01 13:52:49 +0100
Processing by DiscountsController#index as HTML
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
  ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers]   [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
Processing by VariantGroupsController#index as HTML
[active_model_serializers]   [1m[36mCustomerAddress Load (0.4ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 13:52:49 +0100
[active_model_serializers]   [1m[36mStripeCustomer Load (0.4ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers]   [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (17.31ms)
Completed 200 OK in 43ms (Views: 42.4ms | ActiveRecord: 17.0ms | Allocations: 7895)


Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 13:52:49 +0100
  [1m[36mVariantGroup Load (0.8ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups"[0m
  ↳ app/controllers/variant_groups_controller.rb:8:in `index'
Started GET "/products" for 127.0.0.1 at 2023-07-01 13:52:49 +0100
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (0.4ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mDiscount Load (0.7ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts"[0m
  ↳ app/controllers/discounts_controller.rb:9:in `index'
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.3ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Processing by BakersController#logged_in as */*
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
Processing by CustomersController#logged_in as */*
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProduct Load (1.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."discount_id" = $1[0m  [["discount_id", 3]]
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/discounts_controller.rb:9:in `index'
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (18.3ms)
Completed 200 OK in 82ms (Views: 81.8ms | ActiveRecord: 62.2ms | Allocations: 8886)


[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.5ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
  [1m[36mCustomer Load (0.8ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
  [1m[36mBaker Load (0.7ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers]   [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mVariantOption Load (0.4ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered BakerSerializer with ActiveModelSerializers::Adapter::Attributes (0.52ms)
Completed 201 Created in 56ms (Views: 1.8ms | ActiveRecord: 13.3ms | Allocations: 7433)


[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCustomerAddress Load (0.3ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mStripeCustomer Load (0.3ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers] Rendered CustomerSerializer with ActiveModelSerializers::Adapter::Attributes (42.54ms)
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
Completed 201 Created in 82ms (Views: 31.9ms | ActiveRecord: 23.4ms | Allocations: 14700)


[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.5ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (111.21ms)
[active_model_serializers]   ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (100.76ms)
Completed 200 OK in 159ms (Views: 151.6ms | ActiveRecord: 35.3ms | Allocations: 17683)


Completed 200 OK in 121ms (Views: 116.4ms | ActiveRecord: 3.8ms | Allocations: 20819)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 13:52:50 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (26.15ms)
Completed 201 Created in 35ms (Views: 28.4ms | ActiveRecord: 3.6ms | Allocations: 5631)


Started PATCH "/carts/1" for 127.0.0.1 at 2023-07-01 13:52:50 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"1"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
Started PATCH "/carts/2" for 127.0.0.1 at 2023-07-01 13:52:50 +0100
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"2"}
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (1.1ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (5.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (3.16ms)
Completed 200 OK in 29ms (Views: 3.3ms | ActiveRecord: 7.3ms | Allocations: 3685)


[active_model_serializers]   [1m[36mLineItem Load (3.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (9.78ms)
Completed 200 OK in 47ms (Views: 7.4ms | ActiveRecord: 4.5ms | Allocations: 3692)


Started PATCH "/carts/3" for 127.0.0.1 at 2023-07-01 13:52:50 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"3"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
Started PATCH "/carts/4" for 127.0.0.1 at 2023-07-01 13:52:50 +0100
[active_model_serializers]   [1m[36mLineItem Load (1.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"4"}
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (4.37ms)
Completed 200 OK in 12ms (Views: 3.6ms | ActiveRecord: 2.2ms | Allocations: 3693)


  [1m[36mCart Load (0.8ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 13:52:50 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (1.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.9ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (14.68ms)
Completed 200 OK in 31ms (Views: 10.5ms | ActiveRecord: 6.8ms | Allocations: 5850)


[active_model_serializers]   [1m[36mLineItem Load (3.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (16.02ms)
Completed 201 Created in 23ms (Views: 13.2ms | ActiveRecord: 6.8ms | Allocations: 5625)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 13:52:50 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (1.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (4.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (18.74ms)
Completed 201 Created in 27ms (Views: 17.4ms | ActiveRecord: 6.6ms | Allocations: 5625)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 13:52:50 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (10.47ms)
Completed 201 Created in 16ms (Views: 11.8ms | ActiveRecord: 1.7ms | Allocations: 5722)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 13:52:50 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (3.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (15.68ms)
Completed 201 Created in 26ms (Views: 17.3ms | ActiveRecord: 4.8ms | Allocations: 5710)


Started GET "/discounts" for 127.0.0.1 at 2023-07-01 13:52:58 +0100
Processing by DiscountsController#index as HTML
  [1m[36mDiscount Load (0.4ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts"[0m
  ↳ app/controllers/discounts_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."discount_id" = $1[0m  [["discount_id", 3]]
[active_model_serializers]   ↳ app/controllers/discounts_controller.rb:9:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (14.15ms)
Completed 200 OK in 39ms (Views: 26.3ms | ActiveRecord: 10.2ms | Allocations: 12669)


Started GET "/products" for 127.0.0.1 at 2023-07-01 13:55:48 +0100
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (0.6ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (1.3ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.9ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.6ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.3ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.1ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.1ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (83.78ms)
Completed 200 OK in 87ms (Views: 80.8ms | ActiveRecord: 6.1ms | Allocations: 20806)


Started GET "/products" for 127.0.0.1 at 2023-07-01 13:56:15 +0100
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (0.3ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.4ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.3ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (82.77ms)
Completed 200 OK in 89ms (Views: 77.4ms | ActiveRecord: 10.8ms | Allocations: 29496)


Started GET "/products" for 127.0.0.1 at 2023-07-01 13:56:48 +0100
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (0.4ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.5ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.2ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (97.66ms)
Completed 200 OK in 102ms (Views: 87.8ms | ActiveRecord: 14.1ms | Allocations: 28379)


Started GET "/discounts" for 127.0.0.1 at 2023-07-01 13:58:04 +0100
Processing by DiscountsController#index as HTML
  [1m[36mDiscount Load (0.2ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts"[0m
  ↳ app/controllers/discounts_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."discount_id" = $1[0m  [["discount_id", 3]]
[active_model_serializers]   ↳ app/controllers/discounts_controller.rb:9:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (7.92ms)
Completed 200 OK in 11ms (Views: 10.0ms | ActiveRecord: 0.6ms | Allocations: 2837)


Started GET "/products" for 127.0.0.1 at 2023-07-01 14:01:16 +0100
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (0.3ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (1.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.8ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.1ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (2.8ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (2.2ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (96.58ms)
Completed 200 OK in 100ms (Views: 89.1ms | ActiveRecord: 11.0ms | Allocations: 20807)


Started GET "/customers" for 127.0.0.1 at 2023-07-01 14:08:09 +0100
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (0.8ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
  ↳ app/controllers/customers_controller.rb:49:in `index'
Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 14:08:09 +0100
Processing by CustomersController#logged_in as */*
[active_model_serializers]   [1m[36mCart Load (3.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 14:08:09 +0100
Started GET "/discounts" for 127.0.0.1 at 2023-07-01 14:08:09 +0100
Processing by DiscountsController#index as HTML
Processing by BakersController#logged_in as */*
Started GET "/products" for 127.0.0.1 at 2023-07-01 14:08:09 +0100
Started GET "/variant_groups" for 127.0.0.1 at 2023-07-01 14:08:09 +0100
Processing by ProductsController#index as HTML
Processing by VariantGroupsController#index as HTML
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
  [1m[36mVariantGroup Load (0.9ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups"[0m
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
  ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCart Load (1.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   [1m[36mCustomerAddress Load (0.4ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
  [1m[36mBaker Load (5.7ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
  [1m[36mProduct Load (1.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
  [1m[36mDiscount Load (0.6ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts"[0m
[active_model_serializers]   [1m[36mStripeCustomer Load (0.3ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/discounts_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers]   [1m[36mCustomerAddress Load (0.4ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers] Rendered BakerSerializer with ActiveModelSerializers::Adapter::Attributes (0.57ms)
Completed 201 Created in 85ms (Views: 10.0ms | ActiveRecord: 25.5ms | Allocations: 7411)


[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mDiscount Load (0.3ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mOrder Load (5.8ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."discount_id" = $1[0m  [["discount_id", 3]]
[active_model_serializers]   ↳ app/controllers/discounts_controller.rb:9:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (114.93ms)
Completed 200 OK in 133ms (Views: 132.4ms | ActiveRecord: 16.4ms | Allocations: 14439)


[active_model_serializers]   [1m[36mStripeCustomer Load (2.0ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (24.67ms)
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mVariantGroup Load (4.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mVariantOption Load (4.3ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   [1m[36mOrder Load (2.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
Completed 200 OK in 99ms (Views: 97.5ms | ActiveRecord: 22.8ms | Allocations: 15492)


[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers] Rendered CustomerSerializer with ActiveModelSerializers::Adapter::Attributes (70.27ms)
[active_model_serializers]   ↳ app/controllers/variant_groups_controller.rb:8:in `index'
Completed 201 Created in 131ms (Views: 64.9ms | ActiveRecord: 16.2ms | Allocations: 12101)


[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (68.97ms)
Completed 200 OK in 106ms (Views: 105.7ms | ActiveRecord: 25.1ms | Allocations: 16015)


[active_model_serializers]   [1m[36mProductImage Load (4.1ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (5.0ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (3.8ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.7ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.3ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.1ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (140.04ms)
Completed 200 OK in 193ms (Views: 192.2ms | ActiveRecord: 39.7ms | Allocations: 35084)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 14:08:09 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (1.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (16.42ms)
Completed 201 Created in 24ms (Views: 17.4ms | ActiveRecord: 4.0ms | Allocations: 5726)


Started PATCH "/carts/1" for 127.0.0.1 at 2023-07-01 14:08:09 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"1"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (2.7ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (2.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
Started PATCH "/carts/2" for 127.0.0.1 at 2023-07-01 14:08:09 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"2"}
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (6.26ms)
  [1m[36mCart Load (1.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 23ms (Views: 5.8ms | ActiveRecord: 6.1ms | Allocations: 3698)


  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (3.92ms)
Completed 200 OK in 18ms (Views: 4.1ms | ActiveRecord: 3.5ms | Allocations: 3712)


Started PATCH "/carts/3" for 127.0.0.1 at 2023-07-01 14:08:10 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"3"}
  [1m[36mCart Load (0.9ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (1.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (3.77ms)
Completed 200 OK in 20ms (Views: 3.5ms | ActiveRecord: 3.1ms | Allocations: 3683)


Started PATCH "/carts/4" for 127.0.0.1 at 2023-07-01 14:08:10 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"4"}
  [1m[36mCart Load (0.9ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (2.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 14:08:10 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
[active_model_serializers]   [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (3.78ms)
Completed 200 OK in 22ms (Views: 3.8ms | ActiveRecord: 5.6ms | Allocations: 3682)


  [1m[36mCustomer Load (1.8ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (16.97ms)
Completed 201 Created in 31ms (Views: 20.9ms | ActiveRecord: 3.5ms | Allocations: 5629)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 14:08:10 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (1.0ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (4.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (21.2ms)
Completed 201 Created in 30ms (Views: 20.6ms | ActiveRecord: 6.8ms | Allocations: 5625)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 14:08:10 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (16.74ms)
Completed 201 Created in 24ms (Views: 19.2ms | ActiveRecord: 1.9ms | Allocations: 5711)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 14:08:10 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (1.0ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (2.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (20.42ms)
Completed 201 Created in 30ms (Views: 22.0ms | ActiveRecord: 5.0ms | Allocations: 5626)


Started GET "/products" for 127.0.0.1 at 2023-07-01 14:08:27 +0100
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (2.6ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (0.4ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.3ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.8ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.6ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.1ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (67.22ms)
Completed 200 OK in 85ms (Views: 85.1ms | ActiveRecord: 12.4ms | Allocations: 23632)


Started GET "/discounts" for 127.0.0.1 at 2023-07-01 14:08:31 +0100
Processing by DiscountsController#index as HTML
  [1m[36mDiscount Load (0.3ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts"[0m
  ↳ app/controllers/discounts_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."discount_id" = $1[0m  [["discount_id", 3]]
[active_model_serializers]   ↳ app/controllers/discounts_controller.rb:9:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (9.94ms)
Completed 200 OK in 14ms (Views: 12.5ms | ActiveRecord: 1.1ms | Allocations: 2542)


Started GET "/products" for 127.0.0.1 at 2023-07-01 14:08:43 +0100
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (0.4ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (1.5ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.6ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.9ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.9ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.3ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (82.06ms)
Completed 200 OK in 86ms (Views: 78.5ms | ActiveRecord: 6.7ms | Allocations: 20806)


Started DELETE "/customer-logout" for 127.0.0.1 at 2023-07-01 14:09:19 +0100
Processing by CustomersController#logout as */*
Completed 204 No Content in 3ms (ActiveRecord: 0.0ms | Allocations: 182)


Started DELETE "/baker-logout" for 127.0.0.1 at 2023-07-01 14:09:24 +0100
Processing by BakersController#logout as */*
Completed 204 No Content in 3ms (ActiveRecord: 0.0ms | Allocations: 181)


Started GET "/babel/parser/lib/index.js" for 127.0.0.1 at 2023-07-01 14:19:21 +0100
  
ActionController::RoutingError (No route matches [GET] "/babel/parser/lib/index.js"):
  
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 19:05:02 +0100
Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 19:05:02 +0100
Started GET "/products" for 127.0.0.1 at 2023-07-01 19:05:02 +0100
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by BakersController#logged_in as */*
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mBaker Load (0.2ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.1ms)
Completed 201 Created in 18ms (Views: 2.0ms | ActiveRecord: 1.8ms | Allocations: 5158)


Processing by ProductsController#index as HTML
Processing by CustomersController#logged_in as */*
  [1m[36mProduct Load (10.6ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (0.4ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
  [1m[36mCustomer Load (1.9ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.07ms)
Completed 201 Created in 51ms (Views: 1.6ms | ActiveRecord: 21.2ms | Allocations: 22152)


[active_model_serializers]   [1m[36mVariantGroup Load (1.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.3ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (87.14ms)
Completed 200 OK in 128ms (Views: 85.3ms | ActiveRecord: 29.0ms | Allocations: 54838)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 19:11:27 +0100
Started GET "/products" for 127.0.0.1 at 2023-07-01 19:11:27 +0100
Processing by ProductsController#index as HTML
Processing by CustomersController#logged_in as */*
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.06ms)
Completed 201 Created in 78ms (Views: 0.5ms | ActiveRecord: 8.8ms | Allocations: 18530)


[active_model_serializers]   [1m[36mDiscount Load (0.6ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.4ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.8ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (6.6ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (6.7ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (7.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (1.3ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (205.18ms)
Completed 200 OK in 281ms (Views: 255.9ms | ActiveRecord: 67.3ms | Allocations: 55334)


Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 19:11:27 +0100
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by BakersController#logged_in as */*
  [1m[36mBaker Load (0.4ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.13ms)
Completed 201 Created in 20ms (Views: 2.9ms | ActiveRecord: 2.6ms | Allocations: 5159)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 19:17:03 +0100
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 19:17:03 +0100
Processing by BakersController#logged_in as */*
Started GET "/products" for 127.0.0.1 at 2023-07-01 19:17:03 +0100
Processing by ProductsController#index as HTML
  [1m[36mBaker Load (0.4ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (0.4ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Processing by CustomersController#logged_in as */*
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.4ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.1ms)
Completed 201 Created in 32ms (Views: 12.0ms | ActiveRecord: 6.4ms | Allocations: 5226)


[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.5ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
  [1m[36mCustomer Load (1.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.06ms)
Completed 201 Created in 29ms (Views: 0.5ms | ActiveRecord: 3.6ms | Allocations: 5385)


[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (4.3ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (86.83ms)
Completed 200 OK in 105ms (Views: 104.7ms | ActiveRecord: 14.9ms | Allocations: 23640)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 19:20:12 +0100
Processing by CustomersController#logged_in as */*
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.06ms)
Completed 201 Created in 4ms (Views: 0.6ms | ActiveRecord: 0.4ms | Allocations: 882)


Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 19:20:12 +0100
Started GET "/products" for 127.0.0.1 at 2023-07-01 19:20:12 +0100
Processing by ProductsController#index as HTML
Processing by BakersController#logged_in as */*
  [1m[36mProduct Load (2.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
  [1m[36mBaker Load (3.4ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers]   [1m[36mDiscount Load (0.4ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.06ms)
Completed 201 Created in 8ms (Views: 0.6ms | ActiveRecord: 3.4ms | Allocations: 877)


[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.6ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.5ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.5ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.4ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (84.57ms)
Completed 200 OK in 91ms (Views: 84.4ms | ActiveRecord: 6.0ms | Allocations: 20874)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 19:21:34 +0100
Processing by CustomersController#logged_in as */*
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 19:21:34 +0100
Processing by BakersController#logged_in as */*
Started GET "/products" for 127.0.0.1 at 2023-07-01 19:21:34 +0100
Processing by ProductsController#index as HTML
  [1m[36mCustomer Load (1.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.06ms)
Completed 201 Created in 10ms (Views: 0.5ms | ActiveRecord: 1.6ms | Allocations: 2408)


  [1m[36mBaker Load (0.8ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.06ms)
Completed 201 Created in 15ms (Views: 0.6ms | ActiveRecord: 6.2ms | Allocations: 3616)


  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (0.4ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.4ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.7ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (2.8ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.0ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.5ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.5ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.4ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.1ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (108.9ms)
Completed 200 OK in 130ms (Views: 113.3ms | ActiveRecord: 16.3ms | Allocations: 24586)


Started GET "/babel/parser/lib/index.js" for 127.0.0.1 at 2023-07-01 20:06:23 +0100
  
ActionController::RoutingError (No route matches [GET] "/babel/parser/lib/index.js"):
  
Started GET "/babel/parser/lib/index.js" for 127.0.0.1 at 2023-07-01 20:06:25 +0100
  
ActionController::RoutingError (No route matches [GET] "/babel/parser/lib/index.js"):
  
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 20:06:37 +0100
Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 20:06:37 +0100
Processing by BakersController#logged_in as */*
Processing by CustomersController#logged_in as */*
  [1m[36mBaker Load (0.3ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.08ms)
Completed 201 Created in 14ms (Views: 0.5ms | ActiveRecord: 5.1ms | Allocations: 3649)


Started GET "/products" for 127.0.0.1 at 2023-07-01 20:06:37 +0100
Processing by ProductsController#index as HTML
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.06ms)
Completed 201 Created in 22ms (Views: 0.6ms | ActiveRecord: 8.6ms | Allocations: 3626)


  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (0.3ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.3ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.5ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.5ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (62.66ms)
Completed 200 OK in 76ms (Views: 75.4ms | ActiveRecord: 8.5ms | Allocations: 23631)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 20:17:09 +0100
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 20:17:09 +0100
Processing by BakersController#logged_in as */*
Processing by CustomersController#logged_in as */*
Started GET "/products" for 127.0.0.1 at 2023-07-01 20:17:09 +0100
Processing by ProductsController#index as HTML
  [1m[36mBaker Load (1.7ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.1ms)
Completed 201 Created in 26ms (Views: 1.1ms | ActiveRecord: 13.8ms | Allocations: 3622)


  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.1ms)
Completed 201 Created in 35ms (Views: 1.0ms | ActiveRecord: 8.2ms | Allocations: 3612)


  [1m[36mProduct Load (1.9ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (0.5ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (1.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (2.5ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.0ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (4.7ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.1ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.7ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (4.2ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (108.7ms)
Completed 200 OK in 133ms (Views: 132.8ms | ActiveRecord: 29.8ms | Allocations: 23613)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 20:19:58 +0100
Processing by CustomersController#logged_in as */*
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.05ms)
Completed 201 Created in 3ms (Views: 0.5ms | ActiveRecord: 0.3ms | Allocations: 870)


Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 20:19:58 +0100
Started GET "/products" for 127.0.0.1 at 2023-07-01 20:19:58 +0100
Processing by BakersController#logged_in as */*
Processing by ProductsController#index as HTML
  [1m[36mBaker Load (0.5ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.04ms)
Completed 201 Created in 13ms (Views: 5.8ms | ActiveRecord: 0.5ms | Allocations: 847)


  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (0.3ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.6ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.6ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.3ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (64.01ms)
Completed 200 OK in 86ms (Views: 85.5ms | ActiveRecord: 12.0ms | Allocations: 23615)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 20:20:00 +0100
Processing by CustomersController#logged_in as */*
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 20:20:00 +0100
Processing by BakersController#logged_in as */*
Started GET "/products" for 127.0.0.1 at 2023-07-01 20:20:00 +0100
Processing by ProductsController#index as HTML
  [1m[36mBaker Load (0.6ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCustomer Load (1.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.06ms)
Completed 201 Created in 11ms (Views: 0.5ms | ActiveRecord: 1.6ms | Allocations: 861)


[active_model_serializers]   [1m[36mDiscount Load (0.3ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.06ms)
Completed 201 Created in 7ms (Views: 0.5ms | ActiveRecord: 0.6ms | Allocations: 856)


[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.4ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (4.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.1ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.3ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (77.25ms)
Completed 200 OK in 80ms (Views: 72.8ms | ActiveRecord: 7.2ms | Allocations: 20808)


Started GET "/babel/parser/lib/index.js" for 127.0.0.1 at 2023-07-01 20:21:08 +0100
  
ActionController::RoutingError (No route matches [GET] "/babel/parser/lib/index.js"):
  
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 20:21:10 +0100
Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 20:21:10 +0100
Processing by CustomersController#logged_in as */*
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.06ms)
Completed 201 Created in 8ms (Views: 1.7ms | ActiveRecord: 0.6ms | Allocations: 854)


Processing by BakersController#logged_in as */*
Started GET "/products" for 127.0.0.1 at 2023-07-01 20:21:10 +0100
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
  [1m[36mBaker Load (0.5ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers]   [1m[36mDiscount Load (0.3ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.19ms)
Completed 201 Created in 11ms (Views: 1.2ms | ActiveRecord: 4.0ms | Allocations: 1833)


[active_model_serializers]   [1m[36mVariantGroup Load (0.4ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.6ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.1ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.4ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (72.14ms)
Completed 200 OK in 76ms (Views: 72.3ms | ActiveRecord: 3.3ms | Allocations: 20831)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 20:21:27 +0100
Processing by CustomersController#logged_in as */*
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.06ms)
Completed 201 Created in 5ms (Views: 0.6ms | ActiveRecord: 0.6ms | Allocations: 855)


Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 20:21:27 +0100
Processing by BakersController#logged_in as */*
Started GET "/products" for 127.0.0.1 at 2023-07-01 20:21:27 +0100
  [1m[36mBaker Load (0.3ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.07ms)
Completed 201 Created in 9ms (Views: 1.6ms | ActiveRecord: 0.3ms | Allocations: 1736)


Processing by ProductsController#index as HTML
  [1m[36mProduct Load (1.8ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (0.3ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.3ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.9ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (1.2ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (161.01ms)
Completed 200 OK in 208ms (Views: 169.7ms | ActiveRecord: 29.7ms | Allocations: 42829)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 20:24:50 +0100
Processing by CustomersController#logged_in as */*
Started GET "/products" for 127.0.0.1 at 2023-07-01 20:24:50 +0100
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 20:24:50 +0100
  [1m[36mCustomer Load (2.8ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Processing by BakersController#logged_in as */*
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
Processing by ProductsController#index as HTML
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.07ms)
Completed 201 Created in 11ms (Views: 0.7ms | ActiveRecord: 2.8ms | Allocations: 848)


  [1m[36mProduct Load (2.6ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (1.2ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (1.2ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.1ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.1ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
  [1m[36mBaker Load (3.2ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers]   [1m[36mCACHE Discount Load (0.1ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.06ms)
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Completed 201 Created in 60ms (Views: 2.4ms | ActiveRecord: 26.1ms | Allocations: 10834)


[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.8ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.9ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.8ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.5ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.1ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (121.06ms)
Completed 200 OK in 133ms (Views: 122.5ms | ActiveRecord: 9.9ms | Allocations: 24725)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 20:34:03 +0100
Started GET "/products" for 127.0.0.1 at 2023-07-01 20:34:03 +0100
Processing by CustomersController#logged_in as */*
Processing by ProductsController#index as HTML
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 20:34:03 +0100
Processing by BakersController#logged_in as */*
  [1m[36mCustomer Load (3.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.04ms)
Completed 201 Created in 22ms (Views: 0.3ms | ActiveRecord: 10.5ms | Allocations: 3625)


  [1m[36mProduct Load (1.8ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
  [1m[36mBaker Load (5.6ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.04ms)
Completed 201 Created in 35ms (Views: 1.6ms | ActiveRecord: 18.3ms | Allocations: 6751)


[active_model_serializers]   [1m[36mDiscount Load (0.8ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.3ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.8ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (79.12ms)
Completed 200 OK in 113ms (Views: 113.1ms | ActiveRecord: 16.4ms | Allocations: 27996)


Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 20:34:03 +0100
Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 20:34:03 +0100
Processing by BakersController#logged_in as */*
Processing by CustomersController#logged_in as */*
  [1m[36mBaker Load (0.3ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.05ms)
Completed 201 Created in 3ms (Views: 0.4ms | ActiveRecord: 0.3ms | Allocations: 847)


Started GET "/products" for 127.0.0.1 at 2023-07-01 20:34:03 +0100
Processing by ProductsController#index as HTML
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.06ms)
Completed 201 Created in 14ms (Views: 0.4ms | ActiveRecord: 6.2ms | Allocations: 3610)


  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (0.5ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.3ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.7ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.9ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (82.0ms)
Completed 200 OK in 85ms (Views: 80.4ms | ActiveRecord: 4.5ms | Allocations: 20854)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 20:34:14 +0100
Processing by CustomersController#logged_in as */*
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.06ms)
Completed 201 Created in 4ms (Views: 0.7ms | ActiveRecord: 0.3ms | Allocations: 862)


Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 20:34:14 +0100
Processing by BakersController#logged_in as */*
  [1m[36mBaker Load (0.3ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Started GET "/products" for 127.0.0.1 at 2023-07-01 20:34:14 +0100
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.05ms)
Processing by ProductsController#index as HTML
Completed 201 Created in 3ms (Views: 0.4ms | ActiveRecord: 0.3ms | Allocations: 863)


  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (0.4ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.3ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (2.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (4.5ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.8ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (91.79ms)
Completed 200 OK in 96ms (Views: 85.4ms | ActiveRecord: 10.0ms | Allocations: 20806)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 20:34:15 +0100
Processing by CustomersController#logged_in as */*
Started GET "/products" for 127.0.0.1 at 2023-07-01 20:34:15 +0100
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 20:34:15 +0100
Processing by ProductsController#index as HTML
Processing by BakersController#logged_in as */*
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.05ms)
  [1m[36mProduct Load (4.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 201 Created in 15ms (Views: 0.4ms | ActiveRecord: 6.7ms | Allocations: 5105)


  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (2.2ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
  [1m[36mBaker Load (0.3ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers]   [1m[36mVariantGroup Load (0.3ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.06ms)
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
Completed 201 Created in 24ms (Views: 0.5ms | ActiveRecord: 8.8ms | Allocations: 4683)


[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.9ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.5ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.1ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.3ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (66.02ms)
Completed 200 OK in 79ms (Views: 67.6ms | ActiveRecord: 11.2ms | Allocations: 20852)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 20:34:39 +0100
Processing by CustomersController#logged_in as */*
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 20:34:39 +0100
Processing by BakersController#logged_in as */*
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.06ms)
Completed 201 Created in 10ms (Views: 0.6ms | ActiveRecord: 0.3ms | Allocations: 844)


  [1m[36mBaker Load (0.7ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.04ms)
Completed 201 Created in 6ms (Views: 0.5ms | ActiveRecord: 0.7ms | Allocations: 845)


Started GET "/products" for 127.0.0.1 at 2023-07-01 20:34:39 +0100
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (0.3ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.2ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.5ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.3ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (67.85ms)
Completed 200 OK in 71ms (Views: 66.8ms | ActiveRecord: 3.6ms | Allocations: 20806)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 20:34:41 +0100
Processing by CustomersController#logged_in as */*
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.04ms)
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 20:34:41 +0100
Completed 201 Created in 3ms (Views: 0.4ms | ActiveRecord: 0.3ms | Allocations: 879)


Processing by BakersController#logged_in as */*
  [1m[36mBaker Load (0.3ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.06ms)
Completed 201 Created in 3ms (Views: 0.6ms | ActiveRecord: 0.3ms | Allocations: 852)


Started GET "/products" for 127.0.0.1 at 2023-07-01 20:34:41 +0100
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (0.3ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (2.8ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.5ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.1ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.8ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.7ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (74.17ms)
Completed 200 OK in 79ms (Views: 72.2ms | ActiveRecord: 6.4ms | Allocations: 20807)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 20:34:48 +0100
Processing by CustomersController#logged_in as */*
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.06ms)
Completed 201 Created in 5ms (Views: 0.7ms | ActiveRecord: 0.3ms | Allocations: 851)


Started GET "/products" for 127.0.0.1 at 2023-07-01 20:34:48 +0100
Processing by ProductsController#index as HTML
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 20:34:48 +0100
Processing by BakersController#logged_in as */*
  [1m[36mBaker Load (0.2ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.05ms)
Completed 201 Created in 3ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 846)


[active_model_serializers]   [1m[36mDiscount Load (0.3ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.6ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.3ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (52.25ms)
Completed 200 OK in 65ms (Views: 61.4ms | ActiveRecord: 2.9ms | Allocations: 20806)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 20:34:49 +0100
Processing by CustomersController#logged_in as */*
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 20:34:49 +0100
Started GET "/products" for 127.0.0.1 at 2023-07-01 20:34:49 +0100
Processing by BakersController#logged_in as */*
Processing by ProductsController#index as HTML
  [1m[36mBaker Load (0.4ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.07ms)
Completed 201 Created in 4ms (Views: 0.6ms | ActiveRecord: 0.4ms | Allocations: 854)


  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:8:in `index'
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.06ms)
Completed 201 Created in 19ms (Views: 0.5ms | ActiveRecord: 0.4ms | Allocations: 856)


[active_model_serializers]   [1m[36mDiscount Load (0.3ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.9ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.2ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (54.79ms)
Completed 200 OK in 64ms (Views: 60.1ms | ActiveRecord: 3.6ms | Allocations: 20807)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 20:35:05 +0100
Processing by CustomersController#logged_in as */*
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.09ms)
Completed 201 Created in 4ms (Views: 0.9ms | ActiveRecord: 0.3ms | Allocations: 860)


Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 20:35:05 +0100
Processing by BakersController#logged_in as */*
Started GET "/products" for 127.0.0.1 at 2023-07-01 20:35:05 +0100
Processing by ProductsController#index as HTML
  [1m[36mBaker Load (0.4ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.06ms)
Completed 201 Created in 7ms (Views: 0.6ms | ActiveRecord: 0.4ms | Allocations: 868)


[active_model_serializers]   [1m[36mDiscount Load (1.8ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (4.8ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.7ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (1.8ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (91.51ms)
Completed 200 OK in 95ms (Views: 83.6ms | ActiveRecord: 11.2ms | Allocations: 20806)


Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 20:35:20 +0100
Processing by BakersController#logged_in as */*
Started GET "/products" for 127.0.0.1 at 2023-07-01 20:35:20 +0100
Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 20:35:20 +0100
Processing by ProductsController#index as HTML
Processing by CustomersController#logged_in as */*
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mBaker Load (0.2ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.06ms)
Completed 201 Created in 4ms (Views: 0.5ms | ActiveRecord: 0.3ms | Allocations: 854)


[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.08ms)
Completed 201 Created in 10ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 853)


[active_model_serializers]   [1m[36mDiscount Load (0.3ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.3ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (4.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (2.9ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (5.5ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.3ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (79.52ms)
Completed 200 OK in 87ms (Views: 71.6ms | ActiveRecord: 15.5ms | Allocations: 20807)


Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 20:35:35 +0100
Processing by BakersController#logged_in as */*
Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 20:35:35 +0100
  [1m[36mBaker Load (0.3ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
Processing by CustomersController#logged_in as */*
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.05ms)
Completed 201 Created in 5ms (Views: 0.4ms | ActiveRecord: 0.3ms | Allocations: 846)


  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Started GET "/products" for 127.0.0.1 at 2023-07-01 20:35:35 +0100
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
Processing by ProductsController#index as HTML
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.04ms)
Completed 201 Created in 4ms (Views: 0.4ms | ActiveRecord: 0.3ms | Allocations: 848)


  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (0.4ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.3ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.6ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.7ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.1ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (3.8ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.5ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (68.47ms)
Completed 200 OK in 72ms (Views: 63.3ms | ActiveRecord: 8.2ms | Allocations: 20807)


Started POST "/baker-login" for 127.0.0.1 at 2023-07-01 20:36:01 +0100
Processing by BakersController#login as HTML
  Parameters: {"password"=>"[FILTERED]"}
  [1m[36mBaker Load (0.4ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:6:in `login'
[active_model_serializers] Rendered BakerSerializer with ActiveModelSerializers::Adapter::Attributes (0.28ms)
Completed 201 Created in 223ms (Views: 6.0ms | ActiveRecord: 4.4ms | Allocations: 5171)


Started GET "/customers" for 127.0.0.1 at 2023-07-01 20:36:02 +0100
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
  ↳ app/controllers/customers_controller.rb:49:in `index'
Started GET "/variant_groups" for 127.0.0.1 at 2023-07-01 20:36:02 +0100
Started GET "/discounts" for 127.0.0.1 at 2023-07-01 20:36:02 +0100
Processing by VariantGroupsController#index as HTML
  [1m[36mVariantGroup Load (0.3ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups"[0m
  ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCart Load (0.9ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers]   [1m[36mProduct Load (1.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/variant_groups_controller.rb:8:in `index'
Processing by DiscountsController#index as HTML
[active_model_serializers]   [1m[36mVariantOption Load (0.5ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (13.23ms)
Completed 200 OK in 21ms (Views: 17.8ms | ActiveRecord: 2.4ms | Allocations: 3805)


  [1m[36mDiscount Load (0.2ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts"[0m
  ↳ app/controllers/discounts_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."discount_id" = $1[0m  [["discount_id", 3]]
[active_model_serializers]   ↳ app/controllers/discounts_controller.rb:9:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (14.56ms)
[active_model_serializers]   [1m[36mCustomerAddress Load (0.6ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
Completed 200 OK in 33ms (Views: 27.3ms | ActiveRecord: 0.5ms | Allocations: 2865)


[active_model_serializers]   [1m[36mStripeCustomer Load (0.5ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers]   [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (88.18ms)
Completed 200 OK in 108ms (Views: 82.6ms | ActiveRecord: 24.4ms | Allocations: 17443)


Started GET "/products" for 127.0.0.1 at 2023-07-01 20:36:27 +0100
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (0.4ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.5ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.7ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.1ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.3ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (77.23ms)
Completed 200 OK in 82ms (Views: 77.0ms | ActiveRecord: 4.2ms | Allocations: 20818)


Started GET "/variant_groups" for 127.0.0.1 at 2023-07-01 20:36:33 +0100
Processing by VariantGroupsController#index as HTML
  [1m[36mVariantGroup Load (0.3ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups"[0m
  ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.4ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (13.24ms)
Completed 200 OK in 17ms (Views: 15.5ms | ActiveRecord: 1.1ms | Allocations: 3776)


Started GET "/discounts" for 127.0.0.1 at 2023-07-01 20:36:34 +0100
Processing by DiscountsController#index as HTML
  [1m[36mDiscount Load (0.5ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts"[0m
  ↳ app/controllers/discounts_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."discount_id" = $1[0m  [["discount_id", 3]]
[active_model_serializers]   ↳ app/controllers/discounts_controller.rb:9:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (9.03ms)
Completed 200 OK in 15ms (Views: 13.3ms | ActiveRecord: 1.0ms | Allocations: 2540)


Started DELETE "/baker-logout" for 127.0.0.1 at 2023-07-01 20:38:02 +0100
Processing by BakersController#logout as */*
Completed 204 No Content in 3ms (ActiveRecord: 0.0ms | Allocations: 183)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 20:39:40 +0100
Processing by CustomersController#logged_in as */*
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 20:39:40 +0100
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Processing by BakersController#logged_in as */*
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.05ms)
Completed 201 Created in 5ms (Views: 0.5ms | ActiveRecord: 0.5ms | Allocations: 852)


  [1m[36mBaker Load (0.2ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.07ms)
Completed 201 Created in 3ms (Views: 0.6ms | ActiveRecord: 0.2ms | Allocations: 850)


Started GET "/products" for 127.0.0.1 at 2023-07-01 20:39:40 +0100
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (0.3ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (2.2ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.8ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.6ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.4ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (78.55ms)
Completed 200 OK in 85ms (Views: 78.3ms | ActiveRecord: 5.8ms | Allocations: 20807)


Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 20:40:11 +0100
Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 20:40:11 +0100
Processing by BakersController#logged_in as */*
Started GET "/products" for 127.0.0.1 at 2023-07-01 20:40:11 +0100
Processing by CustomersController#logged_in as */*
  [1m[36mBaker Load (1.2ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.06ms)
Completed 201 Created in 8ms (Views: 0.6ms | ActiveRecord: 1.2ms | Allocations: 844)


Processing by ProductsController#index as HTML
  [1m[36mCustomer Load (2.1ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.08ms)
Completed 201 Created in 12ms (Views: 1.4ms | ActiveRecord: 2.1ms | Allocations: 1990)


  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (3.1ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.4ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.6ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (2.4ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (2.1ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.6ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.0ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.4ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (140.4ms)
Completed 200 OK in 179ms (Views: 157.7ms | ActiveRecord: 20.3ms | Allocations: 24521)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 20:40:11 +0100
Started GET "/products" for 127.0.0.1 at 2023-07-01 20:40:11 +0100
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 20:40:11 +0100
Processing by CustomersController#logged_in as */*
Processing by ProductsController#index as HTML
Processing by BakersController#logged_in as */*
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  [1m[36mCustomer Load (0.8ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:8:in `index'
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
  [1m[36mBaker Load (0.3ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.08ms)
Completed 201 Created in 6ms (Views: 0.7ms | ActiveRecord: 0.8ms | Allocations: 858)


[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.06ms)
Completed 201 Created in 6ms (Views: 0.5ms | ActiveRecord: 0.3ms | Allocations: 856)


[active_model_serializers]   [1m[36mDiscount Load (2.7ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (2.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.6ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.1ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.0ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.5ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.6ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.6ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.3ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (88.67ms)
Completed 200 OK in 94ms (Views: 84.4ms | ActiveRecord: 9.7ms | Allocations: 20806)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 20:40:16 +0100
Processing by CustomersController#logged_in as */*
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 20:40:16 +0100
Processing by BakersController#logged_in as */*
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
Started GET "/products" for 127.0.0.1 at 2023-07-01 20:40:16 +0100
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.05ms)
Completed 201 Created in 3ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 852)


Processing by ProductsController#index as HTML
  [1m[36mBaker Load (0.2ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.06ms)
Completed 201 Created in 7ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 2042)


  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (0.3ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.3ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.3ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (60.55ms)
Completed 200 OK in 79ms (Views: 68.9ms | ActiveRecord: 9.6ms | Allocations: 24605)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 20:40:30 +0100
Processing by CustomersController#logged_in as */*
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.07ms)
Completed 201 Created in 5ms (Views: 0.7ms | ActiveRecord: 0.4ms | Allocations: 855)


Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 20:40:30 +0100
Processing by BakersController#logged_in as */*
Started GET "/products" for 127.0.0.1 at 2023-07-01 20:40:30 +0100
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  [1m[36mBaker Load (0.4ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.1ms)
Completed 201 Created in 5ms (Views: 0.7ms | ActiveRecord: 0.4ms | Allocations: 853)


[active_model_serializers]   [1m[36mDiscount Load (0.3ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.4ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.6ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.3ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.1ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (74.86ms)
Completed 200 OK in 78ms (Views: 74.5ms | ActiveRecord: 3.4ms | Allocations: 20807)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 20:40:32 +0100
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 20:40:32 +0100
Processing by BakersController#logged_in as */*
Processing by CustomersController#logged_in as */*
Started GET "/products" for 127.0.0.1 at 2023-07-01 20:40:32 +0100
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.06ms)
Completed 201 Created in 6ms (Views: 0.5ms | ActiveRecord: 0.5ms | Allocations: 860)


  [1m[36mBaker Load (0.9ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.05ms)
Completed 201 Created in 10ms (Views: 0.5ms | ActiveRecord: 0.9ms | Allocations: 2551)


[active_model_serializers]   [1m[36mDiscount Load (4.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.3ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.5ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.3ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (68.11ms)
Completed 200 OK in 72ms (Views: 65.0ms | ActiveRecord: 6.6ms | Allocations: 21766)


Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 20:40:37 +0100
Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 20:40:37 +0100
Started GET "/products" for 127.0.0.1 at 2023-07-01 20:40:37 +0100
Processing by BakersController#logged_in as */*
Processing by ProductsController#index as HTML
Processing by CustomersController#logged_in as */*
  [1m[36mBaker Load (0.3ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.05ms)
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 201 Created in 3ms (Views: 0.4ms | ActiveRecord: 0.3ms | Allocations: 854)


  ↳ app/controllers/products_controller.rb:8:in `index'
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.06ms)
Completed 201 Created in 3ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 856)


[active_model_serializers]   [1m[36mDiscount Load (3.6ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.3ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.3ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (67.31ms)
Completed 200 OK in 72ms (Views: 65.3ms | ActiveRecord: 6.1ms | Allocations: 20807)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 20:40:45 +0100
Processing by CustomersController#logged_in as */*
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 20:40:45 +0100
Started GET "/products" for 127.0.0.1 at 2023-07-01 20:40:45 +0100
Processing by ProductsController#index as HTML
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
Processing by BakersController#logged_in as */*
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.05ms)
Completed 201 Created in 6ms (Views: 0.4ms | ActiveRecord: 0.4ms | Allocations: 848)


  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
  [1m[36mBaker Load (2.0ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.09ms)
[active_model_serializers]   [1m[36mDiscount Load (2.1ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
Completed 201 Created in 7ms (Views: 1.4ms | ActiveRecord: 2.0ms | Allocations: 1832)


[active_model_serializers]   [1m[36mVariantGroup Load (0.8ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.2ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (55.06ms)
Completed 200 OK in 62ms (Views: 55.9ms | ActiveRecord: 5.4ms | Allocations: 22219)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 20:40:54 +0100
Started GET "/products" for 127.0.0.1 at 2023-07-01 20:40:54 +0100
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 20:40:54 +0100
Processing by CustomersController#logged_in as */*
Processing by ProductsController#index as HTML
Processing by BakersController#logged_in as */*
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  [1m[36mBaker Load (0.4ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.07ms)
Completed 201 Created in 5ms (Views: 0.8ms | ActiveRecord: 0.4ms | Allocations: 854)


  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:8:in `index'
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.07ms)
Completed 201 Created in 11ms (Views: 1.2ms | ActiveRecord: 0.2ms | Allocations: 867)


[active_model_serializers]   [1m[36mDiscount Load (0.3ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.4ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.0ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.2ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (57.57ms)
Completed 200 OK in 67ms (Views: 63.8ms | ActiveRecord: 3.2ms | Allocations: 20806)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 20:41:08 +0100
Processing by CustomersController#logged_in as */*
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 20:41:08 +0100
Started GET "/products" for 127.0.0.1 at 2023-07-01 20:41:08 +0100
Processing by BakersController#logged_in as */*
Processing by ProductsController#index as HTML
  [1m[36mBaker Load (0.4ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.06ms)
Completed 201 Created in 4ms (Views: 0.5ms | ActiveRecord: 0.4ms | Allocations: 850)


[active_model_serializers]   [1m[36mDiscount Load (7.3ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.09ms)
Completed 201 Created in 25ms (Views: 4.0ms | ActiveRecord: 0.6ms | Allocations: 852)


[active_model_serializers]   [1m[36mVariantGroup Load (7.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.5ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.2ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (90.33ms)
Completed 200 OK in 94ms (Views: 77.0ms | ActiveRecord: 16.8ms | Allocations: 20807)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 20:41:26 +0100
Processing by CustomersController#logged_in as */*
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.05ms)
Completed 201 Created in 3ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 876)


Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 20:41:26 +0100
Processing by BakersController#logged_in as */*
Started GET "/products" for 127.0.0.1 at 2023-07-01 20:41:26 +0100
Processing by ProductsController#index as HTML
  [1m[36mBaker Load (0.5ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.05ms)
Completed 201 Created in 5ms (Views: 0.5ms | ActiveRecord: 0.5ms | Allocations: 874)


[active_model_serializers]   [1m[36mDiscount Load (0.8ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.7ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.8ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.6ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.3ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (84.43ms)
Completed 200 OK in 88ms (Views: 83.1ms | ActiveRecord: 4.7ms | Allocations: 20807)


Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 20:44:33 +0100
Processing by BakersController#logged_in as */*
Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 20:44:33 +0100
  [1m[36mBaker Load (0.9ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
Processing by CustomersController#logged_in as */*
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.13ms)
Completed 201 Created in 9ms (Views: 1.4ms | ActiveRecord: 0.9ms | Allocations: 854)


Started GET "/products" for 127.0.0.1 at 2023-07-01 20:44:33 +0100
Processing by ProductsController#index as HTML
  [1m[36mCustomer Load (1.7ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.12ms)
Completed 201 Created in 18ms (Views: 1.2ms | ActiveRecord: 1.7ms | Allocations: 859)


[active_model_serializers]   [1m[36mDiscount Load (0.5ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.9ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (3.6ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.1ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.8ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.8ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.1ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.5ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (2.0ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (1.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.1ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (135.96ms)
Completed 200 OK in 145ms (Views: 132.0ms | ActiveRecord: 12.0ms | Allocations: 20807)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 20:44:38 +0100
Processing by CustomersController#logged_in as */*
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 20:44:38 +0100
Processing by BakersController#logged_in as */*
  [1m[36mBaker Load (0.6ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Started GET "/products" for 127.0.0.1 at 2023-07-01 20:44:38 +0100
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
Processing by ProductsController#index as HTML
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.06ms)
Completed 201 Created in 3ms (Views: 0.5ms | ActiveRecord: 0.6ms | Allocations: 904)


  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
  [1m[36mCustomer Load (5.8ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.06ms)
Completed 201 Created in 12ms (Views: 0.6ms | ActiveRecord: 5.8ms | Allocations: 2609)


[active_model_serializers]   [1m[36mDiscount Load (0.4ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.7ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.3ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (94.77ms)
Completed 200 OK in 98ms (Views: 94.6ms | ActiveRecord: 3.5ms | Allocations: 20807)


Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 20:44:43 +0100
Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 20:44:43 +0100
Processing by CustomersController#logged_in as */*
Processing by BakersController#logged_in as */*
Started GET "/products" for 127.0.0.1 at 2023-07-01 20:44:43 +0100
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
Processing by ProductsController#index as HTML
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.05ms)
Completed 201 Created in 3ms (Views: 0.4ms | ActiveRecord: 0.3ms | Allocations: 864)


  [1m[36mBaker Load (0.2ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.06ms)
Completed 201 Created in 5ms (Views: 0.6ms | ActiveRecord: 0.2ms | Allocations: 1493)


  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (0.6ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.2ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.1ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.2ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (108.32ms)
Completed 200 OK in 115ms (Views: 111.8ms | ActiveRecord: 3.3ms | Allocations: 21761)


Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 20:44:44 +0100
Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 20:44:44 +0100
Processing by BakersController#logged_in as */*
Processing by CustomersController#logged_in as */*
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Started GET "/products" for 127.0.0.1 at 2023-07-01 20:44:44 +0100
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
Processing by ProductsController#index as HTML
  [1m[36mBaker Load (0.3ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.05ms)
Completed 201 Created in 3ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 854)


  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.07ms)
  ↳ app/controllers/products_controller.rb:8:in `index'
Completed 201 Created in 6ms (Views: 1.4ms | ActiveRecord: 0.3ms | Allocations: 853)


[active_model_serializers]   [1m[36mDiscount Load (0.3ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.4ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.6ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (5.0ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.4ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.1ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (99.47ms)
Completed 200 OK in 105ms (Views: 94.4ms | ActiveRecord: 9.8ms | Allocations: 20807)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 20:49:10 +0100
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 20:49:10 +0100
Started GET "/products" for 127.0.0.1 at 2023-07-01 20:49:10 +0100
Processing by CustomersController#logged_in as */*
Processing by BakersController#logged_in as */*
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  [1m[36mCustomer Load (1.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.33ms)
Completed 201 Created in 13ms (Views: 1.2ms | ActiveRecord: 1.4ms | Allocations: 854)


  [1m[36mBaker Load (8.9ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.08ms)
[active_model_serializers]   [1m[36mDiscount Load (0.4ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Completed 201 Created in 22ms (Views: 2.3ms | ActiveRecord: 8.9ms | Allocations: 852)


[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (8.2ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (7.1ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.1ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.5ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.7ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.1ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.8ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.4ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.1ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.1ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (132.88ms)
Completed 200 OK in 146ms (Views: 125.6ms | ActiveRecord: 19.6ms | Allocations: 20807)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 20:49:17 +0100
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 20:49:17 +0100
Processing by BakersController#logged_in as */*
Processing by CustomersController#logged_in as */*
  [1m[36mBaker Load (0.4ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.07ms)
Completed 201 Created in 4ms (Views: 0.6ms | ActiveRecord: 0.4ms | Allocations: 850)


  [1m[36mCustomer Load (4.8ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.09ms)
Completed 201 Created in 14ms (Views: 0.8ms | ActiveRecord: 4.8ms | Allocations: 852)


Started GET "/products" for 127.0.0.1 at 2023-07-01 20:49:17 +0100
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (2.1ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (1.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.0ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.1ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.2ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (101.22ms)
Completed 200 OK in 110ms (Views: 102.3ms | ActiveRecord: 6.5ms | Allocations: 20806)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 20:49:40 +0100
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 20:49:40 +0100
Processing by CustomersController#logged_in as */*
Processing by BakersController#logged_in as */*
Started GET "/products" for 127.0.0.1 at 2023-07-01 20:49:40 +0100
Processing by ProductsController#index as HTML
  [1m[36mCustomer Load (0.1ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.07ms)
Completed 201 Created in 5ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 854)


  [1m[36mBaker Load (3.0ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.15ms)
Completed 201 Created in 13ms (Views: 1.2ms | ActiveRecord: 3.0ms | Allocations: 2217)


[active_model_serializers]   [1m[36mDiscount Load (0.5ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.3ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.4ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.1ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (91.93ms)
Completed 200 OK in 96ms (Views: 91.6ms | ActiveRecord: 3.6ms | Allocations: 21758)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 20:49:49 +0100
Processing by CustomersController#logged_in as */*
Started GET "/products" for 127.0.0.1 at 2023-07-01 20:49:49 +0100
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 20:49:49 +0100
Processing by BakersController#logged_in as */*
Processing by ProductsController#index as HTML
  [1m[36mCustomer Load (1.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.08ms)
  ↳ app/controllers/products_controller.rb:8:in `index'
Completed 201 Created in 10ms (Views: 3.1ms | ActiveRecord: 1.3ms | Allocations: 850)


  [1m[36mBaker Load (1.1ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.07ms)
Completed 201 Created in 11ms (Views: 0.6ms | ActiveRecord: 1.1ms | Allocations: 1981)


[active_model_serializers]   [1m[36mDiscount Load (3.6ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.3ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (6.0ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.4ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (98.48ms)
Completed 200 OK in 105ms (Views: 92.2ms | ActiveRecord: 12.7ms | Allocations: 21762)


Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 20:50:14 +0100
Processing by BakersController#logged_in as */*
Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 20:50:14 +0100
Processing by CustomersController#logged_in as */*
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.08ms)
Completed 201 Created in 3ms (Views: 0.6ms | ActiveRecord: 0.6ms | Allocations: 908)


  [1m[36mBaker Load (2.6ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.08ms)
Completed 201 Created in 8ms (Views: 0.6ms | ActiveRecord: 2.6ms | Allocations: 2268)


Started GET "/products" for 127.0.0.1 at 2023-07-01 20:50:14 +0100
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (1.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.4ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.9ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (4.7ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.7ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.3ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.1ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (111.34ms)
Completed 200 OK in 118ms (Views: 107.4ms | ActiveRecord: 9.3ms | Allocations: 20808)


Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 20:50:16 +0100
Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 20:50:16 +0100
Processing by BakersController#logged_in as */*
Processing by CustomersController#logged_in as */*
  [1m[36mBaker Load (0.3ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.05ms)
Started GET "/products" for 127.0.0.1 at 2023-07-01 20:50:16 +0100
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.05ms)
Completed 201 Created in 3ms (Views: 0.4ms | ActiveRecord: 0.3ms | Allocations: 854)


Completed 201 Created in 3ms (Views: 0.4ms | ActiveRecord: 0.4ms | Allocations: 857)


Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (0.3ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.5ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (3.5ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.5ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.8ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (1.1ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.1ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (89.66ms)
Completed 200 OK in 98ms (Views: 88.2ms | ActiveRecord: 9.9ms | Allocations: 20806)


Started GET "/products" for 127.0.0.1 at 2023-07-01 20:50:23 +0100
Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 20:50:23 +0100
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 20:50:23 +0100
Processing by ProductsController#index as HTML
Processing by BakersController#logged_in as */*
Processing by CustomersController#logged_in as */*
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mBaker Load (0.4ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.06ms)
Completed 201 Created in 4ms (Views: 1.1ms | ActiveRecord: 0.4ms | Allocations: 858)


  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.05ms)
Completed 201 Created in 7ms (Views: 2.8ms | ActiveRecord: 0.3ms | Allocations: 860)


  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (0.2ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (2.7ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.5ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.7ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (4.7ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.3ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (94.04ms)
Completed 200 OK in 102ms (Views: 91.1ms | ActiveRecord: 10.6ms | Allocations: 20806)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 20:51:23 +0100
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 20:51:23 +0100
Processing by CustomersController#logged_in as */*
Processing by BakersController#logged_in as */*
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Started GET "/products" for 127.0.0.1 at 2023-07-01 20:51:23 +0100
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
Processing by ProductsController#index as HTML
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.05ms)
Completed 201 Created in 2ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 856)


  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (0.3ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBaker Load (1.7ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.05ms)
Completed 201 Created in 8ms (Views: 0.4ms | ActiveRecord: 1.7ms | Allocations: 864)


[active_model_serializers]   [1m[36mVariantGroup Load (0.2ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.9ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.1ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.6ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (80.49ms)
Completed 200 OK in 84ms (Views: 80.0ms | ActiveRecord: 3.5ms | Allocations: 20807)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 20:51:28 +0100
Processing by CustomersController#logged_in as */*
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 20:51:28 +0100
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
Processing by BakersController#logged_in as */*
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.05ms)
Completed 201 Created in 3ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 854)


Started GET "/products" for 127.0.0.1 at 2023-07-01 20:51:28 +0100
  [1m[36mBaker Load (0.4ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
Processing by ProductsController#index as HTML
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.09ms)
Completed 201 Created in 10ms (Views: 0.7ms | ActiveRecord: 0.4ms | Allocations: 852)


  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (2.9ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.8ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (4.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (4.1ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (2.7ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
Started GET "/src/" for 127.0.0.1 at 2023-07-01 20:51:28 +0100
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
Processing by FallbackController#index as HTML
  Parameters: {"path"=>"src"}
[active_model_serializers]   [1m[36mVariantOption Load (0.4ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
Completed 500 Internal Server Error in 26ms (ActiveRecord: 0.0ms | Allocations: 2813)


  
ArgumentError (`render file:` should be given the absolute path to a file. 'public/index.html' was given instead):
  
app/controllers/fallback_controller.rb:7:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (92.57ms)
Completed 200 OK in 98ms (Views: 79.6ms | ActiveRecord: 17.7ms | Allocations: 20806)


Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 20:51:37 +0100
Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 20:51:37 +0100
Processing by BakersController#logged_in as */*
Processing by CustomersController#logged_in as */*
Started GET "/products" for 127.0.0.1 at 2023-07-01 20:51:37 +0100
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Processing by ProductsController#index as HTML
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
  [1m[36mBaker Load (0.3ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.06ms)
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
Completed 201 Created in 4ms (Views: 0.6ms | ActiveRecord: 0.3ms | Allocations: 1041)


[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.06ms)
  ↳ app/controllers/products_controller.rb:8:in `index'
Completed 201 Created in 5ms (Views: 0.4ms | ActiveRecord: 0.3ms | Allocations: 848)


[active_model_serializers]   [1m[36mDiscount Load (0.4ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (1.6ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (3.8ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.6ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.8ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (2.5ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
Started GET "/src/" for 127.0.0.1 at 2023-07-01 20:51:37 +0100
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
Processing by FallbackController#index as HTML
  Parameters: {"path"=>"src"}
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (94.67ms)
Completed 200 OK in 97ms (Views: 83.9ms | ActiveRecord: 13.0ms | Allocations: 20816)


Completed 500 Internal Server Error in 15ms (ActiveRecord: 0.0ms | Allocations: 2814)


  
ArgumentError (`render file:` should be given the absolute path to a file. 'public/index.html' was given instead):
  
app/controllers/fallback_controller.rb:7:in `index'
Started GET "/products" for 127.0.0.1 at 2023-07-01 20:51:40 +0100
Processing by ProductsController#index as HTML
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 20:51:40 +0100
Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 20:51:40 +0100
Processing by BakersController#logged_in as */*
Processing by CustomersController#logged_in as */*
  [1m[36mBaker Load (0.3ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.06ms)
Completed 201 Created in 10ms (Views: 5.7ms | ActiveRecord: 0.3ms | Allocations: 848)


[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.06ms)
  ↳ app/controllers/products_controller.rb:8:in `index'
Started GET "/src/assets/" for 127.0.0.1 at 2023-07-01 20:51:40 +0100
[active_model_serializers]   [1m[36mDiscount Load (0.4ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (2.2ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Processing by FallbackController#index as HTML
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
  Parameters: {"path"=>"src/assets"}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 245)


  
ArgumentError (`render file:` should be given the absolute path to a file. 'public/index.html' was given instead):
  
app/controllers/fallback_controller.rb:7:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
Completed 201 Created in 24ms (Views: 0.5ms | ActiveRecord: 0.3ms | Allocations: 850)


[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.7ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (2.7ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.5ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.6ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (1.4ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (156.32ms)
Completed 200 OK in 177ms (Views: 164.1ms | ActiveRecord: 12.2ms | Allocations: 20807)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 20:51:45 +0100
Started GET "/products" for 127.0.0.1 at 2023-07-01 20:51:45 +0100
Processing by CustomersController#logged_in as */*
Processing by ProductsController#index as HTML
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.07ms)
Completed 201 Created in 5ms (Views: 0.8ms | ActiveRecord: 0.3ms | Allocations: 849)


Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 20:51:45 +0100
Processing by BakersController#logged_in as */*
  [1m[36mBaker Load (0.6ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.08ms)
  [1m[36mProduct Load (1.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 201 Created in 7ms (Views: 1.0ms | ActiveRecord: 0.6ms | Allocations: 847)


  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (2.2ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (2.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.1ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.2ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
Started GET "/src/assets/BakeryLogo.jpeg" for 127.0.0.1 at 2023-07-01 20:51:45 +0100
  
ActionController::RoutingError (No route matches [GET] "/src/assets/BakeryLogo.jpeg"):
  
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (107.23ms)
Completed 200 OK in 129ms (Views: 119.3ms | ActiveRecord: 8.7ms | Allocations: 21052)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 20:52:14 +0100
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 20:52:14 +0100
Processing by BakersController#logged_in as */*
Processing by CustomersController#logged_in as */*
Started GET "/products" for 127.0.0.1 at 2023-07-01 20:52:14 +0100
Processing by ProductsController#index as HTML
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
  [1m[36mBaker Load (0.2ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.06ms)
Completed 201 Created in 11ms (Views: 0.6ms | ActiveRecord: 0.2ms | Allocations: 865)


[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.06ms)
Completed 201 Created in 12ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 2466)


  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (0.4ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.5ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.5ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (2.7ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.9ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.3ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (101.71ms)
Completed 200 OK in 129ms (Views: 105.1ms | ActiveRecord: 23.4ms | Allocations: 24613)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 20:53:30 +0100
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 20:53:30 +0100
Processing by CustomersController#logged_in as */*
Processing by BakersController#logged_in as */*
Started GET "/products" for 127.0.0.1 at 2023-07-01 20:53:30 +0100
Processing by ProductsController#index as HTML
  [1m[36mBaker Load (1.3ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.06ms)
Completed 201 Created in 5ms (Views: 0.5ms | ActiveRecord: 1.3ms | Allocations: 865)


  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.09ms)
Completed 201 Created in 6ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 864)


[active_model_serializers]   [1m[36mDiscount Load (1.7ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.4ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.5ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.6ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.4ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (94.5ms)
Completed 200 OK in 97ms (Views: 91.6ms | ActiveRecord: 5.3ms | Allocations: 20807)


Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 20:53:31 +0100
Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 20:53:31 +0100
Processing by BakersController#logged_in as */*
Processing by CustomersController#logged_in as */*
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mBaker Load (0.3ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.07ms)
Completed 201 Created in 3ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 852)


[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.11ms)
Completed 201 Created in 4ms (Views: 0.7ms | ActiveRecord: 0.3ms | Allocations: 851)


Started GET "/products" for 127.0.0.1 at 2023-07-01 20:53:31 +0100
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (0.5ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (1.2ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.9ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.5ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.6ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.0ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.2ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (1.1ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.1ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (117.25ms)
Completed 200 OK in 127ms (Views: 112.7ms | ActiveRecord: 8.1ms | Allocations: 20808)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 20:54:46 +0100
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 20:54:46 +0100
Processing by BakersController#logged_in as */*
Processing by CustomersController#logged_in as */*
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
Started GET "/products" for 127.0.0.1 at 2023-07-01 20:54:46 +0100
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.05ms)
Processing by ProductsController#index as HTML
Completed 201 Created in 3ms (Views: 0.6ms | ActiveRecord: 0.3ms | Allocations: 855)


  [1m[36mBaker Load (4.5ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mProduct Load (1.9ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.05ms)
  ↳ app/controllers/products_controller.rb:8:in `index'
Completed 201 Created in 7ms (Views: 0.4ms | ActiveRecord: 4.5ms | Allocations: 852)


[active_model_serializers]   [1m[36mDiscount Load (0.2ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.3ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.7ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.1ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.5ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (3.7ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.6ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (80.65ms)
Completed 200 OK in 86ms (Views: 77.0ms | ActiveRecord: 8.9ms | Allocations: 20880)


Started GET "/babel/parser/lib/index.js" for 127.0.0.1 at 2023-07-01 20:56:01 +0100
  
ActionController::RoutingError (No route matches [GET] "/babel/parser/lib/index.js"):
  
Started GET "/babel/parser/lib/index.js" for 127.0.0.1 at 2023-07-01 20:56:02 +0100
  
ActionController::RoutingError (No route matches [GET] "/babel/parser/lib/index.js"):
  
Started GET "/babel/parser/lib/index.js" for 127.0.0.1 at 2023-07-01 20:56:02 +0100
  
ActionController::RoutingError (No route matches [GET] "/babel/parser/lib/index.js"):
  
Started GET "/babel/parser/lib/index.js" for 127.0.0.1 at 2023-07-01 20:56:02 +0100
  
ActionController::RoutingError (No route matches [GET] "/babel/parser/lib/index.js"):
  
Started GET "/babel/parser/lib/index.js" for 127.0.0.1 at 2023-07-01 20:56:02 +0100
  
ActionController::RoutingError (No route matches [GET] "/babel/parser/lib/index.js"):
  
Started GET "/babel/parser/lib/index.js" for 127.0.0.1 at 2023-07-01 20:56:02 +0100
  
ActionController::RoutingError (No route matches [GET] "/babel/parser/lib/index.js"):
  
Started GET "/babel/parser/lib/index.js" for 127.0.0.1 at 2023-07-01 20:56:02 +0100
  
ActionController::RoutingError (No route matches [GET] "/babel/parser/lib/index.js"):
  
Started GET "/babel/parser/lib/index.js" for 127.0.0.1 at 2023-07-01 20:56:02 +0100
  
ActionController::RoutingError (No route matches [GET] "/babel/parser/lib/index.js"):
  
Started GET "/babel/parser/lib/index.js" for 127.0.0.1 at 2023-07-01 20:56:02 +0100
  
ActionController::RoutingError (No route matches [GET] "/babel/parser/lib/index.js"):
  
Started GET "/babel/parser/lib/index.js" for 127.0.0.1 at 2023-07-01 20:56:02 +0100
  
ActionController::RoutingError (No route matches [GET] "/babel/parser/lib/index.js"):
  
Started GET "/babel/parser/lib/index.js" for 127.0.0.1 at 2023-07-01 20:56:02 +0100
  
ActionController::RoutingError (No route matches [GET] "/babel/parser/lib/index.js"):
  
Started GET "/babel/parser/lib/index.js" for 127.0.0.1 at 2023-07-01 20:56:02 +0100
  
ActionController::RoutingError (No route matches [GET] "/babel/parser/lib/index.js"):
  
Started GET "/babel/parser/lib/index.js" for 127.0.0.1 at 2023-07-01 20:56:02 +0100
  
ActionController::RoutingError (No route matches [GET] "/babel/parser/lib/index.js"):
  
Started GET "/babel/parser/lib/index.js" for 127.0.0.1 at 2023-07-01 20:56:15 +0100
  
ActionController::RoutingError (No route matches [GET] "/babel/parser/lib/index.js"):
  
Started GET "/babel/parser/lib/index.js" for 127.0.0.1 at 2023-07-01 20:56:16 +0100
  
ActionController::RoutingError (No route matches [GET] "/babel/parser/lib/index.js"):
  
Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 21:05:14 +0100
Processing by CustomersController#logged_in as */*
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 21:05:14 +0100
Processing by BakersController#logged_in as */*
Started GET "/products" for 127.0.0.1 at 2023-07-01 21:05:14 +0100
Processing by ProductsController#index as HTML
  [1m[36mBaker Load (0.3ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.07ms)
Completed 201 Created in 23ms (Views: 0.8ms | ActiveRecord: 6.4ms | Allocations: 3650)


  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
  [1m[36mCustomer Load (0.8ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (1.05ms)
Completed 201 Created in 37ms (Views: 2.5ms | ActiveRecord: 21.3ms | Allocations: 3654)


[active_model_serializers]   [1m[36mDiscount Load (0.5ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.7ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.5ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.4ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (82.62ms)
Completed 200 OK in 106ms (Views: 105.9ms | ActiveRecord: 16.3ms | Allocations: 23670)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 21:09:24 +0100
Processing by CustomersController#logged_in as */*
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 21:09:24 +0100
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.16ms)
Completed 201 Created in 8ms (Views: 1.5ms | ActiveRecord: 0.5ms | Allocations: 867)


Started GET "/products" for 127.0.0.1 at 2023-07-01 21:09:24 +0100
Processing by ProductsController#index as HTML
Processing by BakersController#logged_in as */*
  [1m[36mBaker Load (0.4ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.08ms)
Completed 201 Created in 4ms (Views: 1.0ms | ActiveRecord: 0.4ms | Allocations: 865)


  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (0.7ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.5ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.5ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.4ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (73.29ms)
Completed 200 OK in 95ms (Views: 95.1ms | ActiveRecord: 12.1ms | Allocations: 23611)


Started GET "/products" for 127.0.0.1 at 2023-07-01 21:09:50 +0100
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 21:09:50 +0100
Processing by ProductsController#index as HTML
Processing by BakersController#logged_in as */*
Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 21:09:50 +0100
Processing by CustomersController#logged_in as */*
  [1m[36mProduct Load (2.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
  [1m[36mBaker Load (0.9ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCustomer Load (1.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers]   [1m[36mDiscount Load (0.5ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.06ms)
Completed 201 Created in 22ms (Views: 0.6ms | ActiveRecord: 1.3ms | Allocations: 864)


[active_model_serializers]   [1m[36mVariantGroup Load (0.4ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.04ms)
Completed 201 Created in 28ms (Views: 0.4ms | ActiveRecord: 0.9ms | Allocations: 865)


[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.5ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.5ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.5ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.5ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.4ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.1ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (95.97ms)
Completed 200 OK in 112ms (Views: 105.3ms | ActiveRecord: 6.3ms | Allocations: 20852)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 21:10:36 +0100
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 21:10:36 +0100
Started GET "/products" for 127.0.0.1 at 2023-07-01 21:10:36 +0100
Processing by ProductsController#index as HTML
Processing by BakersController#logged_in as */*
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
  [1m[36mBaker Load (0.3ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers]   [1m[36mDiscount Load (2.7ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.4ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.07ms)
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
Completed 201 Created in 10ms (Views: 2.0ms | ActiveRecord: 0.3ms | Allocations: 854)


Processing by CustomersController#logged_in as */*
[active_model_serializers]   [1m[36mProductImage Load (1.8ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.08ms)
Completed 201 Created in 15ms (Views: 0.7ms | ActiveRecord: 0.3ms | Allocations: 856)


[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.1ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.9ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.0ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.4ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.1ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (90.99ms)
Completed 200 OK in 94ms (Views: 85.3ms | ActiveRecord: 8.6ms | Allocations: 20807)


Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 21:11:16 +0100
Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 21:11:16 +0100
Started GET "/products" for 127.0.0.1 at 2023-07-01 21:11:16 +0100
Processing by ProductsController#index as HTML
Processing by BakersController#logged_in as */*
Processing by CustomersController#logged_in as */*
  [1m[36mBaker Load (2.1ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.07ms)
Completed 201 Created in 6ms (Views: 0.6ms | ActiveRecord: 2.1ms | Allocations: 859)


  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.06ms)
Completed 201 Created in 9ms (Views: 0.7ms | ActiveRecord: 0.4ms | Allocations: 861)


  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (0.5ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.6ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.6ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.6ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.7ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (1.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (107.21ms)
Completed 200 OK in 130ms (Views: 129.8ms | ActiveRecord: 15.2ms | Allocations: 23613)


Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 21:12:57 +0100
Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 21:12:57 +0100
Started GET "/products" for 127.0.0.1 at 2023-07-01 21:12:57 +0100
Processing by BakersController#logged_in as */*
Processing by CustomersController#logged_in as */*
Processing by ProductsController#index as HTML
  [1m[36mBaker Load (0.2ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.05ms)
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.05ms)
Completed 201 Created in 3ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 850)


Completed 201 Created in 3ms (Views: 0.5ms | ActiveRecord: 0.3ms | Allocations: 855)


  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (0.4ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (2.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (6.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.1ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.5ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.5ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (90.63ms)
Completed 200 OK in 100ms (Views: 88.2ms | ActiveRecord: 11.9ms | Allocations: 20806)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 21:13:13 +0100
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 21:13:13 +0100
Processing by CustomersController#logged_in as */*
Processing by BakersController#logged_in as */*
Started GET "/products" for 127.0.0.1 at 2023-07-01 21:13:13 +0100
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
  [1m[36mCustomer Load (1.9ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mBaker Load (1.5ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers]   [1m[36mDiscount Load (0.4ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.07ms)
Completed 201 Created in 14ms (Views: 1.2ms | ActiveRecord: 1.5ms | Allocations: 854)


[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (3.98ms)
Completed 201 Created in 19ms (Views: 8.3ms | ActiveRecord: 1.9ms | Allocations: 856)


[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (2.6ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.2ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.1ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.1ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.8ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.3ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (138.79ms)
Completed 200 OK in 143ms (Views: 135.3ms | ActiveRecord: 7.1ms | Allocations: 20807)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 21:16:02 +0100
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 21:16:02 +0100
Started GET "/products" for 127.0.0.1 at 2023-07-01 21:16:02 +0100
Processing by BakersController#logged_in as */*
Processing by CustomersController#logged_in as */*
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.22ms)
Completed 201 Created in 6ms (Views: 1.3ms | ActiveRecord: 0.3ms | Allocations: 854)


  [1m[36mBaker Load (0.5ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Processing by ProductsController#index as HTML
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.07ms)
Completed 201 Created in 14ms (Views: 1.3ms | ActiveRecord: 0.5ms | Allocations: 855)


  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (0.8ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (3.5ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (4.9ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.5ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.0ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (1.6ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.1ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (96.15ms)
Completed 200 OK in 104ms (Views: 88.6ms | ActiveRecord: 14.5ms | Allocations: 20808)


Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 21:18:30 +0100
Started GET "/products" for 127.0.0.1 at 2023-07-01 21:18:30 +0100
Processing by ProductsController#index as HTML
Processing by BakersController#logged_in as */*
Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 21:18:30 +0100
  [1m[36mBaker Load (0.9ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.07ms)
Processing by CustomersController#logged_in as */*
Completed 201 Created in 8ms (Views: 1.4ms | ActiveRecord: 0.9ms | Allocations: 1401)


  [1m[36mProduct Load (1.6ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (0.3ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.07ms)
Completed 201 Created in 19ms (Views: 0.4ms | ActiveRecord: 8.3ms | Allocations: 3957)


[active_model_serializers]   [1m[36mVariantGroup Load (1.3ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.1ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (2.7ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.3ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.1ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (94.92ms)
Completed 200 OK in 119ms (Views: 118.1ms | ActiveRecord: 15.8ms | Allocations: 23613)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 21:19:03 +0100
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 21:19:03 +0100
Started GET "/products" for 127.0.0.1 at 2023-07-01 21:19:03 +0100
Processing by CustomersController#logged_in as */*
Processing by BakersController#logged_in as */*
Processing by ProductsController#index as HTML
  [1m[36mBaker Load (0.3ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.06ms)
Completed 201 Created in 3ms (Views: 0.5ms | ActiveRecord: 0.3ms | Allocations: 853)


  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.06ms)
Completed 201 Created in 5ms (Views: 0.5ms | ActiveRecord: 0.4ms | Allocations: 852)


[active_model_serializers]   [1m[36mDiscount Load (3.3ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.4ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.5ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.1ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.1ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.9ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.5ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.1ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.1ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.1ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (112.57ms)
Completed 200 OK in 117ms (Views: 104.3ms | ActiveRecord: 11.9ms | Allocations: 20853)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 21:19:45 +0100
Processing by CustomersController#logged_in as */*
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 21:19:45 +0100
Processing by BakersController#logged_in as */*
  [1m[36mBaker Load (1.1ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Started GET "/products" for 127.0.0.1 at 2023-07-01 21:19:45 +0100
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
Processing by ProductsController#index as HTML
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.06ms)
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.06ms)
Completed 201 Created in 5ms (Views: 0.5ms | ActiveRecord: 1.1ms | Allocations: 856)


Completed 201 Created in 15ms (Views: 7.4ms | ActiveRecord: 0.3ms | Allocations: 858)


  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (0.8ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.9ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.5ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (3.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.1ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (2.7ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.6ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.3ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (126.23ms)
Completed 200 OK in 133ms (Views: 122.5ms | ActiveRecord: 10.3ms | Allocations: 20807)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 21:23:39 +0100
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 21:23:39 +0100
Started GET "/products" for 127.0.0.1 at 2023-07-01 21:23:39 +0100
Processing by CustomersController#logged_in as */*
Processing by ProductsController#index as HTML
Processing by BakersController#logged_in as */*
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.07ms)
Completed 201 Created in 8ms (Views: 0.5ms | ActiveRecord: 0.4ms | Allocations: 859)


  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (1.1ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.5ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
  [1m[36mBaker Load (0.3ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.06ms)
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
Completed 201 Created in 24ms (Views: 1.3ms | ActiveRecord: 11.8ms | Allocations: 7079)


[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (2.9ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (3.6ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (6.6ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (1.6ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.1ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (117.76ms)
Completed 200 OK in 128ms (Views: 109.9ms | ActiveRecord: 17.7ms | Allocations: 24996)


Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 21:26:12 +0100
Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 21:26:12 +0100
Processing by BakersController#logged_in as */*
Processing by CustomersController#logged_in as */*
Started GET "/products" for 127.0.0.1 at 2023-07-01 21:26:12 +0100
Processing by ProductsController#index as HTML
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mBaker Load (0.2ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.06ms)
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
Completed 201 Created in 11ms (Views: 0.6ms | ActiveRecord: 0.2ms | Allocations: 860)


[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.05ms)
Completed 201 Created in 11ms (Views: 1.6ms | ActiveRecord: 0.3ms | Allocations: 863)


  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (0.4ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.4ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.1ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.5ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.0ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.5ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (80.17ms)
Completed 200 OK in 98ms (Views: 97.2ms | ActiveRecord: 11.1ms | Allocations: 23612)


Started GET "/babel/parser/lib/index.js" for 127.0.0.1 at 2023-07-01 21:29:12 +0100
  
ActionController::RoutingError (No route matches [GET] "/babel/parser/lib/index.js"):
  
Started GET "/babel/parser/lib/index.js" for 127.0.0.1 at 2023-07-01 21:29:12 +0100
  
ActionController::RoutingError (No route matches [GET] "/babel/parser/lib/index.js"):
  
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 21:30:27 +0100
Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 21:30:27 +0100
Processing by BakersController#logged_in as */*
Processing by CustomersController#logged_in as */*
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
Started GET "/products" for 127.0.0.1 at 2023-07-01 21:30:27 +0100
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.05ms)
Processing by ProductsController#index as HTML
Completed 201 Created in 4ms (Views: 0.4ms | ActiveRecord: 0.4ms | Allocations: 862)


  [1m[36mBaker Load (0.9ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.06ms)
Completed 201 Created in 11ms (Views: 0.5ms | ActiveRecord: 0.9ms | Allocations: 857)


[active_model_serializers]   [1m[36mDiscount Load (0.3ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (3.3ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.6ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.5ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.1ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.4ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (83.98ms)
Completed 200 OK in 90ms (Views: 83.3ms | ActiveRecord: 6.8ms | Allocations: 20807)


Started GET "/products" for 127.0.0.1 at 2023-07-01 21:30:58 +0100
Processing by ProductsController#index as HTML
Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 21:30:58 +0100
Processing by CustomersController#logged_in as */*
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 21:30:58 +0100
Processing by BakersController#logged_in as */*
  [1m[36mProduct Load (3.7ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (1.6ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.9ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (2.5ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCustomer Load (0.9ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.09ms)
  [1m[36mBaker Load (4.2ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 201 Created in 57ms (Views: 0.6ms | ActiveRecord: 13.6ms | Allocations: 12442)


  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers]   [1m[36mProductImage Load (4.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.55ms)
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
Completed 201 Created in 64ms (Views: 7.8ms | ActiveRecord: 21.7ms | Allocations: 12515)


[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.6ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.8ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (1.6ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.1ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (140.89ms)
Completed 200 OK in 155ms (Views: 138.1ms | ActiveRecord: 16.6ms | Allocations: 29675)


Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 21:42:17 +0100
Processing by BakersController#logged_in as */*
Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 21:42:17 +0100
Processing by CustomersController#logged_in as */*
  [1m[36mBaker Load (0.3ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.05ms)
Completed 201 Created in 16ms (Views: 0.5ms | ActiveRecord: 6.9ms | Allocations: 3620)


  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.04ms)
Completed 201 Created in 14ms (Views: 0.4ms | ActiveRecord: 5.5ms | Allocations: 3663)


Started GET "/products" for 127.0.0.1 at 2023-07-01 21:42:17 +0100
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (2.0ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (1.4ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.7ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.5ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (2.8ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.1ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.5ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (1.6ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (108.95ms)
Completed 200 OK in 142ms (Views: 141.3ms | ActiveRecord: 21.4ms | Allocations: 23632)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 22:54:32 +0100
Processing by CustomersController#logged_in as */*
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 22:54:32 +0100
Processing by BakersController#logged_in as */*
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
Started GET "/products" for 127.0.0.1 at 2023-07-01 22:54:32 +0100
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.06ms)
Processing by ProductsController#index as HTML
Completed 201 Created in 16ms (Views: 0.5ms | ActiveRecord: 6.3ms | Allocations: 3615)


  [1m[36mBaker Load (0.7ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.07ms)
Completed 201 Created in 30ms (Views: 5.2ms | ActiveRecord: 7.0ms | Allocations: 3593)


  [1m[36mProduct Load (4.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (0.6ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.9ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.5ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.1ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.9ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.5ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.6ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (128.91ms)
Completed 200 OK in 162ms (Views: 161.1ms | ActiveRecord: 22.7ms | Allocations: 23613)


Started GET "/customers" for 127.0.0.1 at 2023-07-01 22:55:16 +0100
Processing by CustomersController#index as HTML
Started GET "/variant_groups" for 127.0.0.1 at 2023-07-01 22:55:16 +0100
Processing by VariantGroupsController#index as HTML
Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 22:55:16 +0100
Started GET "/discounts" for 127.0.0.1 at 2023-07-01 22:55:16 +0100
  [1m[36mCustomer Load (6.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
Processing by CustomersController#logged_in as */*
Processing by DiscountsController#index as HTML
  ↳ app/controllers/customers_controller.rb:49:in `index'
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 22:55:16 +0100
Started GET "/products" for 127.0.0.1 at 2023-07-01 22:55:16 +0100
  [1m[36mDiscount Load (0.5ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts"[0m
Processing by BakersController#logged_in as */*
  ↳ app/controllers/discounts_controller.rb:9:in `index'
Processing by ProductsController#index as HTML
[active_model_serializers]   [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."discount_id" = $1[0m  [["discount_id", 3]]
  [1m[36mCustomer Load (0.7ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers]   ↳ app/controllers/discounts_controller.rb:9:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.07ms)
Completed 201 Created in 21ms (Views: 3.6ms | ActiveRecord: 0.7ms | Allocations: 878)


[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (10.44ms)
Completed 200 OK in 25ms (Views: 23.4ms | ActiveRecord: 1.2ms | Allocations: 2576)


  [1m[36mBaker Load (0.7ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.07ms)
Completed 201 Created in 26ms (Views: 0.8ms | ActiveRecord: 11.0ms | Allocations: 6396)


  [1m[36mProduct Load (6.8ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (0.8ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (2.9ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.9ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mVariantGroup Load (1.6ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups"[0m
  ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCart Load (3.7ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   [1m[36mProductImage Load (0.9ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (9.7ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (26.07ms)
Completed 200 OK in 113ms (Views: 77.6ms | ActiveRecord: 34.9ms | Allocations: 14403)


[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (2.9ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCustomerAddress Load (1.5ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.4ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mStripeCustomer Load (1.0ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (112.74ms)
Completed 200 OK in 143ms (Views: 142.4ms | ActiveRecord: 27.8ms | Allocations: 26663)


[active_model_serializers]   [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (118.02ms)
Completed 200 OK in 198ms (Views: 142.2ms | ActiveRecord: 55.8ms | Allocations: 26137)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 22:55:27 +0100
Processing by CustomersController#logged_in as */*
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 22:55:27 +0100
Processing by BakersController#logged_in as */*
Started GET "/products" for 127.0.0.1 at 2023-07-01 22:55:27 +0100
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  [1m[36mCustomer Load (2.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
  ↳ app/controllers/products_controller.rb:8:in `index'
  [1m[36mBaker Load (1.2ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.11ms)
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.08ms)
Completed 201 Created in 12ms (Views: 0.7ms | ActiveRecord: 2.2ms | Allocations: 2287)


Completed 201 Created in 10ms (Views: 3.1ms | ActiveRecord: 1.2ms | Allocations: 1808)


[active_model_serializers]   [1m[36mDiscount Load (0.6ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.3ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.5ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.3ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (66.34ms)
Completed 200 OK in 71ms (Views: 66.9ms | ActiveRecord: 3.8ms | Allocations: 20818)


Started POST "/baker-login" for 127.0.0.1 at 2023-07-01 22:55:55 +0100
Processing by BakersController#login as HTML
  Parameters: {"password"=>"[FILTERED]"}
  [1m[36mBaker Load (1.5ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:6:in `login'
[active_model_serializers] Rendered BakerSerializer with ActiveModelSerializers::Adapter::Attributes (0.28ms)
Completed 201 Created in 246ms (Views: 0.8ms | ActiveRecord: 1.5ms | Allocations: 956)


Started GET "/customers" for 127.0.0.1 at 2023-07-01 22:55:56 +0100
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
  ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers]   [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
Started GET "/variant_groups" for 127.0.0.1 at 2023-07-01 22:55:56 +0100
Started GET "/discounts" for 127.0.0.1 at 2023-07-01 22:55:56 +0100
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
Processing by DiscountsController#index as HTML
  [1m[36mDiscount Load (1.3ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts"[0m
[active_model_serializers]   [1m[36mCustomerAddress Load (0.3ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
  ↳ app/controllers/discounts_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mStripeCustomer Load (1.1ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers]   [1m[36mOrder Load (1.0ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   [1m[36mProduct Load (2.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."discount_id" = $1[0m  [["discount_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers]   ↳ app/controllers/discounts_controller.rb:9:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (32.78ms)
Completed 200 OK in 42ms (Views: 38.3ms | ActiveRecord: 3.1ms | Allocations: 5067)


[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (24.47ms)
Processing by VariantGroupsController#index as HTML
Completed 200 OK in 37ms (Views: 33.5ms | ActiveRecord: 3.3ms | Allocations: 4069)


  [1m[36mVariantGroup Load (2.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups"[0m
  ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.6ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (16.25ms)
Completed 200 OK in 23ms (Views: 19.7ms | ActiveRecord: 3.0ms | Allocations: 3986)


Started GET "/products" for 127.0.0.1 at 2023-07-01 22:56:01 +0100
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (0.3ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.8ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.6ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.3ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (79.05ms)
Completed 200 OK in 85ms (Views: 80.7ms | ActiveRecord: 4.4ms | Allocations: 20806)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 22:58:20 +0100
Processing by CustomersController#logged_in as */*
Started GET "/products" for 127.0.0.1 at 2023-07-01 22:58:20 +0100
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 22:58:20 +0100
Processing by ProductsController#index as HTML
Processing by BakersController#logged_in as */*
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers]   [1m[36mDiscount Load (0.6ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.2ms)
Completed 201 Created in 12ms (Views: 0.9ms | ActiveRecord: 0.4ms | Allocations: 846)


[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
  [1m[36mBaker Load (0.6ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mVariantGroup Load (1.6ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (2.8ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.8ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered BakerSerializer with ActiveModelSerializers::Adapter::Attributes (0.85ms)
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
Completed 201 Created in 66ms (Views: 35.2ms | ActiveRecord: 8.2ms | Allocations: 5144)


[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.4ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.1ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (95.74ms)
Completed 200 OK in 101ms (Views: 92.4ms | ActiveRecord: 7.9ms | Allocations: 20806)


Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 22:58:53 +0100
Started GET "/products" for 127.0.0.1 at 2023-07-01 22:58:53 +0100
Processing by BakersController#logged_in as */*
Processing by ProductsController#index as HTML
Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 22:58:53 +0100
  [1m[36mBaker Load (0.4ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
Processing by CustomersController#logged_in as */*
  [1m[36mProduct Load (12.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (0.3ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.6ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (2.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
  [1m[36mCustomer Load (3.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.06ms)
[active_model_serializers] Rendered BakerSerializer with ActiveModelSerializers::Adapter::Attributes (1.35ms)
Completed 201 Created in 74ms (Views: 17.1ms | ActiveRecord: 8.9ms | Allocations: 4952)


[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
Completed 201 Created in 68ms (Views: 4.1ms | ActiveRecord: 20.9ms | Allocations: 10504)


[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.3ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (116.79ms)
Completed 200 OK in 137ms (Views: 118.8ms | ActiveRecord: 17.4ms | Allocations: 25213)


Started DELETE "/baker-logout" for 127.0.0.1 at 2023-07-01 22:59:00 +0100
Processing by BakersController#logout as */*
Completed 204 No Content in 2ms (ActiveRecord: 0.0ms | Allocations: 187)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 22:59:08 +0100
Processing by CustomersController#logged_in as */*
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.06ms)
Completed 201 Created in 4ms (Views: 0.6ms | ActiveRecord: 0.2ms | Allocations: 854)


Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 22:59:08 +0100
Processing by BakersController#logged_in as */*
Started GET "/products" for 127.0.0.1 at 2023-07-01 22:59:08 +0100
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
  [1m[36mBaker Load (0.3ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers]   [1m[36mDiscount Load (0.5ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.06ms)
Completed 201 Created in 12ms (Views: 0.6ms | ActiveRecord: 0.3ms | Allocations: 865)


[active_model_serializers]   [1m[36mVariantGroup Load (1.6ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (3.5ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.1ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.3ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (105.36ms)
Completed 200 OK in 115ms (Views: 106.0ms | ActiveRecord: 8.5ms | Allocations: 20806)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 23:00:24 +0100
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 23:00:24 +0100
Started GET "/products" for 127.0.0.1 at 2023-07-01 23:00:24 +0100
Processing by ProductsController#index as HTML
Processing by BakersController#logged_in as */*
Processing by CustomersController#logged_in as */*
  [1m[36mBaker Load (0.3ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.05ms)
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 201 Created in 3ms (Views: 0.5ms | ActiveRecord: 0.3ms | Allocations: 856)


  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.05ms)
Completed 201 Created in 4ms (Views: 0.5ms | ActiveRecord: 0.3ms | Allocations: 858)


[active_model_serializers]   [1m[36mDiscount Load (9.3ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.4ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.3ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (92.29ms)
Completed 200 OK in 96ms (Views: 83.0ms | ActiveRecord: 12.2ms | Allocations: 20807)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 23:06:18 +0100
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 23:06:18 +0100
Started GET "/products" for 127.0.0.1 at 2023-07-01 23:06:18 +0100
Processing by BakersController#logged_in as */*
Processing by CustomersController#logged_in as */*
Processing by ProductsController#index as HTML
  [1m[36mCustomer Load (0.9ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.06ms)
Completed 201 Created in 23ms (Views: 0.4ms | ActiveRecord: 8.2ms | Allocations: 3659)


[active_model_serializers]   [1m[36mDiscount Load (0.4ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
  [1m[36mBaker Load (2.9ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.06ms)
Completed 201 Created in 31ms (Views: 0.6ms | ActiveRecord: 17.0ms | Allocations: 3596)


[active_model_serializers]   [1m[36mVariantGroup Load (0.5ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.5ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.0ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.8ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.6ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.4ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (93.16ms)
Completed 200 OK in 117ms (Views: 116.4ms | ActiveRecord: 18.4ms | Allocations: 23612)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 23:06:28 +0100
Processing by CustomersController#logged_in as */*
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 23:06:28 +0100
Processing by BakersController#logged_in as */*
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.16ms)
Completed 201 Created in 17ms (Views: 7.4ms | ActiveRecord: 0.5ms | Allocations: 2541)


Started GET "/products" for 127.0.0.1 at 2023-07-01 23:06:28 +0100
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (2.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (1.7ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (5.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
  [1m[36mBaker Load (4.5ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.13ms)
Completed 201 Created in 51ms (Views: 0.9ms | ActiveRecord: 23.6ms | Allocations: 8042)


[active_model_serializers]   [1m[36mProductImage Load (5.8ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.1ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.5ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.7ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.4ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (111.9ms)
Completed 200 OK in 118ms (Views: 99.0ms | ActiveRecord: 18.4ms | Allocations: 23113)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 23:07:00 +0100
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 23:07:00 +0100
Processing by CustomersController#logged_in as */*
Processing by BakersController#logged_in as */*
  [1m[36mBaker Load (0.2ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.06ms)
Completed 201 Created in 4ms (Views: 0.6ms | ActiveRecord: 0.2ms | Allocations: 850)


Started GET "/products" for 127.0.0.1 at 2023-07-01 23:07:00 +0100
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (0.7ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
  [1m[36mCustomer Load (3.7ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.08ms)
Completed 201 Created in 41ms (Views: 0.7ms | ActiveRecord: 21.9ms | Allocations: 3625)


[active_model_serializers]   [1m[36mVariantGroup Load (5.8ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (1.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.5ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.3ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (82.68ms)
Completed 200 OK in 88ms (Views: 77.5ms | ActiveRecord: 10.0ms | Allocations: 20807)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 23:08:16 +0100
Processing by CustomersController#logged_in as */*
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.13ms)
Completed 201 Created in 5ms (Views: 1.2ms | ActiveRecord: 0.2ms | Allocations: 854)


Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 23:08:16 +0100
Processing by BakersController#logged_in as */*
Started GET "/products" for 127.0.0.1 at 2023-07-01 23:08:16 +0100
  [1m[36mBaker Load (0.3ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
Processing by ProductsController#index as HTML
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.07ms)
Completed 201 Created in 5ms (Views: 0.7ms | ActiveRecord: 0.3ms | Allocations: 855)


  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (0.5ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.5ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.6ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.9ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.1ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.1ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.5ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.1ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (111.93ms)
Completed 200 OK in 117ms (Views: 109.3ms | ActiveRecord: 6.9ms | Allocations: 20873)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 23:10:24 +0100
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 23:10:24 +0100
Processing by BakersController#logged_in as */*
Processing by CustomersController#logged_in as */*
Started GET "/products" for 127.0.0.1 at 2023-07-01 23:10:24 +0100
Processing by ProductsController#index as HTML
  [1m[36mBaker Load (2.1ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
  [1m[36mCustomer Load (1.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.06ms)
  [1m[36mProduct Load (1.8ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 201 Created in 7ms (Views: 0.5ms | ActiveRecord: 2.1ms | Allocations: 858)


  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.07ms)
Completed 201 Created in 8ms (Views: 0.7ms | ActiveRecord: 1.3ms | Allocations: 1712)


  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (0.6ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.7ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.1ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (3.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.4ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (103.44ms)
Completed 200 OK in 113ms (Views: 103.4ms | ActiveRecord: 9.3ms | Allocations: 21835)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 23:11:01 +0100
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 23:11:01 +0100
Started GET "/products" for 127.0.0.1 at 2023-07-01 23:11:01 +0100
Processing by CustomersController#logged_in as */*
Processing by BakersController#logged_in as */*
Processing by ProductsController#index as HTML
  [1m[36mBaker Load (0.2ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.06ms)
Completed 201 Created in 3ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 860)


  [1m[36mCustomer Load (1.8ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers]   [1m[36mDiscount Load (0.3ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.06ms)
Completed 201 Created in 7ms (Views: 1.8ms | ActiveRecord: 1.8ms | Allocations: 862)


[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.4ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (4.5ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.5ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.7ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.3ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.1ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (93.33ms)
Completed 200 OK in 98ms (Views: 88.8ms | ActiveRecord: 9.0ms | Allocations: 20806)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 23:13:35 +0100
Processing by CustomersController#logged_in as */*
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 23:13:35 +0100
Processing by BakersController#logged_in as */*
  [1m[36mBaker Load (0.2ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.05ms)
Completed 201 Created in 3ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 844)


  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.05ms)
Completed 201 Created in 9ms (Views: 0.5ms | ActiveRecord: 0.5ms | Allocations: 849)


Started GET "/products" for 127.0.0.1 at 2023-07-01 23:13:35 +0100
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (1.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (0.6ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.5ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.5ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.8ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.5ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.8ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.5ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.5ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (84.62ms)
Completed 200 OK in 90ms (Views: 81.2ms | ActiveRecord: 8.3ms | Allocations: 20853)


Started GET "/customers" for 127.0.0.1 at 2023-07-01 23:14:55 +0100
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (1.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
Started GET "/variant_groups" for 127.0.0.1 at 2023-07-01 23:14:55 +0100
Processing by VariantGroupsController#index as HTML
  ↳ app/controllers/customers_controller.rb:49:in `index'
  [1m[36mVariantGroup Load (1.2ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups"[0m
  ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.5ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (11.27ms)
Started GET "/discounts" for 127.0.0.1 at 2023-07-01 23:14:55 +0100
Processing by DiscountsController#index as HTML
Completed 200 OK in 33ms (Views: 33.1ms | ActiveRecord: 7.9ms | Allocations: 6282)


  [1m[36mDiscount Load (0.4ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts"[0m
  ↳ app/controllers/discounts_controller.rb:9:in `index'
Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 23:14:55 +0100
Processing by CustomersController#logged_in as */*
[active_model_serializers]   [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."discount_id" = $1[0m  [["discount_id", 3]]
Started GET "/products" for 127.0.0.1 at 2023-07-01 23:14:55 +0100
[active_model_serializers]   ↳ app/controllers/discounts_controller.rb:9:in `index'
Processing by ProductsController#index as HTML
[active_model_serializers]   [1m[36mCart Load (4.8ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 23:14:55 +0100
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
Processing by BakersController#logged_in as */*
[active_model_serializers]   [1m[36mDiscount Load (0.4ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.3ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (26.19ms)
Completed 200 OK in 51ms (Views: 49.6ms | ActiveRecord: 0.8ms | Allocations: 8270)


[active_model_serializers]   [1m[36mProductImage Load (1.5ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCustomer Load (0.8ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mBaker Load (3.0ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.06ms)
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.25ms)
Completed 201 Created in 61ms (Views: 3.2ms | ActiveRecord: 24.7ms | Allocations: 9695)


[active_model_serializers]   [1m[36mCustomerAddress Load (5.4ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
Completed 201 Created in 50ms (Views: 1.0ms | ActiveRecord: 18.3ms | Allocations: 6701)


[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mStripeCustomer Load (0.3ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.7ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (117.1ms)
Completed 200 OK in 161ms (Views: 123.2ms | ActiveRecord: 37.6ms | Allocations: 18736)


[active_model_serializers]   [1m[36mVariantOption Load (0.4ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.1ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (115.92ms)
Completed 200 OK in 119ms (Views: 114.0ms | ActiveRecord: 4.9ms | Allocations: 20816)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 23:15:32 +0100
Processing by CustomersController#logged_in as */*
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 23:15:32 +0100
Processing by BakersController#logged_in as */*
  [1m[36mBaker Load (1.0ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
  [1m[36mCustomer Load (1.7ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.06ms)
Completed 201 Created in 4ms (Views: 0.5ms | ActiveRecord: 1.0ms | Allocations: 862)


  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.06ms)
Completed 201 Created in 8ms (Views: 0.6ms | ActiveRecord: 1.7ms | Allocations: 867)


Started GET "/products" for 127.0.0.1 at 2023-07-01 23:15:32 +0100
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (1.9ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (4.7ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.7ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.1ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.3ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (85.56ms)
Completed 200 OK in 92ms (Views: 80.9ms | ActiveRecord: 10.9ms | Allocations: 20807)


Started GET "/products" for 127.0.0.1 at 2023-07-01 23:15:43 +0100
Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 23:15:43 +0100
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 23:15:43 +0100
Processing by BakersController#logged_in as */*
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Processing by CustomersController#logged_in as */*
  ↳ app/controllers/products_controller.rb:8:in `index'
  [1m[36mBaker Load (0.8ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.04ms)
[active_model_serializers]   [1m[36mDiscount Load (0.2ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Completed 201 Created in 5ms (Views: 0.5ms | ActiveRecord: 0.8ms | Allocations: 1308)


[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers]   [1m[36mVariantGroup Load (0.4ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.07ms)
Completed 201 Created in 5ms (Views: 0.6ms | ActiveRecord: 0.2ms | Allocations: 1726)


[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.6ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.3ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (74.48ms)
Completed 200 OK in 79ms (Views: 73.4ms | ActiveRecord: 5.1ms | Allocations: 20806)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 23:15:49 +0100
Processing by CustomersController#logged_in as */*
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 23:15:49 +0100
Started GET "/products" for 127.0.0.1 at 2023-07-01 23:15:49 +0100
Processing by ProductsController#index as HTML
  [1m[36mCustomer Load (0.9ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.06ms)
Completed 201 Created in 13ms (Views: 1.2ms | ActiveRecord: 0.9ms | Allocations: 2113)


Processing by BakersController#logged_in as */*
  [1m[36mProduct Load (3.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (3.7ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
  [1m[36mBaker Load (0.3ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.06ms)
Completed 201 Created in 22ms (Views: 0.7ms | ActiveRecord: 0.3ms | Allocations: 2713)


[active_model_serializers]   [1m[36mVariantGroup Load (6.3ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (2.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.1ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.3ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (99.4ms)
Completed 200 OK in 116ms (Views: 99.0ms | ActiveRecord: 17.1ms | Allocations: 22940)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 23:15:57 +0100
Processing by CustomersController#logged_in as */*
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 23:15:57 +0100
Processing by BakersController#logged_in as */*
Started GET "/products" for 127.0.0.1 at 2023-07-01 23:15:57 +0100
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Processing by ProductsController#index as HTML
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.06ms)
Completed 201 Created in 4ms (Views: 0.5ms | ActiveRecord: 0.3ms | Allocations: 856)


  [1m[36mProduct Load (1.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
  [1m[36mBaker Load (3.0ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers]   [1m[36mDiscount Load (0.3ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.08ms)
Completed 201 Created in 8ms (Views: 1.3ms | ActiveRecord: 3.0ms | Allocations: 857)


[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (2.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.6ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.3ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (61.1ms)
Completed 200 OK in 66ms (Views: 60.1ms | ActiveRecord: 6.1ms | Allocations: 20807)


Started GET "/customers" for 127.0.0.1 at 2023-07-01 23:16:01 +0100
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
Started GET "/variant_groups" for 127.0.0.1 at 2023-07-01 23:16:01 +0100
Processing by VariantGroupsController#index as HTML
  ↳ app/controllers/customers_controller.rb:49:in `index'
  [1m[36mVariantGroup Load (0.2ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups"[0m
Started GET "/discounts" for 127.0.0.1 at 2023-07-01 23:16:01 +0100
Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 23:16:01 +0100
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 23:16:01 +0100
Processing by CustomersController#logged_in as */*
Processing by BakersController#logged_in as */*
Processing by DiscountsController#index as HTML
  ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCart Load (9.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Started GET "/products" for 127.0.0.1 at 2023-07-01 23:16:01 +0100
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
Processing by ProductsController#index as HTML
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
  [1m[36mDiscount Load (2.4ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts"[0m
[active_model_serializers]   [1m[36mCustomerAddress Load (0.6ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/discounts_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mProduct Load (1.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."discount_id" = $1[0m  [["discount_id", 3]]
[active_model_serializers]   ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers]   ↳ app/controllers/discounts_controller.rb:9:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.06ms)
[active_model_serializers]   [1m[36mVariantOption Load (0.6ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
Completed 201 Created in 17ms (Views: 9.3ms | ActiveRecord: 0.6ms | Allocations: 3618)


[active_model_serializers]   ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (6.94ms)
Completed 200 OK in 17ms (Views: 13.4ms | ActiveRecord: 3.0ms | Allocations: 3556)


[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (15.23ms)
Completed 200 OK in 30ms (Views: 27.9ms | ActiveRecord: 1.9ms | Allocations: 5087)


  [1m[36mBaker Load (0.4ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers]   [1m[36mStripeCustomer Load (12.7ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.06ms)
Completed 201 Created in 29ms (Views: 4.2ms | ActiveRecord: 11.9ms | Allocations: 6424)


[active_model_serializers]   [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers]   [1m[36mDiscount Load (0.3ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (45.28ms)
Completed 200 OK in 51ms (Views: 27.8ms | ActiveRecord: 23.2ms | Allocations: 9714)


[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.3ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.5ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.1ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.3ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (59.3ms)
Completed 200 OK in 88ms (Views: 69.7ms | ActiveRecord: 17.4ms | Allocations: 26387)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 23:16:08 +0100
Processing by CustomersController#logged_in as */*
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.05ms)
Started GET "/products" for 127.0.0.1 at 2023-07-01 23:16:08 +0100
Completed 201 Created in 6ms (Views: 0.7ms | ActiveRecord: 0.3ms | Allocations: 857)


Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 23:16:08 +0100
  ↳ app/controllers/products_controller.rb:8:in `index'
Processing by BakersController#logged_in as */*
[active_model_serializers]   [1m[36mDiscount Load (0.5ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
  [1m[36mBaker Load (0.4ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.06ms)
Completed 201 Created in 14ms (Views: 0.6ms | ActiveRecord: 0.4ms | Allocations: 855)


[active_model_serializers]   [1m[36mVariantGroup Load (0.5ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.3ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (83.8ms)
Completed 200 OK in 88ms (Views: 84.2ms | ActiveRecord: 3.1ms | Allocations: 20807)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 23:16:14 +0100
Processing by CustomersController#logged_in as */*
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 23:16:14 +0100
Processing by BakersController#logged_in as */*
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
  [1m[36mBaker Load (2.4ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.05ms)
Completed 201 Created in 6ms (Views: 0.5ms | ActiveRecord: 0.4ms | Allocations: 850)


  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.06ms)
Completed 201 Created in 5ms (Views: 0.5ms | ActiveRecord: 2.4ms | Allocations: 848)


Started GET "/products" for 127.0.0.1 at 2023-07-01 23:16:14 +0100
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (0.9ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.3ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.3ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (58.02ms)
Completed 200 OK in 68ms (Views: 64.5ms | ActiveRecord: 3.2ms | Allocations: 20806)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 23:16:20 +0100
Processing by CustomersController#logged_in as */*
Started GET "/products" for 127.0.0.1 at 2023-07-01 23:16:20 +0100
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 23:16:20 +0100
Processing by ProductsController#index as HTML
Processing by BakersController#logged_in as */*
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.06ms)
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 201 Created in 4ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 852)


  ↳ app/controllers/products_controller.rb:8:in `index'
  [1m[36mBaker Load (0.3ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers]   [1m[36mDiscount Load (0.7ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.05ms)
Completed 201 Created in 6ms (Views: 0.4ms | ActiveRecord: 0.3ms | Allocations: 850)


[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (3.4ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.1ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.3ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (63.19ms)
Completed 200 OK in 68ms (Views: 60.6ms | ActiveRecord: 6.8ms | Allocations: 20806)


Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 23:19:40 +0100
Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 23:19:40 +0100
Processing by BakersController#logged_in as */*
Processing by CustomersController#logged_in as */*
Started GET "/products" for 127.0.0.1 at 2023-07-01 23:19:40 +0100
Processing by ProductsController#index as HTML
  [1m[36mBaker Load (0.3ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.07ms)
Completed 201 Created in 5ms (Views: 0.6ms | ActiveRecord: 0.3ms | Allocations: 848)


  ↳ app/controllers/products_controller.rb:8:in `index'
  [1m[36mCustomer Load (3.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers]   [1m[36mDiscount Load (0.3ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.08ms)
Completed 201 Created in 11ms (Views: 0.6ms | ActiveRecord: 3.5ms | Allocations: 853)


[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.4ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (2.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.0ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.3ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.1ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (93.62ms)
Completed 200 OK in 98ms (Views: 91.0ms | ActiveRecord: 6.3ms | Allocations: 20806)


Started GET "/products" for 127.0.0.1 at 2023-07-01 23:20:44 +0100
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 23:20:44 +0100
Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 23:20:44 +0100
Processing by ProductsController#index as HTML
Processing by BakersController#logged_in as */*
Processing by CustomersController#logged_in as */*
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
  [1m[36mBaker Load (2.2ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
  [1m[36mCustomer Load (3.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.07ms)
Completed 201 Created in 9ms (Views: 0.8ms | ActiveRecord: 3.3ms | Allocations: 856)


[active_model_serializers]   [1m[36mDiscount Load (0.4ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.06ms)
Completed 201 Created in 16ms (Views: 0.6ms | ActiveRecord: 2.2ms | Allocations: 854)


[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (1.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.7ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.1ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.6ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (1.5ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (121.06ms)
Completed 200 OK in 126ms (Views: 119.1ms | ActiveRecord: 5.9ms | Allocations: 20819)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 23:21:25 +0100
Processing by CustomersController#logged_in as */*
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 23:21:25 +0100
Processing by BakersController#logged_in as */*
Started GET "/products" for 127.0.0.1 at 2023-07-01 23:21:25 +0100
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (1.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
  [1m[36mCustomer Load (5.8ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mBaker Load (0.3ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.06ms)
Completed 201 Created in 13ms (Views: 0.7ms | ActiveRecord: 5.8ms | Allocations: 850)


[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.06ms)
Completed 201 Created in 13ms (Views: 4.4ms | ActiveRecord: 0.3ms | Allocations: 848)


[active_model_serializers]   [1m[36mDiscount Load (0.2ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.2ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.5ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.6ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.5ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.2ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (82.28ms)
Completed 200 OK in 89ms (Views: 83.1ms | ActiveRecord: 5.2ms | Allocations: 20807)


Started POST "/baker-login" for 127.0.0.1 at 2023-07-01 23:21:42 +0100
Processing by BakersController#login as HTML
  Parameters: {"password"=>"[FILTERED]"}
  [1m[36mBaker Load (0.5ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:6:in `login'
[active_model_serializers] Rendered BakerSerializer with ActiveModelSerializers::Adapter::Attributes (0.26ms)
Completed 201 Created in 213ms (Views: 1.2ms | ActiveRecord: 0.5ms | Allocations: 943)


Started GET "/customers" for 127.0.0.1 at 2023-07-01 23:21:42 +0100
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
  ↳ app/controllers/customers_controller.rb:49:in `index'
Started GET "/variant_groups" for 127.0.0.1 at 2023-07-01 23:21:42 +0100
Processing by VariantGroupsController#index as HTML
[active_model_serializers]   [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  [1m[36mVariantGroup Load (0.3ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups"[0m
Started GET "/discounts" for 127.0.0.1 at 2023-07-01 23:21:42 +0100
  ↳ app/controllers/variant_groups_controller.rb:8:in `index'
Processing by DiscountsController#index as HTML
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
  [1m[36mDiscount Load (0.4ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts"[0m
[active_model_serializers]   ↳ app/controllers/variant_groups_controller.rb:8:in `index'
  ↳ app/controllers/discounts_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.3ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."discount_id" = $1[0m  [["discount_id", 3]]
[active_model_serializers]   ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers]   ↳ app/controllers/discounts_controller.rb:9:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (8.21ms)
Completed 200 OK in 11ms (Views: 9.9ms | ActiveRecord: 1.0ms | Allocations: 3463)


[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (6.3ms)
Completed 200 OK in 11ms (Views: 9.6ms | ActiveRecord: 0.7ms | Allocations: 2542)


[active_model_serializers]   [1m[36mCustomerAddress Load (10.1ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers]   [1m[36mStripeCustomer Load (0.3ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers]   [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (30.53ms)
Completed 200 OK in 36ms (Views: 23.7ms | ActiveRecord: 11.5ms | Allocations: 5067)


Started GET "/products" for 127.0.0.1 at 2023-07-01 23:21:54 +0100
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (0.6ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.3ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.8ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.6ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (70.75ms)
Completed 200 OK in 79ms (Views: 74.3ms | ActiveRecord: 4.8ms | Allocations: 20807)


Started DELETE "/product_images/1" for 127.0.0.1 at 2023-07-01 23:22:10 +0100
Started DELETE "/product_images/1" for 127.0.0.1 at 2023-07-01 23:22:10 +0100
Processing by ProductImagesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Processing by ProductImagesController#destroy as HTML
  Parameters: {"id"=>"1"}
  ↳ app/controllers/product_images_controller.rb:44:in `set_product_image'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/product_images_controller.rb:38:in `destroy'
  [1m[36mProductImage Load (0.5ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mProductImage Destroy (0.6ms)[0m  [1m[31mDELETE FROM "product_images" WHERE "product_images"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/product_images_controller.rb:44:in `set_product_image'
  ↳ app/controllers/product_images_controller.rb:38:in `destroy'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/product_images_controller.rb:38:in `destroy'
  [1m[36mTRANSACTION (15.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mProductImage Destroy (13.5ms)[0m  [1m[31mDELETE FROM "product_images" WHERE "product_images"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/product_images_controller.rb:38:in `destroy'
  ↳ app/controllers/product_images_controller.rb:38:in `destroy'
Completed 204 No Content in 24ms (ActiveRecord: 16.8ms | Allocations: 1891)


  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/product_images_controller.rb:38:in `destroy'
Completed 204 No Content in 24ms (ActiveRecord: 14.9ms | Allocations: 1913)


Started PUT "/products/1" for 127.0.0.1 at 2023-07-01 23:22:30 +0100
Processing by ProductsController#update as HTML
  Parameters: {"name"=>"Test", "price"=>2000, "description"=>"test", "discount_id"=>3, "variant_group_id"=>3, "active"=>true, "id"=>"1"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:44:in `set_product'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:29:in `update'
  [1m[36mDiscount Load (0.4ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:29:in `update'
  [1m[36mVariantGroup Load (0.3ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:30:in `update'
[active_model_serializers] Rendered ProductSerializer with ActiveModelSerializers::Adapter::Attributes (3.91ms)
Completed 200 OK in 24ms (Views: 4.4ms | ActiveRecord: 2.1ms | Allocations: 4891)


Started GET "/discounts" for 127.0.0.1 at 2023-07-01 23:22:30 +0100
Started GET "/products" for 127.0.0.1 at 2023-07-01 23:22:30 +0100
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Started GET "/variant_groups" for 127.0.0.1 at 2023-07-01 23:22:30 +0100
Processing by VariantGroupsController#index as HTML
Processing by DiscountsController#index as HTML
  [1m[36mVariantGroup Load (0.7ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups"[0m
  ↳ app/controllers/variant_groups_controller.rb:8:in `index'
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (0.9ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (1.2ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
  [1m[36mDiscount Load (0.7ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts"[0m
[active_model_serializers]   ↳ app/controllers/variant_groups_controller.rb:8:in `index'
  ↳ app/controllers/discounts_controller.rb:9:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (18.12ms)
[active_model_serializers]   [1m[36mVariantGroup Load (1.9ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Completed 200 OK in 29ms (Views: 25.6ms | ActiveRecord: 2.6ms | Allocations: 3463)


[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."discount_id" = $1[0m  [["discount_id", 3]]
[active_model_serializers]   [1m[36mProductImage Load (0.6ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/discounts_controller.rb:9:in `index'
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (12.69ms)
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
Completed 200 OK in 33ms (Views: 31.4ms | ActiveRecord: 1.1ms | Allocations: 2847)


[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.5ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.1ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.7ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (1.2ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.1ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (98.51ms)
Completed 200 OK in 122ms (Views: 114.3ms | ActiveRecord: 7.0ms | Allocations: 20663)


Started GET "/products" for 127.0.0.1 at 2023-07-01 23:22:32 +0100
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (0.4ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (1.5ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.0ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.9ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (2.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.7ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (1.6ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.1ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.1ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (83.0ms)
Completed 200 OK in 88ms (Views: 77.8ms | ActiveRecord: 10.3ms | Allocations: 20664)


Started POST "/product_images" for 127.0.0.1 at 2023-07-01 23:22:34 +0100
Processing by ProductImagesController#create as HTML
  Parameters: {"product_id"=>1, "image_url"=>"http://res.cloudinary.com/db7dgsxy2/image/upload/v1688250154/Oink_Oink_Product_Images/bmvw8hfzx64by2nngcjv.jpg", "image_public_id"=>"Oink_Oink_Product_Images/bmvw8hfzx64by2nngcjv"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/product_images_controller.rb:20:in `create'
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/product_images_controller.rb:20:in `create'
  [1m[36mProductImage Create (1.0ms)[0m  [1m[32mINSERT INTO "product_images" ("product_id", "image_url", "image_public_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 1], ["image_url", "http://res.cloudinary.com/db7dgsxy2/image/upload/v1688250154/Oink_Oink_Product_Images/bmvw8hfzx64by2nngcjv.jpg"], ["image_public_id", "Oink_Oink_Product_Images/bmvw8hfzx64by2nngcjv"], ["created_at", "2023-07-01 22:22:34.814747"], ["updated_at", "2023-07-01 22:22:34.814747"]]
  ↳ app/controllers/product_images_controller.rb:20:in `create'
  [1m[36mTRANSACTION (5.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/product_images_controller.rb:20:in `create'
[active_model_serializers] Rendered ProductImageSerializer with ActiveModelSerializers::Adapter::Attributes (0.91ms)
Completed 201 Created in 24ms (Views: 2.0ms | ActiveRecord: 7.4ms | Allocations: 3349)


Started DELETE "/product_images/2" for 127.0.0.1 at 2023-07-01 23:22:39 +0100
Processing by ProductImagesController#destroy as HTML
  Parameters: {"id"=>"2"}
  [1m[36mProductImage Load (0.9ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/product_images_controller.rb:44:in `set_product_image'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/product_images_controller.rb:38:in `destroy'
  [1m[36mProductImage Destroy (1.1ms)[0m  [1m[31mDELETE FROM "product_images" WHERE "product_images"."id" = $1[0m  [["id", 2]]
  ↳ app/controllers/product_images_controller.rb:38:in `destroy'
  [1m[36mTRANSACTION (6.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/product_images_controller.rb:38:in `destroy'
Completed 204 No Content in 27ms (ActiveRecord: 8.6ms | Allocations: 1922)


Started PUT "/products/2" for 127.0.0.1 at 2023-07-01 23:22:57 +0100
Processing by ProductsController#update as HTML
  Parameters: {"name"=>"Test 2", "price"=>2000, "description"=>"test", "discount_id"=>3, "variant_group_id"=>3, "active"=>true, "id"=>"2"}
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:44:in `set_product'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:29:in `update'
  [1m[36mDiscount Load (0.3ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:29:in `update'
  [1m[36mVariantGroup Load (0.6ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:30:in `update'
[active_model_serializers] Rendered ProductSerializer with ActiveModelSerializers::Adapter::Attributes (5.04ms)
Completed 200 OK in 31ms (Views: 5.2ms | ActiveRecord: 2.6ms | Allocations: 5013)


Started GET "/products" for 127.0.0.1 at 2023-07-01 23:22:57 +0100
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Started GET "/discounts" for 127.0.0.1 at 2023-07-01 23:22:57 +0100
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (3.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Started GET "/variant_groups" for 127.0.0.1 at 2023-07-01 23:22:57 +0100
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
Processing by VariantGroupsController#index as HTML
[active_model_serializers]   [1m[36mVariantGroup Load (2.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
Processing by DiscountsController#index as HTML
[active_model_serializers]   [1m[36mProductImage Load (1.9ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
  [1m[36mVariantGroup Load (1.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups"[0m
  ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProduct Load (3.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
  [1m[36mDiscount Load (0.8ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts"[0m
  ↳ app/controllers/discounts_controller.rb:9:in `index'
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (2.4ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (27.96ms)
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
Completed 200 OK in 67ms (Views: 48.6ms | ActiveRecord: 17.6ms | Allocations: 21753)


[active_model_serializers]   [1m[36mProduct Load (2.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."discount_id" = $1[0m  [["discount_id", 3]]
[active_model_serializers]   ↳ app/controllers/discounts_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mProductImage Load (2.6ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (16.7ms)
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
Completed 200 OK in 56ms (Views: 31.2ms | ActiveRecord: 24.8ms | Allocations: 19500)


[active_model_serializers]   [1m[36mVariantOption Load (1.8ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.1ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.1ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (122.28ms)
Completed 200 OK in 129ms (Views: 115.0ms | ActiveRecord: 14.0ms | Allocations: 35983)


Started GET "/products" for 127.0.0.1 at 2023-07-01 23:22:59 +0100
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (0.4ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.4ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.3ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (65.21ms)
Completed 200 OK in 74ms (Views: 70.9ms | ActiveRecord: 3.1ms | Allocations: 20663)


Started POST "/product_images" for 127.0.0.1 at 2023-07-01 23:23:02 +0100
Processing by ProductImagesController#create as HTML
  Parameters: {"product_id"=>2, "image_url"=>"http://res.cloudinary.com/db7dgsxy2/image/upload/v1688250179/Oink_Oink_Product_Images/ij22hwli9dffnyq8wnkm.jpg", "image_public_id"=>"Oink_Oink_Product_Images/ij22hwli9dffnyq8wnkm"}
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/product_images_controller.rb:20:in `create'
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/product_images_controller.rb:20:in `create'
  [1m[36mProductImage Create (0.8ms)[0m  [1m[32mINSERT INTO "product_images" ("product_id", "image_url", "image_public_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 2], ["image_url", "http://res.cloudinary.com/db7dgsxy2/image/upload/v1688250179/Oink_Oink_Product_Images/ij22hwli9dffnyq8wnkm.jpg"], ["image_public_id", "Oink_Oink_Product_Images/ij22hwli9dffnyq8wnkm"], ["created_at", "2023-07-01 22:23:02.353525"], ["updated_at", "2023-07-01 22:23:02.353525"]]
  ↳ app/controllers/product_images_controller.rb:20:in `create'
  [1m[36mTRANSACTION (6.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/product_images_controller.rb:20:in `create'
[active_model_serializers] Rendered ProductImageSerializer with ActiveModelSerializers::Adapter::Attributes (0.51ms)
Completed 201 Created in 37ms (Views: 1.3ms | ActiveRecord: 8.1ms | Allocations: 3354)


Started DELETE "/product_images/3" for 127.0.0.1 at 2023-07-01 23:23:06 +0100
Processing by ProductImagesController#destroy as HTML
  Parameters: {"id"=>"3"}
  [1m[36mProductImage Load (0.7ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/product_images_controller.rb:44:in `set_product_image'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/product_images_controller.rb:38:in `destroy'
  [1m[36mProductImage Destroy (1.0ms)[0m  [1m[31mDELETE FROM "product_images" WHERE "product_images"."id" = $1[0m  [["id", 3]]
  ↳ app/controllers/product_images_controller.rb:38:in `destroy'
  [1m[36mTRANSACTION (14.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/product_images_controller.rb:38:in `destroy'
Completed 204 No Content in 35ms (ActiveRecord: 16.9ms | Allocations: 1734)


Started PUT "/products/3" for 127.0.0.1 at 2023-07-01 23:23:20 +0100
Processing by ProductsController#update as HTML
  Parameters: {"name"=>"Test 3", "price"=>2000, "description"=>"test", "discount_id"=>3, "variant_group_id"=>3, "active"=>true, "id"=>"3"}
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:44:in `set_product'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:29:in `update'
  [1m[36mDiscount Load (0.4ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:29:in `update'
  [1m[36mVariantGroup Load (0.4ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mProductImage Load (0.6ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:30:in `update'
[active_model_serializers] Rendered ProductSerializer with ActiveModelSerializers::Adapter::Attributes (5.26ms)
Completed 200 OK in 20ms (Views: 5.2ms | ActiveRecord: 2.5ms | Allocations: 4630)


Started GET "/products" for 127.0.0.1 at 2023-07-01 23:23:20 +0100
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (0.4ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
Started GET "/discounts" for 127.0.0.1 at 2023-07-01 23:23:20 +0100
Processing by DiscountsController#index as HTML
[active_model_serializers]   [1m[36mVariantGroup Load (0.9ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
Started GET "/variant_groups" for 127.0.0.1 at 2023-07-01 23:23:20 +0100
Processing by VariantGroupsController#index as HTML
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
  [1m[36mDiscount Load (0.6ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts"[0m
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
  ↳ app/controllers/discounts_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.1ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."discount_id" = $1[0m  [["discount_id", 3]]
  [1m[36mVariantGroup Load (0.3ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups"[0m
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   ↳ app/controllers/discounts_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.6ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (11.6ms)
Completed 200 OK in 20ms (Views: 18.8ms | ActiveRecord: 1.0ms | Allocations: 2542)


[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mVariantOption Load (0.3ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (12.96ms)
Completed 200 OK in 23ms (Views: 21.7ms | ActiveRecord: 0.9ms | Allocations: 3463)


[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.3ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (95.04ms)
Completed 200 OK in 99ms (Views: 94.1ms | ActiveRecord: 4.1ms | Allocations: 20664)


Started GET "/products" for 127.0.0.1 at 2023-07-01 23:23:22 +0100
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (2.9ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.2ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.9ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.6ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.7ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.3ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (73.59ms)
Completed 200 OK in 78ms (Views: 70.0ms | ActiveRecord: 7.8ms | Allocations: 20663)


Started POST "/product_images" for 127.0.0.1 at 2023-07-01 23:23:23 +0100
Processing by ProductImagesController#create as HTML
  Parameters: {"product_id"=>3, "image_url"=>"http://res.cloudinary.com/db7dgsxy2/image/upload/v1688250203/Oink_Oink_Product_Images/o0bqebsnnqrenaiqzbhn.jpg", "image_public_id"=>"Oink_Oink_Product_Images/o0bqebsnnqrenaiqzbhn"}
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/product_images_controller.rb:20:in `create'
  [1m[36mProduct Load (1.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/product_images_controller.rb:20:in `create'
  [1m[36mProductImage Create (1.7ms)[0m  [1m[32mINSERT INTO "product_images" ("product_id", "image_url", "image_public_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 3], ["image_url", "http://res.cloudinary.com/db7dgsxy2/image/upload/v1688250203/Oink_Oink_Product_Images/o0bqebsnnqrenaiqzbhn.jpg"], ["image_public_id", "Oink_Oink_Product_Images/o0bqebsnnqrenaiqzbhn"], ["created_at", "2023-07-01 22:23:23.952398"], ["updated_at", "2023-07-01 22:23:23.952398"]]
  ↳ app/controllers/product_images_controller.rb:20:in `create'
  [1m[36mTRANSACTION (16.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/product_images_controller.rb:20:in `create'
[active_model_serializers] Rendered ProductImageSerializer with ActiveModelSerializers::Adapter::Attributes (2.56ms)
Completed 201 Created in 60ms (Views: 5.2ms | ActiveRecord: 20.4ms | Allocations: 2920)


Started DELETE "/product_images/4" for 127.0.0.1 at 2023-07-01 23:23:31 +0100
Processing by ProductImagesController#destroy as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProductImage Load (1.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/product_images_controller.rb:44:in `set_product_image'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/product_images_controller.rb:38:in `destroy'
  [1m[36mProductImage Destroy (1.1ms)[0m  [1m[31mDELETE FROM "product_images" WHERE "product_images"."id" = $1[0m  [["id", 4]]
  ↳ app/controllers/product_images_controller.rb:38:in `destroy'
  [1m[36mTRANSACTION (15.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/product_images_controller.rb:38:in `destroy'
Completed 204 No Content in 38ms (ActiveRecord: 19.4ms | Allocations: 1732)


Started PUT "/products/4" for 127.0.0.1 at 2023-07-01 23:23:48 +0100
Processing by ProductsController#update as HTML
  Parameters: {"name"=>"Test 4", "price"=>2000, "description"=>"test", "discount_id"=>3, "variant_group_id"=>3, "active"=>true, "id"=>"4"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:44:in `set_product'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:29:in `update'
  [1m[36mDiscount Load (0.6ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:29:in `update'
  [1m[36mVariantGroup Load (0.3ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:30:in `update'
[active_model_serializers] Rendered ProductSerializer with ActiveModelSerializers::Adapter::Attributes (5.63ms)
Completed 200 OK in 24ms (Views: 6.7ms | ActiveRecord: 2.2ms | Allocations: 4630)


Started GET "/products" for 127.0.0.1 at 2023-07-01 23:23:48 +0100
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (1.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
Started GET "/discounts" for 127.0.0.1 at 2023-07-01 23:23:48 +0100
Processing by DiscountsController#index as HTML
  [1m[36mDiscount Load (0.3ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts"[0m
Started GET "/variant_groups" for 127.0.0.1 at 2023-07-01 23:23:48 +0100
  ↳ app/controllers/discounts_controller.rb:9:in `index'
Processing by VariantGroupsController#index as HTML
[active_model_serializers]   [1m[36mDiscount Load (2.8ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."discount_id" = $1[0m  [["discount_id", 3]]
[active_model_serializers]   ↳ app/controllers/discounts_controller.rb:9:in `index'
  [1m[36mVariantGroup Load (1.9ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups"[0m
  ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (7.76ms)
Completed 200 OK in 11ms (Views: 9.6ms | ActiveRecord: 0.9ms | Allocations: 2539)


[active_model_serializers]   [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.5ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (28.63ms)
Completed 200 OK in 38ms (Views: 33.5ms | ActiveRecord: 3.3ms | Allocations: 4371)


[active_model_serializers]   [1m[36mVariantGroup Load (3.3ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.1ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.5ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (109.99ms)
Completed 200 OK in 116ms (Views: 106.4ms | ActiveRecord: 9.4ms | Allocations: 24964)


Started GET "/products" for 127.0.0.1 at 2023-07-01 23:23:50 +0100
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (0.2ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.2ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.1ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.5ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.2ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (74.78ms)
Completed 200 OK in 79ms (Views: 74.6ms | ActiveRecord: 3.7ms | Allocations: 20664)


Started POST "/product_images" for 127.0.0.1 at 2023-07-01 23:23:51 +0100
Processing by ProductImagesController#create as HTML
  Parameters: {"product_id"=>4, "image_url"=>"http://res.cloudinary.com/db7dgsxy2/image/upload/v1688250231/Oink_Oink_Product_Images/uz7pxo3vfgalueicpwun.jpg", "image_public_id"=>"Oink_Oink_Product_Images/uz7pxo3vfgalueicpwun"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/product_images_controller.rb:20:in `create'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/product_images_controller.rb:20:in `create'
  [1m[36mProductImage Create (1.0ms)[0m  [1m[32mINSERT INTO "product_images" ("product_id", "image_url", "image_public_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 4], ["image_url", "http://res.cloudinary.com/db7dgsxy2/image/upload/v1688250231/Oink_Oink_Product_Images/uz7pxo3vfgalueicpwun.jpg"], ["image_public_id", "Oink_Oink_Product_Images/uz7pxo3vfgalueicpwun"], ["created_at", "2023-07-01 22:23:51.916361"], ["updated_at", "2023-07-01 22:23:51.916361"]]
  ↳ app/controllers/product_images_controller.rb:20:in `create'
  [1m[36mTRANSACTION (16.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/product_images_controller.rb:20:in `create'
[active_model_serializers] Rendered ProductImageSerializer with ActiveModelSerializers::Adapter::Attributes (2.19ms)
Completed 201 Created in 38ms (Views: 5.7ms | ActiveRecord: 17.9ms | Allocations: 3302)


Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 23:24:59 +0100
Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 23:24:59 +0100
Processing by BakersController#logged_in as */*
Processing by CustomersController#logged_in as */*
Started GET "/products" for 127.0.0.1 at 2023-07-01 23:24:59 +0100
  [1m[36mBaker Load (0.2ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered BakerSerializer with ActiveModelSerializers::Adapter::Attributes (0.33ms)
Completed 201 Created in 5ms (Views: 0.9ms | ActiveRecord: 0.2ms | Allocations: 836)


[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.09ms)
Completed 201 Created in 5ms (Views: 0.6ms | ActiveRecord: 0.4ms | Allocations: 1227)


Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (0.3ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.4ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.2ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (96.38ms)
Completed 200 OK in 105ms (Views: 100.4ms | ActiveRecord: 4.2ms | Allocations: 20808)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 23:25:08 +0100
Started GET "/products" for 127.0.0.1 at 2023-07-01 23:25:08 +0100
Processing by ProductsController#index as HTML
Processing by CustomersController#logged_in as */*
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 23:25:08 +0100
  [1m[36mCustomer Load (0.7ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Processing by BakersController#logged_in as */*
  [1m[36mProduct Load (1.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.07ms)
Completed 201 Created in 8ms (Views: 0.6ms | ActiveRecord: 0.7ms | Allocations: 851)


  [1m[36mBaker Load (3.9ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered BakerSerializer with ActiveModelSerializers::Adapter::Attributes (0.34ms)
[active_model_serializers]   [1m[36mDiscount Load (6.4ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
Completed 201 Created in 12ms (Views: 2.9ms | ActiveRecord: 3.9ms | Allocations: 832)


[active_model_serializers]   [1m[36mVariantGroup Load (8.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (3.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.7ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (6.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (3.6ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.2ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (1.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (126.42ms)
Completed 200 OK in 135ms (Views: 102.4ms | ActiveRecord: 32.4ms | Allocations: 20807)


Started GET "/products" for 127.0.0.1 at 2023-07-01 23:25:38 +0100
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 23:25:38 +0100
Processing by ProductsController#index as HTML
Processing by BakersController#logged_in as */*
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 23:25:38 +0100
  ↳ app/controllers/products_controller.rb:8:in `index'
Processing by CustomersController#logged_in as */*
[active_model_serializers]   [1m[36mDiscount Load (3.8ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
  [1m[36mBaker Load (0.3ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mVariantGroup Load (2.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered BakerSerializer with ActiveModelSerializers::Adapter::Attributes (0.36ms)
Completed 201 Created in 15ms (Views: 1.0ms | ActiveRecord: 0.3ms | Allocations: 2717)


[active_model_serializers]   [1m[36mProductImage Load (3.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.07ms)
Completed 201 Created in 28ms (Views: 1.4ms | ActiveRecord: 14.8ms | Allocations: 4757)


[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.9ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.4ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.1ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (129.48ms)
Completed 200 OK in 133ms (Views: 120.3ms | ActiveRecord: 11.9ms | Allocations: 20807)


Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 23:30:47 +0100
Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 23:30:47 +0100
Processing by BakersController#logged_in as */*
Processing by CustomersController#logged_in as */*
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
  [1m[36mBaker Load (0.8ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered BakerSerializer with ActiveModelSerializers::Adapter::Attributes (0.37ms)
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.06ms)
Completed 201 Created in 5ms (Views: 2.1ms | ActiveRecord: 0.3ms | Allocations: 869)


Completed 201 Created in 5ms (Views: 0.9ms | ActiveRecord: 0.8ms | Allocations: 847)


Started GET "/products" for 127.0.0.1 at 2023-07-01 23:30:47 +0100
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (0.5ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.5ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.8ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (2.5ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.1ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.4ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.1ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (78.62ms)
Completed 200 OK in 98ms (Views: 97.7ms | ActiveRecord: 14.9ms | Allocations: 23653)


Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 23:37:14 +0100
Started GET "/products" for 127.0.0.1 at 2023-07-01 23:37:14 +0100
Processing by ProductsController#index as HTML
Processing by BakersController#logged_in as */*
Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 23:37:14 +0100
Processing by CustomersController#logged_in as */*
  [1m[36mBaker Load (1.9ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered BakerSerializer with ActiveModelSerializers::Adapter::Attributes (0.35ms)
Completed 201 Created in 23ms (Views: 1.0ms | ActiveRecord: 10.1ms | Allocations: 3575)


  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
  [1m[36mCustomer Load (2.1ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.07ms)
Completed 201 Created in 29ms (Views: 0.8ms | ActiveRecord: 16.9ms | Allocations: 6755)


[active_model_serializers]   [1m[36mDiscount Load (1.1ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.4ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.8ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.5ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.5ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.9ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.5ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.4ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.1ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.1ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.1ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (110.92ms)
Completed 200 OK in 139ms (Views: 139.1ms | ActiveRecord: 25.7ms | Allocations: 27991)


Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 23:38:57 +0100
Processing by BakersController#logged_in as */*
Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 23:38:57 +0100
Processing by CustomersController#logged_in as */*
Started GET "/products" for 127.0.0.1 at 2023-07-01 23:38:57 +0100
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
  [1m[36mBaker Load (0.6ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered BakerSerializer with ActiveModelSerializers::Adapter::Attributes (0.39ms)
Completed 201 Created in 27ms (Views: 1.1ms | ActiveRecord: 6.7ms | Allocations: 5265)


[active_model_serializers]   [1m[36mDiscount Load (5.5ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (2.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (7.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCustomer Load (0.7ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.07ms)
Completed 201 Created in 54ms (Views: 0.6ms | ActiveRecord: 15.4ms | Allocations: 6715)


[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.5ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.3ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (143.17ms)
Completed 200 OK in 152ms (Views: 134.1ms | ActiveRecord: 17.1ms | Allocations: 20807)


Started GET "/customers" for 127.0.0.1 at 2023-07-01 23:38:58 +0100
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (1.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
Started GET "/variant_groups" for 127.0.0.1 at 2023-07-01 23:38:58 +0100
Processing by VariantGroupsController#index as HTML
  ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers]   [1m[36mCart Load (0.8ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
Started GET "/discounts" for 127.0.0.1 at 2023-07-01 23:38:58 +0100
Processing by DiscountsController#index as HTML
  [1m[36mDiscount Load (0.7ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts"[0m
  [1m[36mVariantGroup Load (0.8ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups"[0m
  ↳ app/controllers/discounts_controller.rb:9:in `index'
  ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."discount_id" = $1[0m  [["discount_id", 3]]
[active_model_serializers]   ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.5ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers]   ↳ app/controllers/discounts_controller.rb:9:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (11.64ms)
Completed 200 OK in 36ms (Views: 35.9ms | ActiveRecord: 11.2ms | Allocations: 6300)


[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (15.81ms)
[active_model_serializers]   [1m[36mCustomerAddress Load (0.4ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
Completed 200 OK in 37ms (Views: 24.6ms | ActiveRecord: 1.3ms | Allocations: 2577)


[active_model_serializers]   [1m[36mStripeCustomer Load (0.6ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers]   [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (58.35ms)
Completed 200 OK in 68ms (Views: 63.9ms | ActiveRecord: 3.6ms | Allocations: 5101)


Started GET "/products" for 127.0.0.1 at 2023-07-01 23:39:00 +0100
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (0.5ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (1.3ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.6ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.5ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.6ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.4ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (82.06ms)
Completed 200 OK in 87ms (Views: 80.5ms | ActiveRecord: 5.6ms | Allocations: 20874)


Started DELETE "/baker-logout" for 127.0.0.1 at 2023-07-01 23:40:56 +0100
Processing by BakersController#logout as */*
Completed 204 No Content in 3ms (ActiveRecord: 0.0ms | Allocations: 184)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 23:43:01 +0100
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 23:43:01 +0100
Processing by BakersController#logged_in as */*
Processing by CustomersController#logged_in as */*
Started GET "/products" for 127.0.0.1 at 2023-07-01 23:43:01 +0100
Processing by ProductsController#index as HTML
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mBaker Load (0.3ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.05ms)
Completed 201 Created in 7ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 861)


[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.06ms)
  ↳ app/controllers/products_controller.rb:8:in `index'
Completed 201 Created in 7ms (Views: 0.5ms | ActiveRecord: 0.3ms | Allocations: 859)


[active_model_serializers]   [1m[36mDiscount Load (0.3ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.9ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.9ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.8ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.4ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.5ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (1.4ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.1ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (104.08ms)
Completed 200 OK in 108ms (Views: 100.2ms | ActiveRecord: 7.5ms | Allocations: 20807)


Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 23:45:24 +0100
Processing by BakersController#logged_in as */*
  [1m[36mBaker Load (0.6ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.07ms)
Completed 201 Created in 4ms (Views: 0.6ms | ActiveRecord: 0.6ms | Allocations: 848)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 23:45:24 +0100
Processing by CustomersController#logged_in as */*
Started GET "/products" for 127.0.0.1 at 2023-07-01 23:45:24 +0100
Processing by ProductsController#index as HTML
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.09ms)
Completed 201 Created in 5ms (Views: 0.6ms | ActiveRecord: 0.4ms | Allocations: 853)


  [1m[36mProduct Load (1.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (0.5ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.5ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.4ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (77.68ms)
Completed 200 OK in 108ms (Views: 105.0ms | ActiveRecord: 13.4ms | Allocations: 23633)


Started POST "/baker-login" for 127.0.0.1 at 2023-07-01 23:45:46 +0100
Processing by BakersController#login as HTML
  Parameters: {"password"=>"[FILTERED]"}
  [1m[36mBaker Load (0.5ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:6:in `login'
[active_model_serializers] Rendered BakerSerializer with ActiveModelSerializers::Adapter::Attributes (0.16ms)
Completed 201 Created in 213ms (Views: 0.6ms | ActiveRecord: 0.5ms | Allocations: 942)


Started POST "/baker-login" for 127.0.0.1 at 2023-07-01 23:45:46 +0100
Processing by BakersController#login as HTML
  Parameters: {"password"=>"[FILTERED]"}
  [1m[36mBaker Load (0.2ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:6:in `login'
[active_model_serializers] Rendered BakerSerializer with ActiveModelSerializers::Adapter::Attributes (0.23ms)
Completed 201 Created in 211ms (Views: 0.8ms | ActiveRecord: 0.2ms | Allocations: 950)


Started GET "/discounts" for 127.0.0.1 at 2023-07-01 23:45:47 +0100
Started GET "/variant_groups" for 127.0.0.1 at 2023-07-01 23:45:47 +0100
Processing by DiscountsController#index as HTML
Processing by VariantGroupsController#index as HTML
Started GET "/customers" for 127.0.0.1 at 2023-07-01 23:45:47 +0100
Processing by CustomersController#index as HTML
  [1m[36mVariantGroup Load (1.6ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups"[0m
  ↳ app/controllers/variant_groups_controller.rb:8:in `index'
  [1m[36mDiscount Load (0.3ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts"[0m
  ↳ app/controllers/discounts_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."discount_id" = $1[0m  [["discount_id", 3]]
[active_model_serializers]   [1m[36mProduct Load (1.9ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/discounts_controller.rb:9:in `index'
[active_model_serializers]   ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (5.26ms)
Completed 200 OK in 16ms (Views: 14.9ms | ActiveRecord: 0.6ms | Allocations: 2542)


[active_model_serializers]   [1m[36mVariantOption Load (3.1ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (16.76ms)
Completed 200 OK in 26ms (Views: 18.7ms | ActiveRecord: 6.6ms | Allocations: 6720)


  [1m[36mCustomer Load (4.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
  ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers]   [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers]   [1m[36mCustomerAddress Load (0.5ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers]   [1m[36mStripeCustomer Load (0.7ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers]   [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (23.23ms)
Completed 200 OK in 54ms (Views: 38.5ms | ActiveRecord: 15.2ms | Allocations: 11470)


Started GET "/products" for 127.0.0.1 at 2023-07-01 23:45:54 +0100
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (0.3ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (1.2ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (4.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.6ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.1ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.6ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.3ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (82.89ms)
Completed 200 OK in 87ms (Views: 77.8ms | ActiveRecord: 8.4ms | Allocations: 20807)


Started DELETE "/baker-logout" for 127.0.0.1 at 2023-07-01 23:47:27 +0100
Processing by BakersController#logout as */*
Completed 204 No Content in 1ms (ActiveRecord: 0.0ms | Allocations: 172)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 23:47:34 +0100
Processing by CustomersController#logged_in as */*
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 23:47:34 +0100
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.06ms)
Completed 201 Created in 3ms (Views: 0.5ms | ActiveRecord: 0.3ms | Allocations: 854)


Started GET "/products" for 127.0.0.1 at 2023-07-01 23:47:34 +0100
Processing by ProductsController#index as HTML
Processing by BakersController#logged_in as */*
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
  [1m[36mBaker Load (0.5ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.08ms)
Completed 201 Created in 8ms (Views: 0.7ms | ActiveRecord: 0.5ms | Allocations: 1868)


[active_model_serializers]   [1m[36mDiscount Load (6.9ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.4ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.7ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.1ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.5ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.1ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.4ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (100.89ms)
Completed 200 OK in 107ms (Views: 95.6ms | ActiveRecord: 11.2ms | Allocations: 22030)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 23:51:01 +0100
Processing by CustomersController#logged_in as */*
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.06ms)
Completed 201 Created in 5ms (Views: 0.8ms | ActiveRecord: 0.2ms | Allocations: 1104)


Started GET "/products" for 127.0.0.1 at 2023-07-01 23:51:01 +0100
Processing by ProductsController#index as HTML
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 23:51:01 +0100
Processing by BakersController#logged_in as */*
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (0.9ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (1.6ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.7ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
  [1m[36mBaker Load (2.1ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.06ms)
Completed 201 Created in 79ms (Views: 1.9ms | ActiveRecord: 26.6ms | Allocations: 11605)


[active_model_serializers]   [1m[36mProductImage Load (9.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.3ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (127.53ms)
Completed 200 OK in 136ms (Views: 120.8ms | ActiveRecord: 15.2ms | Allocations: 25034)


Started POST "/baker-login" for 127.0.0.1 at 2023-07-01 23:51:24 +0100
Processing by BakersController#login as HTML
  Parameters: {"password"=>"[FILTERED]"}
  [1m[36mBaker Load (0.3ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:6:in `login'
[active_model_serializers] Rendered BakerSerializer with ActiveModelSerializers::Adapter::Attributes (0.74ms)
Completed 201 Created in 211ms (Views: 2.1ms | ActiveRecord: 0.3ms | Allocations: 947)


Started GET "/customers" for 127.0.0.1 at 2023-07-01 23:51:25 +0100
Processing by CustomersController#index as HTML
Started GET "/variant_groups" for 127.0.0.1 at 2023-07-01 23:51:25 +0100
Started GET "/discounts" for 127.0.0.1 at 2023-07-01 23:51:25 +0100
Processing by DiscountsController#index as HTML
  [1m[36mDiscount Load (0.3ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts"[0m
  ↳ app/controllers/discounts_controller.rb:9:in `index'
Processing by VariantGroupsController#index as HTML
[active_model_serializers]   [1m[36mProduct Load (1.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."discount_id" = $1[0m  [["discount_id", 3]]
[active_model_serializers]   ↳ app/controllers/discounts_controller.rb:9:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (16.55ms)
Completed 200 OK in 22ms (Views: 19.4ms | ActiveRecord: 1.8ms | Allocations: 2542)


  [1m[36mCustomer Load (6.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
  ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers]   [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers]   [1m[36mCustomerAddress Load (0.4ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers]   [1m[36mStripeCustomer Load (0.4ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
  [1m[36mVariantGroup Load (1.7ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups"[0m
[active_model_serializers]   [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (20.44ms)
Completed 200 OK in 51ms (Views: 50.8ms | ActiveRecord: 14.5ms | Allocations: 7894)


[active_model_serializers]   [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.8ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (14.75ms)
Completed 200 OK in 41ms (Views: 40.5ms | ActiveRecord: 14.4ms | Allocations: 6614)


Started GET "/products" for 127.0.0.1 at 2023-07-01 23:51:35 +0100
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (0.3ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.3ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.5ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.3ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (73.63ms)
Completed 200 OK in 77ms (Views: 73.6ms | ActiveRecord: 3.0ms | Allocations: 20807)


Started DELETE "/products/5" for 127.0.0.1 at 2023-07-01 23:51:46 +0100
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"5"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:44:in `set_product'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:38:in `destroy'
  [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
  ↳ app/controllers/products_controller.rb:38:in `destroy'
  [1m[36mProductImage Destroy (0.4ms)[0m  [1m[31mDELETE FROM "product_images" WHERE "product_images"."id" = $1[0m  [["id", 5]]
  ↳ app/controllers/products_controller.rb:38:in `destroy'
  [1m[36mProduct Destroy (19.1ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 5]]
  ↳ app/controllers/products_controller.rb:38:in `destroy'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:38:in `destroy'
Completed 204 No Content in 37ms (ActiveRecord: 21.4ms | Allocations: 3271)


Started DELETE "/products/4" for 127.0.0.1 at 2023-07-01 23:51:48 +0100
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:44:in `set_product'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:38:in `destroy'
  [1m[36mProductImage Load (0.7ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
  ↳ app/controllers/products_controller.rb:38:in `destroy'
  [1m[36mProductImage Destroy (0.4ms)[0m  [1m[31mDELETE FROM "product_images" WHERE "product_images"."id" = $1[0m  [["id", 9]]
  ↳ app/controllers/products_controller.rb:38:in `destroy'
  [1m[36mProduct Destroy (1.6ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 4]]
  ↳ app/controllers/products_controller.rb:38:in `destroy'
  [1m[36mTRANSACTION (6.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:38:in `destroy'
Completed 204 No Content in 27ms (ActiveRecord: 10.0ms | Allocations: 3197)


Started DELETE "/products/3" for 127.0.0.1 at 2023-07-01 23:51:50 +0100
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"3"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:44:in `set_product'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:38:in `destroy'
  [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
  ↳ app/controllers/products_controller.rb:38:in `destroy'
  [1m[36mProductImage Destroy (0.4ms)[0m  [1m[31mDELETE FROM "product_images" WHERE "product_images"."id" = $1[0m  [["id", 8]]
  ↳ app/controllers/products_controller.rb:38:in `destroy'
  [1m[36mProduct Destroy (0.8ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 3]]
  ↳ app/controllers/products_controller.rb:38:in `destroy'
  [1m[36mTRANSACTION (6.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:38:in `destroy'
Completed 204 No Content in 20ms (ActiveRecord: 8.3ms | Allocations: 3141)


Started DELETE "/product_images/9" for 127.0.0.1 at 2023-07-01 23:51:51 +0100
Processing by ProductImagesController#destroy as HTML
  Parameters: {"id"=>"9"}
  [1m[36mProductImage Load (0.6ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/product_images_controller.rb:44:in `set_product_image'
Completed 404 Not Found in 6ms (ActiveRecord: 0.6ms | Allocations: 508)


  
ActiveRecord::RecordNotFound (Couldn't find ProductImage with 'id'=9):
  
app/controllers/product_images_controller.rb:44:in `set_product_image'
Started DELETE "/product_images/5" for 127.0.0.1 at 2023-07-01 23:51:52 +0100
Processing by ProductImagesController#destroy as HTML
  Parameters: {"id"=>"5"}
  [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/product_images_controller.rb:44:in `set_product_image'
Completed 404 Not Found in 4ms (ActiveRecord: 0.4ms | Allocations: 605)


  
ActiveRecord::RecordNotFound (Couldn't find ProductImage with 'id'=5):
  
app/controllers/product_images_controller.rb:44:in `set_product_image'
Started DELETE "/product_images/8" for 127.0.0.1 at 2023-07-01 23:51:52 +0100
Processing by ProductImagesController#destroy as HTML
  Parameters: {"id"=>"8"}
  [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/controllers/product_images_controller.rb:44:in `set_product_image'
Completed 404 Not Found in 2ms (ActiveRecord: 0.3ms | Allocations: 499)


  
ActiveRecord::RecordNotFound (Couldn't find ProductImage with 'id'=8):
  
app/controllers/product_images_controller.rb:44:in `set_product_image'
Started DELETE "/products/2" for 127.0.0.1 at 2023-07-01 23:51:53 +0100
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"2"}
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:44:in `set_product'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:38:in `destroy'
  [1m[36mProductImage Load (0.9ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
  ↳ app/controllers/products_controller.rb:38:in `destroy'
  [1m[36mProductImage Destroy (1.3ms)[0m  [1m[31mDELETE FROM "product_images" WHERE "product_images"."id" = $1[0m  [["id", 7]]
  ↳ app/controllers/products_controller.rb:38:in `destroy'
  [1m[36mProduct Destroy (3.5ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 2]]
  ↳ app/controllers/products_controller.rb:38:in `destroy'
  [1m[36mTRANSACTION (6.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:38:in `destroy'
Completed 204 No Content in 53ms (ActiveRecord: 13.9ms | Allocations: 3367)


Started DELETE "/products/1" for 127.0.0.1 at 2023-07-01 23:51:56 +0100
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:44:in `set_product'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:38:in `destroy'
  [1m[36mProductImage Load (0.5ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
  ↳ app/controllers/products_controller.rb:38:in `destroy'
  [1m[36mProductImage Destroy (0.4ms)[0m  [1m[31mDELETE FROM "product_images" WHERE "product_images"."id" = $1[0m  [["id", 6]]
  ↳ app/controllers/products_controller.rb:38:in `destroy'
  [1m[36mProduct Destroy (0.7ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/products_controller.rb:38:in `destroy'
  [1m[36mTRANSACTION (6.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:38:in `destroy'
Completed 204 No Content in 24ms (ActiveRecord: 8.6ms | Allocations: 3142)


Started DELETE "/product_images/7" for 127.0.0.1 at 2023-07-01 23:51:59 +0100
Processing by ProductImagesController#destroy as HTML
  Parameters: {"id"=>"7"}
  [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/product_images_controller.rb:44:in `set_product_image'
Completed 404 Not Found in 2ms (ActiveRecord: 0.3ms | Allocations: 499)


  
ActiveRecord::RecordNotFound (Couldn't find ProductImage with 'id'=7):
  
app/controllers/product_images_controller.rb:44:in `set_product_image'
Started DELETE "/product_images/6" for 127.0.0.1 at 2023-07-01 23:52:00 +0100
Processing by ProductImagesController#destroy as HTML
  Parameters: {"id"=>"6"}
  [1m[36mProductImage Load (0.6ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/product_images_controller.rb:44:in `set_product_image'
Completed 404 Not Found in 4ms (ActiveRecord: 0.6ms | Allocations: 509)


  
ActiveRecord::RecordNotFound (Couldn't find ProductImage with 'id'=6):
  
app/controllers/product_images_controller.rb:44:in `set_product_image'
Started DELETE "/baker-logout" for 127.0.0.1 at 2023-07-01 23:53:12 +0100
Processing by BakersController#logout as */*
Completed 204 No Content in 1ms (ActiveRecord: 0.0ms | Allocations: 178)


Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 23:57:40 +0100
Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 23:57:40 +0100
Processing by BakersController#logged_in as */*
Processing by CustomersController#logged_in as */*
Started GET "/products" for 127.0.0.1 at 2023-07-01 23:57:40 +0100
Processing by ProductsController#index as HTML
  [1m[36mBaker Load (0.3ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.09ms)
Completed 201 Created in 23ms (Views: 0.5ms | ActiveRecord: 7.1ms | Allocations: 3630)


  [1m[36mCustomer Load (4.7ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.15ms)
Completed 201 Created in 35ms (Views: 1.2ms | ActiveRecord: 10.0ms | Allocations: 6887)


  [1m[36mProduct Load (1.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.2ms)
Completed 200 OK in 23ms (Views: 22.4ms | ActiveRecord: 11.4ms | Allocations: 5950)


Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 23:57:45 +0100
Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 23:57:45 +0100
Processing by BakersController#logged_in as */*
Processing by CustomersController#logged_in as */*
Started GET "/products" for 127.0.0.1 at 2023-07-01 23:57:45 +0100
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.25ms)
Completed 200 OK in 15ms (Views: 13.1ms | ActiveRecord: 1.0ms | Allocations: 903)


  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mBaker Load (0.5ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.07ms)
Completed 201 Created in 30ms (Views: 1.0ms | ActiveRecord: 9.2ms | Allocations: 3639)


[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.08ms)
Completed 201 Created in 33ms (Views: 2.8ms | ActiveRecord: 14.4ms | Allocations: 3739)


Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 23:58:18 +0100
Started GET "/products" for 127.0.0.1 at 2023-07-01 23:58:18 +0100
Processing by ProductsController#index as HTML
Processing by BakersController#logged_in as */*
Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 23:58:18 +0100
  [1m[36mBaker Load (0.8ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mProduct Load (1.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.19ms)
Completed 200 OK in 7ms (Views: 5.4ms | ActiveRecord: 1.1ms | Allocations: 847)


[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.06ms)
Completed 201 Created in 8ms (Views: 2.0ms | ActiveRecord: 0.8ms | Allocations: 1082)


Processing by CustomersController#logged_in as */*
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.07ms)
Completed 201 Created in 9ms (Views: 2.4ms | ActiveRecord: 0.5ms | Allocations: 861)


Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 23:58:19 +0100
Processing by BakersController#logged_in as */*
Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 23:58:19 +0100
Processing by CustomersController#logged_in as */*
  [1m[36mBaker Load (0.5ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Started GET "/products" for 127.0.0.1 at 2023-07-01 23:58:19 +0100
Processing by ProductsController#index as HTML
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.25ms)
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.22ms)
Completed 201 Created in 7ms (Views: 0.9ms | ActiveRecord: 0.6ms | Allocations: 876)


Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 1.0ms | Allocations: 881)


  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.06ms)
Completed 201 Created in 13ms (Views: 0.5ms | ActiveRecord: 0.7ms | Allocations: 876)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 23:59:09 +0100
Processing by CustomersController#logged_in as */*
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 23:59:09 +0100
Processing by BakersController#logged_in as */*
Started GET "/products" for 127.0.0.1 at 2023-07-01 23:59:09 +0100
  [1m[36mBaker Load (0.3ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Processing by ProductsController#index as HTML
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.07ms)
Completed 201 Created in 4ms (Views: 0.6ms | ActiveRecord: 0.3ms | Allocations: 846)


  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.21ms)
  [1m[36mCustomer Load (1.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 8ms (Views: 6.9ms | ActiveRecord: 0.7ms | Allocations: 889)


  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.14ms)
Completed 201 Created in 19ms (Views: 0.9ms | ActiveRecord: 1.4ms | Allocations: 858)


Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-02 00:07:26 +0100
Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-02 00:07:26 +0100
Processing by BakersController#logged_in as */*
Processing by CustomersController#logged_in as */*
Started GET "/products" for 127.0.0.1 at 2023-07-02 00:07:26 +0100
Processing by ProductsController#index as HTML
  [1m[36mBaker Load (0.3ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
  [1m[36mCustomer Load (1.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.17ms)
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 201 Created in 26ms (Views: 4.5ms | ActiveRecord: 7.4ms | Allocations: 3600)


  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.06ms)
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.19ms)
Completed 201 Created in 29ms (Views: 1.9ms | ActiveRecord: 7.6ms | Allocations: 7630)


Completed 200 OK in 28ms (Views: 27.0ms | ActiveRecord: 6.0ms | Allocations: 6837)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-02 00:07:30 +0100
Processing by CustomersController#logged_in as */*
Started GET "/products" for 127.0.0.1 at 2023-07-02 00:07:30 +0100
  [1m[36mCustomer Load (0.7ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
Processing by ProductsController#index as HTML
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.12ms)
Completed 201 Created in 7ms (Views: 1.2ms | ActiveRecord: 1.3ms | Allocations: 1049)


Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-02 00:07:30 +0100
Processing by BakersController#logged_in as */*
  [1m[36mBaker Load (0.4ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.07ms)
Completed 201 Created in 7ms (Views: 0.6ms | ActiveRecord: 0.4ms | Allocations: 853)


  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.17ms)
Completed 200 OK in 24ms (Views: 22.6ms | ActiveRecord: 11.7ms | Allocations: 3618)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-02 10:59:02 +0100
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-02 10:59:02 +0100
Processing by BakersController#logged_in as */*
Processing by CustomersController#logged_in as */*
  [1m[36mBaker Load (0.6ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.07ms)
Completed 201 Created in 21ms (Views: 0.7ms | ActiveRecord: 9.7ms | Allocations: 6553)


  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.06ms)
Completed 201 Created in 22ms (Views: 0.5ms | ActiveRecord: 9.4ms | Allocations: 6486)


Started GET "/products" for 127.0.0.1 at 2023-07-02 10:59:02 +0100
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.41ms)
Completed 200 OK in 20ms (Views: 6.1ms | ActiveRecord: 0.5ms | Allocations: 6622)


Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-02 13:52:26 +0100
Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-02 13:52:26 +0100
Started GET "/products" for 127.0.0.1 at 2023-07-02 13:52:26 +0100
  [1m[35m (4.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by CustomersController#logged_in as */*
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.15ms)
Completed 201 Created in 56ms (Views: 7.7ms | ActiveRecord: 3.4ms | Allocations: 8772)


Processing by BakersController#logged_in as */*
Processing by ProductsController#index as HTML
  [1m[36mBaker Load (0.8ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.27ms)
Completed 201 Created in 46ms (Views: 4.2ms | ActiveRecord: 12.9ms | Allocations: 9623)


  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.52ms)
Completed 200 OK in 39ms (Views: 18.5ms | ActiveRecord: 12.5ms | Allocations: 9709)


Started GET "/customers" for 127.0.0.1 at 2023-07-02 14:03:36 +0100
Processing by CustomersController#index as HTML
Started GET "/products" for 127.0.0.1 at 2023-07-02 14:03:36 +0100
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-02 14:03:36 +0100
Processing by BakersController#logged_in as */*
Started GET "/discounts" for 127.0.0.1 at 2023-07-02 14:03:36 +0100
  [1m[36mCustomer Load (44.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
  ↳ app/controllers/customers_controller.rb:49:in `index'
  [1m[36mBaker Load (0.3ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.07ms)
Processing by DiscountsController#index as HTML
Completed 201 Created in 55ms (Views: 0.8ms | ActiveRecord: 10.5ms | Allocations: 5571)


  [1m[36mDiscount Load (0.8ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts"[0m
  ↳ app/controllers/discounts_controller.rb:9:in `index'
Processing by ProductsController#index as HTML
[active_model_serializers]   [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."discount_id" = $1[0m  [["discount_id", 3]]
[active_model_serializers]   ↳ app/controllers/discounts_controller.rb:9:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (17.98ms)
Completed 200 OK in 66ms (Views: 43.4ms | ActiveRecord: 18.0ms | Allocations: 12090)


[active_model_serializers]   [1m[36mCart Load (3.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
  [1m[36mProduct Load (1.8ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.21ms)
Completed 200 OK in 67ms (Views: 25.2ms | ActiveRecord: 36.3ms | Allocations: 11108)


[active_model_serializers]   [1m[36mCustomerAddress Load (1.3ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers]   [1m[36mStripeCustomer Load (3.5ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers]   [1m[36mOrder Load (3.8ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (145.02ms)
Completed 200 OK in 260ms (Views: 259.8ms | ActiveRecord: 108.9ms | Allocations: 32003)


Started GET "/variant_groups" for 127.0.0.1 at 2023-07-02 14:03:36 +0100
Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-02 14:03:36 +0100
  [1m[35m (3.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by VariantGroupsController#index as HTML
Processing by CustomersController#logged_in as */*
  [1m[36mVariantGroup Load (0.5ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups"[0m
  ↳ app/controllers/variant_groups_controller.rb:8:in `index'
  [1m[36mCustomer Load (0.7ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.17ms)
Completed 201 Created in 45ms (Views: 2.5ms | ActiveRecord: 7.6ms | Allocations: 8778)


[active_model_serializers]   [1m[36mProduct Load (1.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.6ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (47.72ms)
Completed 200 OK in 85ms (Views: 55.8ms | ActiveRecord: 18.8ms | Allocations: 17018)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-02 14:03:50 +0100
Started GET "/products" for 127.0.0.1 at 2023-07-02 14:03:50 +0100
Processing by CustomersController#logged_in as */*
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-02 14:03:50 +0100
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.15ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.3ms | Allocations: 847)


Processing by BakersController#logged_in as */*
  [1m[36mCustomer Load (1.7ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.4ms)
Completed 201 Created in 20ms (Views: 1.8ms | ActiveRecord: 1.7ms | Allocations: 2633)


  [1m[36mBaker Load (0.3ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.08ms)
Completed 201 Created in 26ms (Views: 0.7ms | ActiveRecord: 17.6ms | Allocations: 2816)


Started POST "/baker-login" for 127.0.0.1 at 2023-07-02 14:04:10 +0100
Processing by BakersController#login as HTML
  Parameters: {"password"=>"[FILTERED]"}
  [1m[36mBaker Load (0.3ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:6:in `login'
[active_model_serializers] Rendered BakerSerializer with ActiveModelSerializers::Adapter::Attributes (0.24ms)
Completed 201 Created in 223ms (Views: 5.1ms | ActiveRecord: 3.4ms | Allocations: 4966)


Started GET "/customers" for 127.0.0.1 at 2023-07-02 14:04:11 +0100
Started GET "/variant_groups" for 127.0.0.1 at 2023-07-02 14:04:11 +0100
Processing by CustomersController#index as HTML
Processing by VariantGroupsController#index as HTML
Started GET "/discounts" for 127.0.0.1 at 2023-07-02 14:04:11 +0100
  [1m[36mCustomer Load (1.8ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
  ↳ app/controllers/customers_controller.rb:49:in `index'
  [1m[36mVariantGroup Load (0.5ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups"[0m
  ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers]   [1m[36mProduct Load (6.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   [1m[36mCustomerAddress Load (3.6ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers]   [1m[36mStripeCustomer Load (1.0ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers]   [1m[36mOrder Load (0.8ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
Processing by DiscountsController#index as HTML
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (11.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (37.63ms)
Completed 200 OK in 59ms (Views: 40.9ms | ActiveRecord: 17.7ms | Allocations: 6476)


[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (48.59ms)
Completed 200 OK in 70ms (Views: 62.3ms | ActiveRecord: 7.7ms | Allocations: 5125)


  [1m[36mDiscount Load (0.5ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts"[0m
  ↳ app/controllers/discounts_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."discount_id" = $1[0m  [["discount_id", 3]]
[active_model_serializers]   ↳ app/controllers/discounts_controller.rb:9:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (7.13ms)
Completed 200 OK in 50ms (Views: 31.3ms | ActiveRecord: 15.7ms | Allocations: 9556)


Started GET "/products" for 127.0.0.1 at 2023-07-02 14:04:31 +0100
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.24ms)
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.4ms | Allocations: 875)


Started GET "/products" for 127.0.0.1 at 2023-07-02 14:04:58 +0100
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.15ms)
Completed 200 OK in 7ms (Views: 5.6ms | ActiveRecord: 0.6ms | Allocations: 870)


Started GET "/variant_groups" for 127.0.0.1 at 2023-07-02 14:05:00 +0100
Processing by VariantGroupsController#index as HTML
  [1m[36mVariantGroup Load (0.5ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups"[0m
  ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.4ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (14.22ms)
Completed 200 OK in 37ms (Views: 19.5ms | ActiveRecord: 7.4ms | Allocations: 7552)


Started GET "/discounts" for 127.0.0.1 at 2023-07-02 14:05:23 +0100
Started GET "/variant_groups" for 127.0.0.1 at 2023-07-02 14:05:23 +0100
Processing by VariantGroupsController#index as HTML
Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-02 14:05:23 +0100
Started GET "/customers" for 127.0.0.1 at 2023-07-02 14:05:23 +0100
Processing by CustomersController#logged_in as */*
Started GET "/products" for 127.0.0.1 at 2023-07-02 14:05:23 +0100
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.29ms)
Completed 200 OK in 5ms (Views: 3.7ms | ActiveRecord: 0.3ms | Allocations: 847)


Processing by DiscountsController#index as HTML
  [1m[36mVariantGroup Load (0.8ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups"[0m
  ↳ app/controllers/variant_groups_controller.rb:8:in `index'
  [1m[36mDiscount Load (0.8ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts"[0m
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-02 14:05:23 +0100
  ↳ app/controllers/discounts_controller.rb:9:in `index'
Processing by BakersController#logged_in as */*
  [1m[36mCustomer Load (3.8ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.08ms)
Completed 201 Created in 39ms (Views: 0.8ms | ActiveRecord: 6.9ms | Allocations: 4596)


Processing by CustomersController#index as HTML
[active_model_serializers]   [1m[36mProduct Load (21.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (1.7ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."discount_id" = $1[0m  [["discount_id", 3]]
[active_model_serializers]   ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (58.67ms)
[active_model_serializers]   ↳ app/controllers/discounts_controller.rb:9:in `index'
Completed 200 OK in 95ms (Views: 71.2ms | ActiveRecord: 24.0ms | Allocations: 11549)


[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (29.27ms)
Completed 200 OK in 68ms (Views: 46.5ms | ActiveRecord: 16.6ms | Allocations: 11235)


  [1m[36mBaker Load (2.0ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered BakerSerializer with ActiveModelSerializers::Adapter::Attributes (0.31ms)
Completed 201 Created in 77ms (Views: 2.5ms | ActiveRecord: 10.8ms | Allocations: 12820)


  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
  ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers]   [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers]   [1m[36mCustomerAddress Load (4.1ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers]   [1m[36mStripeCustomer Load (0.4ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers]   [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (53.61ms)
Completed 200 OK in 154ms (Views: 78.3ms | ActiveRecord: 39.1ms | Allocations: 31470)


Started GET "/customers" for 127.0.0.1 at 2023-07-02 14:06:19 +0100
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
  ↳ app/controllers/customers_controller.rb:49:in `index'
Started GET "/variant_groups" for 127.0.0.1 at 2023-07-02 14:06:19 +0100
Processing by VariantGroupsController#index as HTML
  [1m[36mVariantGroup Load (1.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups"[0m
  ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (2.3ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (20.57ms)
Completed 200 OK in 30ms (Views: 24.4ms | ActiveRecord: 3.8ms | Allocations: 2718)


Started GET "/products" for 127.0.0.1 at 2023-07-02 14:06:19 +0100
Processing by ProductsController#index as HTML
Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-02 14:06:19 +0100
Started GET "/discounts" for 127.0.0.1 at 2023-07-02 14:06:19 +0100
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.19ms)
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.4ms | Allocations: 847)


Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-02 14:06:19 +0100
Processing by BakersController#logged_in as */*
Processing by CustomersController#logged_in as */*
Processing by DiscountsController#index as HTML
  [1m[36mBaker Load (0.7ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCart Load (0.9ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
  [1m[36mDiscount Load (2.6ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts"[0m
  ↳ app/controllers/discounts_controller.rb:9:in `index'
[active_model_serializers] Rendered BakerSerializer with ActiveModelSerializers::Adapter::Attributes (0.43ms)
Completed 201 Created in 21ms (Views: 6.3ms | ActiveRecord: 0.7ms | Allocations: 2270)


  [1m[36mCustomer Load (0.7ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers]   [1m[36mProduct Load (1.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."discount_id" = $1[0m  [["discount_id", 3]]
[active_model_serializers]   ↳ app/controllers/discounts_controller.rb:9:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (11.42ms)
Completed 200 OK in 22ms (Views: 16.8ms | ActiveRecord: 4.3ms | Allocations: 3599)


[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.17ms)
Completed 201 Created in 50ms (Views: 30.6ms | ActiveRecord: 0.7ms | Allocations: 5517)


[active_model_serializers]   [1m[36mCustomerAddress Load (0.5ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers]   [1m[36mStripeCustomer Load (0.9ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers]   [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (119.0ms)
Completed 200 OK in 176ms (Views: 148.2ms | ActiveRecord: 26.9ms | Allocations: 19128)


Started GET "/customers" for 127.0.0.1 at 2023-07-02 14:06:39 +0100
Started GET "/discounts" for 127.0.0.1 at 2023-07-02 14:06:39 +0100
Processing by CustomersController#index as HTML
Processing by DiscountsController#index as HTML
Started GET "/variant_groups" for 127.0.0.1 at 2023-07-02 14:06:39 +0100
Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-02 14:06:39 +0100
Processing by CustomersController#logged_in as */*
  [1m[36mDiscount Load (4.4ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts"[0m
Processing by VariantGroupsController#index as HTML
  ↳ app/controllers/discounts_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mProduct Load (10.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."discount_id" = $1[0m  [["discount_id", 3]]
  [1m[36mCustomer Load (1.1ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/discounts_controller.rb:9:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (26.12ms)
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
  [1m[36mCustomer Load (1.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
  ↳ app/controllers/customers_controller.rb:49:in `index'
Completed 200 OK in 35ms (Views: 19.8ms | ActiveRecord: 14.4ms | Allocations: 3075)


Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-02 14:06:39 +0100
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.49ms)
Completed 201 Created in 34ms (Views: 3.9ms | ActiveRecord: 1.1ms | Allocations: 2695)


Processing by BakersController#logged_in as */*
[active_model_serializers]   [1m[36mCart Load (2.7ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
Started GET "/products" for 127.0.0.1 at 2023-07-02 14:06:39 +0100
[active_model_serializers]   [1m[36mCustomerAddress Load (0.6ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
Processing by ProductsController#index as HTML
[active_model_serializers]   [1m[36mStripeCustomer Load (4.1ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers]   [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
  [1m[36mVariantGroup Load (3.3ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups"[0m
  [1m[36mProduct Load (1.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  [1m[36mBaker Load (0.9ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (74.78ms)
  ↳ app/controllers/products_controller.rb:8:in `index'
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
  ↳ app/controllers/variant_groups_controller.rb:8:in `index'
Completed 200 OK in 116ms (Views: 106.9ms | ActiveRecord: 9.2ms | Allocations: 20266)


[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.17ms)
Completed 200 OK in 49ms (Views: 41.6ms | ActiveRecord: 6.7ms | Allocations: 10861)


[active_model_serializers] Rendered BakerSerializer with ActiveModelSerializers::Adapter::Attributes (0.52ms)
Completed 201 Created in 92ms (Views: 2.9ms | ActiveRecord: 38.9ms | Allocations: 18736)


[active_model_serializers]   [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.3ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (28.96ms)
Completed 200 OK in 181ms (Views: 95.1ms | ActiveRecord: 78.8ms | Allocations: 29381)


Started DELETE "/baker-logout" for 127.0.0.1 at 2023-07-02 14:09:29 +0100
Processing by BakersController#logout as */*
Completed 204 No Content in 1ms (ActiveRecord: 0.0ms | Allocations: 187)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-02 14:09:43 +0100
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-02 14:09:43 +0100
Processing by CustomersController#logged_in as */*
Processing by BakersController#logged_in as */*
  [1m[36mBaker Load (0.6ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.17ms)
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 201 Created in 8ms (Views: 1.4ms | ActiveRecord: 0.6ms | Allocations: 853)


  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.07ms)
Completed 201 Created in 13ms (Views: 2.1ms | ActiveRecord: 0.5ms | Allocations: 852)


Started GET "/products" for 127.0.0.1 at 2023-07-02 14:09:43 +0100
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.15ms)
Completed 200 OK in 4ms (Views: 2.8ms | ActiveRecord: 0.7ms | Allocations: 848)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-02 14:12:24 +0100
Processing by CustomersController#logged_in as */*
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-02 14:12:24 +0100
Processing by BakersController#logged_in as */*
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mBaker Load (0.4ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.07ms)
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.08ms)
Completed 201 Created in 16ms (Views: 0.7ms | ActiveRecord: 0.4ms | Allocations: 861)


Completed 201 Created in 8ms (Views: 0.7ms | ActiveRecord: 0.4ms | Allocations: 849)


Started GET "/products" for 127.0.0.1 at 2023-07-02 14:12:24 +0100
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.22ms)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.6ms | Allocations: 870)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-02 14:18:49 +0100
Processing by CustomersController#logged_in as */*
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-02 14:18:49 +0100
Processing by BakersController#logged_in as */*
  [1m[36mBaker Load (0.4ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.07ms)
Completed 201 Created in 29ms (Views: 0.9ms | ActiveRecord: 12.1ms | Allocations: 3592)


  [1m[36mCustomer Load (1.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.07ms)
Completed 201 Created in 42ms (Views: 0.8ms | ActiveRecord: 26.9ms | Allocations: 3616)


Started GET "/products" for 127.0.0.1 at 2023-07-02 14:18:49 +0100
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.16ms)
Completed 200 OK in 16ms (Views: 15.2ms | ActiveRecord: 5.2ms | Allocations: 3618)


Started POST "/customer-login" for 127.0.0.1 at 2023-07-02 14:19:17 +0100
Processing by CustomersController#login as HTML
  Parameters: {"password"=>"[FILTERED]"}
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:6:in `login'
[active_model_serializers]   [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:9:in `login'
[active_model_serializers]   [1m[36mCustomerAddress Load (0.2ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:9:in `login'
[active_model_serializers]   [1m[36mStripeCustomer Load (0.5ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:9:in `login'
[active_model_serializers]   [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:9:in `login'
[active_model_serializers] Rendered CustomerSerializer with ActiveModelSerializers::Adapter::Attributes (37.73ms)
Completed 201 Created in 265ms (Views: 36.3ms | ActiveRecord: 13.0ms | Allocations: 19107)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-02 14:19:17 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (2.0ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.9ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (46.57ms)
Completed 201 Created in 79ms (Views: 44.8ms | ActiveRecord: 17.9ms | Allocations: 11496)


Started PATCH "/carts/1" for 127.0.0.1 at 2023-07-02 14:19:17 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"1"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
Started PATCH "/carts/2" for 127.0.0.1 at 2023-07-02 14:19:17 +0100
Started PATCH "/carts/3" for 127.0.0.1 at 2023-07-02 14:19:17 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"3"}
  [1m[36mTRANSACTION (4.9ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (2.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
Started PATCH "/carts/4" for 127.0.0.1 at 2023-07-02 14:19:17 +0100
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (6.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"2"}
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"4"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
  [1m[36mCart Load (0.8ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[31mUnpermitted parameter: :id[0m
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[active_model_serializers]   [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[31mUnpermitted parameter: :id[0m
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (20.7ms)
Completed 200 OK in 56ms (Views: 21.1ms | ActiveRecord: 8.8ms | Allocations: 10462)


[active_model_serializers]   [1m[36mLineItem Load (2.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (40.55ms)
Completed 200 OK in 72ms (Views: 24.5ms | ActiveRecord: 31.6ms | Allocations: 13230)


  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (1.1ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (0.9ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (4.14ms)
Completed 200 OK in 36ms (Views: 3.8ms | ActiveRecord: 5.9ms | Allocations: 4246)


[active_model_serializers]   [1m[36mLineItem Load (0.9ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (16.78ms)
Completed 200 OK in 55ms (Views: 11.0ms | ActiveRecord: 8.9ms | Allocations: 5989)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-02 14:19:18 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (5.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (6.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (2.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (5.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (2.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (29.77ms)
Completed 201 Created in 53ms (Views: 28.0ms | ActiveRecord: 22.3ms | Allocations: 5727)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-02 14:19:18 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (2.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (3.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (19.12ms)
Completed 201 Created in 26ms (Views: 15.8ms | ActiveRecord: 7.2ms | Allocations: 5627)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-02 14:19:18 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (12.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (5.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (32.25ms)
Completed 201 Created in 52ms (Views: 27.3ms | ActiveRecord: 21.4ms | Allocations: 7270)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-02 14:19:18 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (3.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (21.71ms)
Completed 201 Created in 29ms (Views: 19.3ms | ActiveRecord: 7.5ms | Allocations: 5626)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-02 14:19:23 +0100
Processing by CustomersController#logged_in as */*
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers]   [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mCustomerAddress Load (0.4ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mStripeCustomer Load (0.8ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers] Rendered CustomerSerializer with ActiveModelSerializers::Adapter::Attributes (19.29ms)
Completed 201 Created in 23ms (Views: 17.9ms | ActiveRecord: 2.4ms | Allocations: 4897)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-02 14:19:23 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (11.16ms)
Completed 201 Created in 16ms (Views: 12.8ms | ActiveRecord: 1.3ms | Allocations: 5626)


Started PATCH "/carts/1" for 127.0.0.1 at 2023-07-02 14:19:23 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"1"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
Started PATCH "/carts/2" for 127.0.0.1 at 2023-07-02 14:19:23 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"2"}
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCart Load (2.9ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mCustomer Load (5.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCustomer Load (1.7ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  ↳ app/controllers/carts_controller.rb:29:in `update'
Started PATCH "/carts/3" for 127.0.0.1 at 2023-07-02 14:19:23 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"3"}
[active_model_serializers]   [1m[36mLineItem Load (1.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
  [1m[36mTRANSACTION (5.3ms)[0m  [1m[35mCOMMIT[0m
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (7.19ms)
  ↳ app/controllers/carts_controller.rb:29:in `update'
Completed 200 OK in 58ms (Views: 7.0ms | ActiveRecord: 8.0ms | Allocations: 5611)


[active_model_serializers]   [1m[36mLineItem Load (2.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (5.59ms)
Completed 200 OK in 33ms (Views: 4.0ms | ActiveRecord: 13.3ms | Allocations: 3686)


  [1m[36mCart Load (1.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
Started PATCH "/carts/4" for 127.0.0.1 at 2023-07-02 14:19:23 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"4"}
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (6.2ms)[0m  [1m[35mCOMMIT[0m
[active_model_serializers]   [1m[36mLineItem Load (0.9ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (5.38ms)
Completed 200 OK in 51ms (Views: 5.2ms | ActiveRecord: 16.0ms | Allocations: 7616)


[active_model_serializers]   [1m[36mLineItem Load (5.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (10.39ms)
Completed 200 OK in 34ms (Views: 5.5ms | ActiveRecord: 15.9ms | Allocations: 3686)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-02 14:19:23 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (2.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (2.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (30.83ms)
Completed 201 Created in 45ms (Views: 34.4ms | ActiveRecord: 7.0ms | Allocations: 5727)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-02 14:19:23 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (1.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (3.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (36.62ms)
Completed 201 Created in 46ms (Views: 36.3ms | ActiveRecord: 6.2ms | Allocations: 5628)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-02 14:19:23 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.8ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (19.18ms)
Completed 201 Created in 29ms (Views: 20.5ms | ActiveRecord: 4.9ms | Allocations: 5626)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-02 14:19:23 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (16.02ms)
Completed 201 Created in 23ms (Views: 17.3ms | ActiveRecord: 2.7ms | Allocations: 5630)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-02 14:19:38 +0100
Processing by CustomersController#logged_in as */*
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers]   [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
Started GET "/products" for 127.0.0.1 at 2023-07-02 14:19:38 +0100
Processing by ProductsController#index as HTML
[active_model_serializers]   [1m[36mCustomerAddress Load (0.4ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-02 14:19:38 +0100
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
Processing by BakersController#logged_in as */*
[active_model_serializers]   [1m[36mStripeCustomer Load (0.4ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers] Rendered CustomerSerializer with ActiveModelSerializers::Adapter::Attributes (24.44ms)
Completed 201 Created in 29ms (Views: 24.2ms | ActiveRecord: 1.9ms | Allocations: 4801)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-02 14:19:38 +0100
Processing by CustomersController#logged_in as */*
  [1m[36mProduct Load (8.8ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.19ms)
Completed 200 OK in 30ms (Views: 20.5ms | ActiveRecord: 8.8ms | Allocations: 5943)


  [1m[36mBaker Load (1.6ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.06ms)
Completed 201 Created in 35ms (Views: 0.5ms | ActiveRecord: 14.7ms | Allocations: 6737)


  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers]   [1m[36mCart Load (1.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mCustomerAddress Load (0.4ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mStripeCustomer Load (0.9ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers] Rendered CustomerSerializer with ActiveModelSerializers::Adapter::Attributes (21.1ms)
Completed 201 Created in 53ms (Views: 18.7ms | ActiveRecord: 14.5ms | Allocations: 10952)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-02 14:19:38 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (2.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (33.38ms)
Completed 201 Created in 45ms (Views: 37.8ms | ActiveRecord: 4.2ms | Allocations: 5626)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-02 14:19:38 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (1.7ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (5.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (27.26ms)
Completed 201 Created in 38ms (Views: 26.8ms | ActiveRecord: 8.2ms | Allocations: 5625)


Started PATCH "/carts/1" for 127.0.0.1 at 2023-07-02 14:19:38 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"1"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
Started PATCH "/carts/2" for 127.0.0.1 at 2023-07-02 14:19:38 +0100
[31mUnpermitted parameter: :id[0m
Started PATCH "/carts/3" for 127.0.0.1 at 2023-07-02 14:19:38 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"2"}
Processing by CartsController#update as HTML
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  Parameters: {"total"=>0, "id"=>"3"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
[31mUnpermitted parameter: :id[0m
  [1m[36mCustomer Load (1.7ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  ↳ app/controllers/carts_controller.rb:29:in `update'
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (5.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   [1m[36mLineItem Load (2.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (5.84ms)
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
Completed 200 OK in 22ms (Views: 8.8ms | ActiveRecord: 4.1ms | Allocations: 3686)


[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (9.69ms)
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (7.68ms)
Completed 200 OK in 23ms (Views: 9.2ms | ActiveRecord: 1.5ms | Allocations: 3682)


Completed 200 OK in 42ms (Views: 14.4ms | ActiveRecord: 9.9ms | Allocations: 3696)


Started PATCH "/carts/4" for 127.0.0.1 at 2023-07-02 14:19:38 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"4"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (1.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (5.42ms)
Completed 200 OK in 29ms (Views: 5.8ms | ActiveRecord: 2.8ms | Allocations: 3683)


Started PATCH "/carts/1" for 127.0.0.1 at 2023-07-02 14:19:38 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"1"}
  [1m[36mCart Load (1.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
Started PATCH "/carts/2" for 127.0.0.1 at 2023-07-02 14:19:38 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"2"}
  [1m[36mTRANSACTION (4.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCart Load (1.7ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
Started PATCH "/carts/3" for 127.0.0.1 at 2023-07-02 14:19:38 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"3"}
  [1m[36mCustomer Load (2.7ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCustomer Load (0.9ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCustomer Load (5.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  ↳ app/controllers/carts_controller.rb:29:in `update'
Started PATCH "/carts/4" for 127.0.0.1 at 2023-07-02 14:19:38 +0100
[active_model_serializers]   [1m[36mLineItem Load (1.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"4"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (8.4ms)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
Completed 200 OK in 40ms (Views: 8.7ms | ActiveRecord: 9.0ms | Allocations: 3693)


  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (11.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (1.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
  [1m[36mCustomer Load (1.7ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (23.93ms)
Completed 200 OK in 62ms (Views: 24.9ms | ActiveRecord: 11.7ms | Allocations: 3695)


  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (2.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (19.48ms)
Completed 200 OK in 55ms (Views: 20.7ms | ActiveRecord: 17.1ms | Allocations: 7106)


[active_model_serializers]   [1m[36mLineItem Load (3.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (15.24ms)
Completed 200 OK in 43ms (Views: 13.6ms | ActiveRecord: 7.6ms | Allocations: 5597)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-02 14:19:38 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (1.8ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (1.8ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (26.73ms)
Completed 201 Created in 41ms (Views: 30.8ms | ActiveRecord: 6.6ms | Allocations: 5625)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-02 14:19:38 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (19.81ms)
Completed 201 Created in 30ms (Views: 21.2ms | ActiveRecord: 4.4ms | Allocations: 5625)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-02 14:19:39 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (33.82ms)
Completed 201 Created in 42ms (Views: 34.1ms | ActiveRecord: 5.3ms | Allocations: 5625)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-02 14:19:39 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (1.0ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (34.68ms)
Completed 201 Created in 44ms (Views: 37.1ms | ActiveRecord: 3.3ms | Allocations: 5626)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-02 14:19:39 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (2.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.9ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (20.96ms)
Completed 201 Created in 29ms (Views: 20.1ms | ActiveRecord: 6.8ms | Allocations: 5625)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-02 14:19:39 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.8ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (19.84ms)
Completed 201 Created in 27ms (Views: 20.9ms | ActiveRecord: 3.2ms | Allocations: 5625)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-02 14:19:39 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (4.7ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (16.93ms)
Completed 201 Created in 29ms (Views: 20.2ms | ActiveRecord: 6.1ms | Allocations: 5625)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-02 14:19:39 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (1.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.9ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (21.42ms)
Completed 201 Created in 31ms (Views: 21.5ms | ActiveRecord: 6.9ms | Allocations: 5625)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-02 14:19:54 +0100
Processing by CustomersController#logged_in as */*
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-02 14:19:54 +0100
  [1m[36mCustomer Load (1.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Processing by BakersController#logged_in as */*
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers]   [1m[36mCart Load (0.9ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  [1m[36mBaker Load (1.2ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.09ms)
Completed 201 Created in 6ms (Views: 1.0ms | ActiveRecord: 1.2ms | Allocations: 856)


[active_model_serializers]   [1m[36mCustomerAddress Load (0.5ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mStripeCustomer Load (0.7ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers] Rendered CustomerSerializer with ActiveModelSerializers::Adapter::Attributes (22.93ms)
Completed 201 Created in 28ms (Views: 20.6ms | ActiveRecord: 3.9ms | Allocations: 4899)


Started GET "/products" for 127.0.0.1 at 2023-07-02 14:19:54 +0100
Processing by ProductsController#index as HTML
Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-02 14:19:54 +0100
Processing by CustomersController#logged_in as */*
  [1m[36mProduct Load (7.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.27ms)
Completed 200 OK in 11ms (Views: 3.3ms | ActiveRecord: 7.3ms | Allocations: 849)


  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers]   [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mCustomerAddress Load (3.7ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mStripeCustomer Load (0.4ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers] Rendered CustomerSerializer with ActiveModelSerializers::Adapter::Attributes (19.82ms)
Completed 201 Created in 28ms (Views: 17.2ms | ActiveRecord: 5.0ms | Allocations: 4794)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-02 14:19:54 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (1.8ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (2.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (2.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (26.77ms)
Completed 201 Created in 36ms (Views: 25.6ms | ActiveRecord: 7.9ms | Allocations: 5625)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-02 14:19:55 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.9ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (13.67ms)
Completed 201 Created in 21ms (Views: 13.3ms | ActiveRecord: 3.8ms | Allocations: 5625)


Started PATCH "/carts/1" for 127.0.0.1 at 2023-07-02 14:19:55 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"1"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.7ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (0.9ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (4.87ms)
Completed 200 OK in 15ms (Views: 4.6ms | ActiveRecord: 2.5ms | Allocations: 3682)


Started PATCH "/carts/2" for 127.0.0.1 at 2023-07-02 14:19:55 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"2"}
Started PATCH "/carts/3" for 127.0.0.1 at 2023-07-02 14:19:55 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"3"}
  [1m[36mCart Load (2.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCart Load (3.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mCustomer Load (2.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (4.1ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (6.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
Started PATCH "/carts/4" for 127.0.0.1 at 2023-07-02 14:19:55 +0100
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"4"}
  [1m[36mCart Load (1.8ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
  [1m[36mTRANSACTION (7.8ms)[0m  [1m[35mCOMMIT[0m
[31mUnpermitted parameter: :id[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mBEGIN[0m
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (21.12ms)
Completed 200 OK in 42ms (Views: 15.7ms | ActiveRecord: 12.3ms | Allocations: 7037)


  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (3.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
  [1m[36mCustomer Load (2.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (8.77ms)
Completed 200 OK in 44ms (Views: 6.8ms | ActiveRecord: 18.9ms | Allocations: 7550)


  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (3.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (6.84ms)
Completed 200 OK in 26ms (Views: 4.2ms | ActiveRecord: 11.4ms | Allocations: 3682)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-02 14:19:55 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (1.7ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
Started PATCH "/carts/1" for 127.0.0.1 at 2023-07-02 14:19:55 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"1"}
Started PATCH "/carts/2" for 127.0.0.1 at 2023-07-02 14:19:55 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"2"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mCart Load (0.9ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (27.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.9ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
  [1m[36mCustomer Load (1.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   [1m[36mLineItem Load (4.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (45.52ms)
  ↳ app/controllers/carts_controller.rb:29:in `update'
Completed 201 Created in 60ms (Views: 25.7ms | ActiveRecord: 31.1ms | Allocations: 5628)


[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (9.53ms)
Completed 200 OK in 41ms (Views: 14.3ms | ActiveRecord: 9.1ms | Allocations: 6498)


[active_model_serializers]   [1m[36mLineItem Load (6.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (15.84ms)
Completed 200 OK in 51ms (Views: 9.9ms | ActiveRecord: 12.4ms | Allocations: 7825)


Started PATCH "/carts/3" for 127.0.0.1 at 2023-07-02 14:19:55 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"3"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (4.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-02 14:19:55 +0100
  ↳ app/controllers/carts_controller.rb:29:in `update'
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Started PATCH "/carts/4" for 127.0.0.1 at 2023-07-02 14:19:55 +0100
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"4"}
  [1m[36mTRANSACTION (6.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCart Load (3.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.9ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   [1m[36mLineItem Load (0.9ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (10.78ms)
  [1m[36mCart Load (1.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 47ms (Views: 14.9ms | ActiveRecord: 12.2ms | Allocations: 6974)


  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
[active_model_serializers]   [1m[36mLineItem Load (4.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mBEGIN[0m
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (1.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
  [1m[36mCustomer Load (1.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
[active_model_serializers]   [1m[36mLineItem Load (1.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.9ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (44.26ms)
Completed 201 Created in 65ms (Views: 49.0ms | ActiveRecord: 12.4ms | Allocations: 5625)


[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (12.63ms)
Completed 200 OK in 62ms (Views: 13.2ms | ActiveRecord: 16.7ms | Allocations: 8350)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-02 14:19:55 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (4.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (2.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (20.39ms)
Completed 201 Created in 26ms (Views: 15.5ms | ActiveRecord: 8.0ms | Allocations: 5626)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-02 14:19:55 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (4.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (17.15ms)
Completed 201 Created in 22ms (Views: 13.9ms | ActiveRecord: 6.2ms | Allocations: 5625)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-02 14:19:55 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (3.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (15.05ms)
Completed 201 Created in 26ms (Views: 20.1ms | ActiveRecord: 4.5ms | Allocations: 5628)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-02 14:19:55 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (3.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (22.4ms)
Completed 201 Created in 32ms (Views: 22.7ms | ActiveRecord: 5.5ms | Allocations: 5626)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-02 14:19:55 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.8ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (7.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (2.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (9.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (36.79ms)
Completed 201 Created in 47ms (Views: 20.8ms | ActiveRecord: 21.1ms | Allocations: 5625)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-02 14:19:55 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (2.9ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (8.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (27.35ms)
Completed 201 Created in 38ms (Views: 21.2ms | ActiveRecord: 12.5ms | Allocations: 5625)


Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-02 14:20:17 +0100
Processing by BakersController#logged_in as */*
  [1m[36mBaker Load (0.8ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-02 14:20:17 +0100
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.16ms)
Completed 201 Created in 6ms (Views: 1.2ms | ActiveRecord: 0.8ms | Allocations: 859)


Processing by CustomersController#logged_in as */*
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
Started GET "/products" for 127.0.0.1 at 2023-07-02 14:20:17 +0100
Processing by ProductsController#index as HTML
[active_model_serializers]   [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.4ms)
Completed 200 OK in 6ms (Views: 5.0ms | ActiveRecord: 0.5ms | Allocations: 847)


[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mCustomerAddress Load (0.4ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mStripeCustomer Load (0.4ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mOrder Load (0.9ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers] Rendered CustomerSerializer with ActiveModelSerializers::Adapter::Attributes (29.44ms)
Completed 201 Created in 34ms (Views: 28.3ms | ActiveRecord: 2.2ms | Allocations: 4809)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-02 14:20:17 +0100
Processing by CustomersController#logged_in as */*
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers]   [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mCustomerAddress Load (0.9ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mStripeCustomer Load (2.6ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mOrder Load (0.8ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers] Rendered CustomerSerializer with ActiveModelSerializers::Adapter::Attributes (28.69ms)
Completed 201 Created in 35ms (Views: 24.3ms | ActiveRecord: 5.2ms | Allocations: 4800)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-02 14:20:17 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.8ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (3.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (33.64ms)
Completed 201 Created in 43ms (Views: 34.1ms | ActiveRecord: 6.6ms | Allocations: 5625)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-02 14:20:17 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.9ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (19.75ms)
Completed 201 Created in 27ms (Views: 20.8ms | ActiveRecord: 3.7ms | Allocations: 5626)


Started PATCH "/carts/1" for 127.0.0.1 at 2023-07-02 14:20:18 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"1"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (1.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (4.7ms)
Completed 200 OK in 21ms (Views: 5.1ms | ActiveRecord: 4.6ms | Allocations: 3682)


Started PATCH "/carts/2" for 127.0.0.1 at 2023-07-02 14:20:18 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"2"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (3.9ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (8.78ms)
Completed 200 OK in 27ms (Views: 6.1ms | ActiveRecord: 5.1ms | Allocations: 3685)


Started PATCH "/carts/3" for 127.0.0.1 at 2023-07-02 14:20:18 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"3"}
  [1m[36mCart Load (1.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (1.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
Started PATCH "/carts/4" for 127.0.0.1 at 2023-07-02 14:20:18 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"4"}
[active_model_serializers]   [1m[36mLineItem Load (1.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[31mUnpermitted parameter: :id[0m
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (4.21ms)
Completed 200 OK in 25ms (Views: 3.4ms | ActiveRecord: 8.1ms | Allocations: 3685)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (2.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (6.46ms)
Completed 200 OK in 21ms (Views: 4.4ms | ActiveRecord: 6.9ms | Allocations: 3682)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-02 14:20:18 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
Started PATCH "/carts/1" for 127.0.0.1 at 2023-07-02 14:20:18 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"1"}
Started PATCH "/carts/2" for 127.0.0.1 at 2023-07-02 14:20:18 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"2"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mBEGIN[0m
[active_model_serializers]   [1m[36mLineItem Load (6.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (11.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
Started PATCH "/carts/3" for 127.0.0.1 at 2023-07-02 14:20:18 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"3"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
Started PATCH "/carts/4" for 127.0.0.1 at 2023-07-02 14:20:18 +0100
[active_model_serializers]   [1m[36mLineItem Load (6.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"4"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[31mUnpermitted parameter: :id[0m
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (23.74ms)
Completed 200 OK in 48ms (Views: 18.1ms | ActiveRecord: 9.4ms | Allocations: 3695)


  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (4.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (11.1ms)[0m  [1m[35mBEGIN[0m
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (2.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (79.36ms)
Completed 201 Created in 87ms (Views: 64.0ms | ActiveRecord: 19.2ms | Allocations: 8212)


  [1m[36mTRANSACTION (4.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCustomer Load (3.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (6.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (5.73ms)
Completed 200 OK in 85ms (Views: 7.3ms | ActiveRecord: 10.8ms | Allocations: 7833)


  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (11.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (15.64ms)
Completed 200 OK in 44ms (Views: 4.7ms | ActiveRecord: 20.9ms | Allocations: 5842)


[active_model_serializers]   [1m[36mLineItem Load (3.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (12.46ms)
Completed 200 OK in 55ms (Views: 10.4ms | ActiveRecord: 18.9ms | Allocations: 8081)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-02 14:20:18 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (2.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.9ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (22.22ms)
Completed 201 Created in 29ms (Views: 19.2ms | ActiveRecord: 6.5ms | Allocations: 5625)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-02 14:20:18 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (1.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (3.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (44.59ms)
Completed 201 Created in 62ms (Views: 50.3ms | ActiveRecord: 5.9ms | Allocations: 5625)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-02 14:20:18 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.7ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (2.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (4.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (25.35ms)
Completed 201 Created in 42ms (Views: 27.0ms | ActiveRecord: 9.0ms | Allocations: 5628)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-02 14:20:18 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (3.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (22.16ms)
Completed 201 Created in 30ms (Views: 21.4ms | ActiveRecord: 5.8ms | Allocations: 5625)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-02 14:20:18 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (1.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (3.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.9ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (25.23ms)
Completed 201 Created in 40ms (Views: 27.4ms | ActiveRecord: 7.5ms | Allocations: 5625)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-02 14:20:18 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.8ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (1.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (2.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (2.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (22.02ms)
Completed 201 Created in 32ms (Views: 19.2ms | ActiveRecord: 9.1ms | Allocations: 5625)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-02 14:20:18 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (2.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (21.85ms)
Completed 201 Created in 29ms (Views: 22.0ms | ActiveRecord: 4.3ms | Allocations: 5625)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-02 14:24:13 +0100
Processing by CustomersController#logged_in as */*
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-02 14:24:13 +0100
[active_model_serializers]   [1m[36mCart Load (3.7ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
Processing by BakersController#logged_in as */*
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
  [1m[36mBaker Load (0.9ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.06ms)
Completed 201 Created in 9ms (Views: 0.7ms | ActiveRecord: 0.9ms | Allocations: 856)


Started GET "/products" for 127.0.0.1 at 2023-07-02 14:24:13 +0100
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (1.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.18ms)
Completed 200 OK in 5ms (Views: 3.3ms | ActiveRecord: 1.4ms | Allocations: 859)


[active_model_serializers]   [1m[36mCustomerAddress Load (3.8ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mStripeCustomer Load (0.8ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers] Rendered CustomerSerializer with ActiveModelSerializers::Adapter::Attributes (37.9ms)
Completed 201 Created in 41ms (Views: 29.4ms | ActiveRecord: 9.2ms | Allocations: 6445)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-02 14:24:13 +0100
Processing by CustomersController#logged_in as */*
  [1m[36mCustomer Load (0.9ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers]   [1m[36mCart Load (1.9ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mCustomerAddress Load (5.0ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mStripeCustomer Load (0.6ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mOrder Load (1.6ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers] Rendered CustomerSerializer with ActiveModelSerializers::Adapter::Attributes (24.61ms)
Completed 201 Created in 34ms (Views: 17.1ms | ActiveRecord: 9.8ms | Allocations: 4794)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-02 14:24:13 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (1.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (36.08ms)
Completed 201 Created in 44ms (Views: 35.0ms | ActiveRecord: 6.7ms | Allocations: 5626)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-02 14:24:13 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (1.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.9ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (15.73ms)
Completed 201 Created in 25ms (Views: 19.6ms | ActiveRecord: 3.1ms | Allocations: 5626)


Started PATCH "/carts/1" for 127.0.0.1 at 2023-07-02 14:24:13 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"1"}
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (2.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (1.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (7.59ms)
Started PATCH "/carts/2" for 127.0.0.1 at 2023-07-02 14:24:13 +0100
Completed 200 OK in 29ms (Views: 10.3ms | ActiveRecord: 5.5ms | Allocations: 3942)


Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"2"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
Started PATCH "/carts/3" for 127.0.0.1 at 2023-07-02 14:24:13 +0100
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (8.09ms)
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"3"}
Completed 200 OK in 20ms (Views: 9.2ms | ActiveRecord: 1.3ms | Allocations: 3682)


  [1m[36mCart Load (1.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (5.72ms)
Completed 200 OK in 25ms (Views: 6.2ms | ActiveRecord: 5.0ms | Allocations: 3685)


Started PATCH "/carts/4" for 127.0.0.1 at 2023-07-02 14:24:13 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"4"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (5.29ms)
Completed 200 OK in 18ms (Views: 5.8ms | ActiveRecord: 1.3ms | Allocations: 3682)


Started PATCH "/carts/1" for 127.0.0.1 at 2023-07-02 14:24:13 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"1"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
Started PATCH "/carts/2" for 127.0.0.1 at 2023-07-02 14:24:13 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"2"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (6.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (5.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (12.03ms)
Completed 200 OK in 54ms (Views: 9.1ms | ActiveRecord: 14.5ms | Allocations: 7035)


[active_model_serializers]   [1m[36mLineItem Load (2.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (12.73ms)
Completed 200 OK in 42ms (Views: 11.2ms | ActiveRecord: 5.1ms | Allocations: 5505)


Started PATCH "/carts/3" for 127.0.0.1 at 2023-07-02 14:24:13 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"3"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.8ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Started PATCH "/carts/4" for 127.0.0.1 at 2023-07-02 14:24:13 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"4"}
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
[31mUnpermitted parameter: :id[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mBEGIN[0m
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (6.46ms)
Completed 200 OK in 35ms (Views: 7.1ms | ActiveRecord: 2.3ms | Allocations: 3682)


  [1m[36mCustomer Load (1.9ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (1.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (9.05ms)
Completed 200 OK in 32ms (Views: 8.2ms | ActiveRecord: 5.6ms | Allocations: 3682)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-02 14:24:13 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (1.8ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (17.07ms)
Completed 201 Created in 33ms (Views: 25.3ms | ActiveRecord: 3.9ms | Allocations: 5626)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-02 14:24:14 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.8ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (43.33ms)
Completed 201 Created in 49ms (Views: 42.7ms | ActiveRecord: 4.5ms | Allocations: 5626)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-02 14:24:14 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (3.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (15.36ms)
Completed 201 Created in 21ms (Views: 13.4ms | ActiveRecord: 5.4ms | Allocations: 5626)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-02 14:24:14 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (5.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (22.63ms)
Completed 201 Created in 27ms (Views: 18.7ms | ActiveRecord: 6.6ms | Allocations: 5625)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-02 14:24:14 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (3.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (2.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (36.05ms)
Completed 201 Created in 49ms (Views: 37.8ms | ActiveRecord: 8.2ms | Allocations: 5625)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-02 14:24:14 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (5.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (3.7ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (3.9ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (25.53ms)
Completed 201 Created in 41ms (Views: 23.8ms | ActiveRecord: 13.7ms | Allocations: 5625)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-02 14:24:14 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (4.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (7.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (2.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (7.9ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (5.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (36.38ms)
Completed 201 Created in 49ms (Views: 18.7ms | ActiveRecord: 27.2ms | Allocations: 5625)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-02 14:24:14 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (2.0ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (19.27ms)
Completed 201 Created in 27ms (Views: 21.8ms | ActiveRecord: 3.2ms | Allocations: 5625)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-02 14:25:20 +0100
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-02 14:25:20 +0100
Processing by BakersController#logged_in as */*
Processing by CustomersController#logged_in as */*
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBaker Load (0.3ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.19ms)
[active_model_serializers]   [1m[36mCart Load (3.7ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
Completed 201 Created in 11ms (Views: 3.8ms | ActiveRecord: 0.3ms | Allocations: 847)


[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mCustomerAddress Load (1.3ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mStripeCustomer Load (0.3ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
Started GET "/products" for 127.0.0.1 at 2023-07-02 14:25:20 +0100
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
Processing by ProductsController#index as HTML
[active_model_serializers]   [1m[36mOrder Load (0.8ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
  [1m[36mProduct Load (1.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.16ms)
Completed 200 OK in 8ms (Views: 6.1ms | ActiveRecord: 1.4ms | Allocations: 847)


[active_model_serializers] Rendered CustomerSerializer with ActiveModelSerializers::Adapter::Attributes (26.4ms)
Completed 201 Created in 35ms (Views: 24.4ms | ActiveRecord: 6.4ms | Allocations: 4788)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-02 14:25:20 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (2.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (3.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (17.55ms)
Completed 201 Created in 35ms (Views: 22.9ms | ActiveRecord: 7.2ms | Allocations: 5625)


Started PATCH "/carts/1" for 127.0.0.1 at 2023-07-02 14:25:20 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"1"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mBEGIN[0m
Started PATCH "/carts/2" for 127.0.0.1 at 2023-07-02 14:25:20 +0100
  ↳ app/controllers/carts_controller.rb:29:in `update'
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"2"}
  [1m[36mCustomer Load (0.8ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
[31mUnpermitted parameter: :id[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (7.99ms)
  ↳ app/controllers/carts_controller.rb:29:in `update'
Started PATCH "/carts/3" for 127.0.0.1 at 2023-07-02 14:25:20 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"3"}
Completed 200 OK in 26ms (Views: 12.1ms | ActiveRecord: 4.9ms | Allocations: 3692)


  [1m[36mCart Load (0.8ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (5.06ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
Completed 200 OK in 27ms (Views: 12.8ms | ActiveRecord: 1.7ms | Allocations: 3682)


  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (3.9ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (0.9ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (4.97ms)
Completed 200 OK in 30ms (Views: 4.7ms | ActiveRecord: 6.1ms | Allocations: 3682)


Started PATCH "/carts/4" for 127.0.0.1 at 2023-07-02 14:25:20 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"4"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (6.53ms)
Completed 200 OK in 23ms (Views: 7.0ms | ActiveRecord: 2.0ms | Allocations: 3682)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-02 14:25:20 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (1.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (3.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (15.48ms)
Completed 201 Created in 28ms (Views: 17.2ms | ActiveRecord: 5.6ms | Allocations: 5625)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-02 14:25:20 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (17.0ms)
Completed 201 Created in 26ms (Views: 21.1ms | ActiveRecord: 3.0ms | Allocations: 5625)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-02 14:25:20 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.9ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (22.99ms)
Completed 201 Created in 37ms (Views: 27.0ms | ActiveRecord: 3.5ms | Allocations: 5625)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-02 14:25:20 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (2.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (2.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (23.41ms)
Completed 201 Created in 33ms (Views: 22.6ms | ActiveRecord: 6.8ms | Allocations: 5625)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-02 14:26:28 +0100
Processing by CustomersController#logged_in as */*
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers]   [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mCustomerAddress Load (0.9ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-02 14:26:28 +0100
Processing by BakersController#logged_in as */*
[active_model_serializers]   [1m[36mStripeCustomer Load (0.5ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
  [1m[36mBaker Load (0.4ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers]   [1m[36mOrder Load (0.9ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers] Rendered CustomerSerializer with ActiveModelSerializers::Adapter::Attributes (19.39ms)
Completed 201 Created in 23ms (Views: 17.4ms | ActiveRecord: 3.2ms | Allocations: 4802)


[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.07ms)
Completed 201 Created in 6ms (Views: 1.3ms | ActiveRecord: 0.4ms | Allocations: 851)


Started GET "/products" for 127.0.0.1 at 2023-07-02 14:26:28 +0100
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.2ms)
Completed 200 OK in 5ms (Views: 3.9ms | ActiveRecord: 0.7ms | Allocations: 847)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-02 14:26:28 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (1.1ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (6.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (15.45ms)
Completed 201 Created in 30ms (Views: 17.2ms | ActiveRecord: 8.4ms | Allocations: 5625)


Started PATCH "/carts/1" for 127.0.0.1 at 2023-07-02 14:26:28 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"1"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (4.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (8.16ms)
Completed 200 OK in 29ms (Views: 4.2ms | ActiveRecord: 6.1ms | Allocations: 3682)


Started PATCH "/carts/2" for 127.0.0.1 at 2023-07-02 14:26:28 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"2"}
Started PATCH "/carts/3" for 127.0.0.1 at 2023-07-02 14:26:28 +0100
  [1m[36mCart Load (0.8ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"3"}
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mCart Load (0.8ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCustomer Load (2.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (1.9ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Started PATCH "/carts/4" for 127.0.0.1 at 2023-07-02 14:26:28 +0100
  ↳ app/controllers/carts_controller.rb:29:in `update'
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"4"}
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCart Load (1.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
  ↳ app/controllers/carts_controller.rb:29:in `update'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
  [1m[36mCustomer Load (1.9ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (16.6ms)
  [1m[36mTRANSACTION (4.7ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 44ms (Views: 17.5ms | ActiveRecord: 5.6ms | Allocations: 3692)


  ↳ app/controllers/carts_controller.rb:29:in `update'
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   [1m[36mLineItem Load (2.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (7.43ms)
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (7.53ms)
Completed 200 OK in 37ms (Views: 6.2ms | ActiveRecord: 7.6ms | Allocations: 3682)


Completed 200 OK in 62ms (Views: 8.9ms | ActiveRecord: 8.4ms | Allocations: 3692)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-02 14:26:28 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.9ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (27.04ms)
Completed 201 Created in 37ms (Views: 29.1ms | ActiveRecord: 3.8ms | Allocations: 5625)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-02 14:26:28 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.9ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (2.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (28.97ms)
Completed 201 Created in 40ms (Views: 26.5ms | ActiveRecord: 9.0ms | Allocations: 5625)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-02 14:26:28 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.9ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (22.26ms)
Completed 201 Created in 36ms (Views: 27.7ms | ActiveRecord: 3.0ms | Allocations: 5625)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-02 14:26:28 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.8ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (26.48ms)
Completed 201 Created in 43ms (Views: 33.9ms | ActiveRecord: 3.1ms | Allocations: 5625)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-02 14:29:39 +0100
Started GET "/products" for 127.0.0.1 at 2023-07-02 14:29:39 +0100
Processing by CustomersController#logged_in as */*
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-02 14:29:39 +0100
  ↳ app/controllers/products_controller.rb:8:in `index'
Processing by BakersController#logged_in as */*
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.37ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.3ms | Allocations: 847)


  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers]   [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mCustomerAddress Load (1.4ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mStripeCustomer Load (2.6ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mOrder Load (2.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers] Rendered CustomerSerializer with ActiveModelSerializers::Adapter::Attributes (22.16ms)
Completed 201 Created in 36ms (Views: 17.0ms | ActiveRecord: 6.7ms | Allocations: 8345)


  [1m[36mBaker Load (1.1ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.07ms)
Completed 201 Created in 36ms (Views: 0.8ms | ActiveRecord: 12.2ms | Allocations: 8531)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-02 14:29:40 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (19.23ms)
Completed 201 Created in 26ms (Views: 22.2ms | ActiveRecord: 1.9ms | Allocations: 5625)


Started PATCH "/carts/1" for 127.0.0.1 at 2023-07-02 14:29:40 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"1"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (4.9ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (9.57ms)
Completed 200 OK in 35ms (Views: 5.3ms | ActiveRecord: 8.6ms | Allocations: 3682)


Started PATCH "/carts/2" for 127.0.0.1 at 2023-07-02 14:29:40 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"2"}
Started PATCH "/carts/3" for 127.0.0.1 at 2023-07-02 14:29:40 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"3"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
  [1m[36mCart Load (0.9ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[31mUnpermitted parameter: :id[0m
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.9ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
Started PATCH "/carts/4" for 127.0.0.1 at 2023-07-02 14:29:40 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"4"}
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (4.09ms)
Completed 200 OK in 14ms (Views: 4.2ms | ActiveRecord: 1.4ms | Allocations: 3683)


  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[31mUnpermitted parameter: :id[0m
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (5.86ms)
Completed 200 OK in 20ms (Views: 6.3ms | ActiveRecord: 3.5ms | Allocations: 3682)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (2.9ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (3.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (7.14ms)
Completed 200 OK in 29ms (Views: 4.4ms | ActiveRecord: 8.0ms | Allocations: 3683)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-02 14:29:40 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (1.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (23.28ms)
Completed 201 Created in 36ms (Views: 29.7ms | ActiveRecord: 4.1ms | Allocations: 5625)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-02 14:29:40 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.7ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (1.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (19.96ms)
Completed 201 Created in 29ms (Views: 20.4ms | ActiveRecord: 4.8ms | Allocations: 5625)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-02 14:29:40 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.9ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (28.5ms)
Completed 201 Created in 39ms (Views: 30.7ms | ActiveRecord: 3.6ms | Allocations: 5626)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-02 14:29:40 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (24.02ms)
Completed 201 Created in 36ms (Views: 27.0ms | ActiveRecord: 1.8ms | Allocations: 5626)


Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-02 14:36:48 +0100
Processing by BakersController#logged_in as */*
Started GET "/products" for 127.0.0.1 at 2023-07-02 14:36:48 +0100
Processing by ProductsController#index as HTML
Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-02 14:36:48 +0100
Processing by CustomersController#logged_in as */*
  [1m[36mBaker Load (0.4ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.05ms)
Completed 201 Created in 34ms (Views: 0.4ms | ActiveRecord: 10.3ms | Allocations: 9015)


  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.13ms)
Completed 200 OK in 52ms (Views: 51.7ms | ActiveRecord: 14.1ms | Allocations: 10847)


[active_model_serializers]   [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mCustomerAddress Load (0.3ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mStripeCustomer Load (0.3ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers] Rendered CustomerSerializer with ActiveModelSerializers::Adapter::Attributes (17.07ms)
Completed 201 Created in 61ms (Views: 16.0ms | ActiveRecord: 15.8ms | Allocations: 13755)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-02 14:36:48 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (4.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (17.02ms)
Completed 201 Created in 21ms (Views: 13.3ms | ActiveRecord: 6.4ms | Allocations: 5628)


Started PATCH "/carts/1" for 127.0.0.1 at 2023-07-02 14:36:48 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"1"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (1.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (1.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (3.84ms)
Completed 200 OK in 25ms (Views: 3.3ms | ActiveRecord: 4.4ms | Allocations: 3685)


Started PATCH "/carts/2" for 127.0.0.1 at 2023-07-02 14:36:48 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"2"}
Started PATCH "/carts/3" for 127.0.0.1 at 2023-07-02 14:36:48 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"3"}
  [1m[36mCart Load (1.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (4.4ms)[0m  [1m[35mBEGIN[0m
[active_model_serializers]   [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
  [1m[36mCustomer Load (0.9ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (9.78ms)
Completed 200 OK in 39ms (Views: 10.2ms | ActiveRecord: 13.5ms | Allocations: 6506)


  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (1.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (10.79ms)
Completed 200 OK in 40ms (Views: 10.0ms | ActiveRecord: 12.9ms | Allocations: 6506)


Started PATCH "/carts/4" for 127.0.0.1 at 2023-07-02 14:36:48 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"4"}
  [1m[36mCart Load (1.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.7ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (0.9ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (4.11ms)
Completed 200 OK in 23ms (Views: 3.9ms | ActiveRecord: 6.8ms | Allocations: 3682)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-02 14:36:49 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (4.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (21.5ms)
Completed 201 Created in 31ms (Views: 22.5ms | ActiveRecord: 6.4ms | Allocations: 5628)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-02 14:36:49 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (3.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (3.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.9ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (31.82ms)
Completed 201 Created in 39ms (Views: 28.0ms | ActiveRecord: 9.0ms | Allocations: 5629)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-02 14:36:49 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (1.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.8ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (27.47ms)
Completed 201 Created in 56ms (Views: 32.4ms | ActiveRecord: 13.4ms | Allocations: 8489)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-02 14:36:49 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.9ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (8.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (32.64ms)
Completed 201 Created in 42ms (Views: 29.1ms | ActiveRecord: 11.1ms | Allocations: 5626)


Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-02 14:37:01 +0100
Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-02 14:37:01 +0100
Processing by BakersController#logged_in as */*
Processing by CustomersController#logged_in as */*
  [1m[36mBaker Load (0.3ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Started GET "/products" for 127.0.0.1 at 2023-07-02 14:37:01 +0100
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.06ms)
Processing by ProductsController#index as HTML
Completed 201 Created in 3ms (Views: 0.5ms | ActiveRecord: 0.3ms | Allocations: 866)


  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers]   [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mCustomerAddress Load (0.4ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mStripeCustomer Load (0.4ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers] Rendered CustomerSerializer with ActiveModelSerializers::Adapter::Attributes (16.43ms)
Completed 201 Created in 23ms (Views: 18.0ms | ActiveRecord: 1.8ms | Allocations: 7985)


  [1m[36mProduct Load (4.7ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.2ms)
Completed 200 OK in 30ms (Views: 10.4ms | ActiveRecord: 17.7ms | Allocations: 8602)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-02 14:37:01 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (11.84ms)
Completed 201 Created in 16ms (Views: 13.0ms | ActiveRecord: 1.4ms | Allocations: 5625)


Started PATCH "/carts/1" for 127.0.0.1 at 2023-07-02 14:37:01 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"1"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Started PATCH "/carts/2" for 127.0.0.1 at 2023-07-02 14:37:01 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"2"}
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
Started PATCH "/carts/3" for 127.0.0.1 at 2023-07-02 14:37:01 +0100
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
Processing by CartsController#update as HTML
  [1m[36mCustomer Load (4.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Parameters: {"total"=>0, "id"=>"3"}
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (5.71ms)
Completed 200 OK in 21ms (Views: 6.1ms | ActiveRecord: 1.2ms | Allocations: 3695)


  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (1.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (4.61ms)
  [1m[36mCustomer Load (1.7ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 25ms (Views: 3.8ms | ActiveRecord: 9.1ms | Allocations: 5571)


  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
Started PATCH "/carts/4" for 127.0.0.1 at 2023-07-02 14:37:01 +0100
Processing by CartsController#update as HTML
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
  Parameters: {"total"=>0, "id"=>"4"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (3.24ms)
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
Completed 200 OK in 19ms (Views: 3.3ms | ActiveRecord: 5.8ms | Allocations: 5757)


[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-02 14:37:01 +0100
  ↳ app/controllers/carts_controller.rb:29:in `update'
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
[active_model_serializers]   [1m[36mLineItem Load (0.9ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (6.94ms)
Completed 200 OK in 29ms (Views: 7.2ms | ActiveRecord: 1.9ms | Allocations: 5213)


  [1m[36mCustomer Load (1.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (24.57ms)
Completed 201 Created in 58ms (Views: 25.3ms | ActiveRecord: 18.5ms | Allocations: 9524)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-02 14:37:01 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (2.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (4.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (22.45ms)
Completed 201 Created in 29ms (Views: 19.4ms | ActiveRecord: 8.1ms | Allocations: 5625)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-02 14:37:01 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (23.46ms)
Completed 201 Created in 29ms (Views: 24.0ms | ActiveRecord: 3.1ms | Allocations: 5626)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-02 14:37:01 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (4.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (5.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (5.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (31.53ms)
Completed 201 Created in 39ms (Views: 18.2ms | ActiveRecord: 18.1ms | Allocations: 5626)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-02 14:37:14 +0100
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-02 14:37:14 +0100
Processing by BakersController#logged_in as */*
Processing by CustomersController#logged_in as */*
  [1m[36mBaker Load (0.4ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.05ms)
Completed 201 Created in 3ms (Views: 0.5ms | ActiveRecord: 0.4ms | Allocations: 856)


  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers]   [1m[36mCart Load (0.9ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mCustomerAddress Load (0.6ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mStripeCustomer Load (1.1ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
Started GET "/products" for 127.0.0.1 at 2023-07-02 14:37:14 +0100
[active_model_serializers]   [1m[36mOrder Load (0.9ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
Processing by ProductsController#index as HTML
[active_model_serializers] Rendered CustomerSerializer with ActiveModelSerializers::Adapter::Attributes (25.66ms)
Completed 201 Created in 35ms (Views: 23.0ms | ActiveRecord: 3.8ms | Allocations: 4816)


  [1m[36mProduct Load (1.6ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.27ms)
Completed 200 OK in 7ms (Views: 4.8ms | ActiveRecord: 1.6ms | Allocations: 849)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-02 14:37:14 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (1.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.9ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (2.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (16.17ms)
Completed 201 Created in 26ms (Views: 14.9ms | ActiveRecord: 6.4ms | Allocations: 5625)


Started PATCH "/carts/1" for 127.0.0.1 at 2023-07-02 14:37:14 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"1"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
Started PATCH "/carts/2" for 127.0.0.1 at 2023-07-02 14:37:14 +0100
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (4.83ms)
Completed 200 OK in 22ms (Views: 5.2ms | ActiveRecord: 1.6ms | Allocations: 3696)


Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"2"}
  [1m[36mCart Load (1.7ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
Started PATCH "/carts/3" for 127.0.0.1 at 2023-07-02 14:37:14 +0100
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (3.7ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
Processing by CartsController#update as HTML
Started PATCH "/carts/4" for 127.0.0.1 at 2023-07-02 14:37:14 +0100
  Parameters: {"total"=>0, "id"=>"3"}
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"4"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mLineItem Load (1.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (4.96ms)
Completed 200 OK in 34ms (Views: 5.1ms | ActiveRecord: 10.5ms | Allocations: 3702)


  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (6.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (2.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (1.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (2.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-02 14:37:14 +0100
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (6.66ms)
Completed 200 OK in 31ms (Views: 4.6ms | ActiveRecord: 6.0ms | Allocations: 5793)


Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (1.1ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mTRANSACTION (11.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (7.2ms)
Completed 200 OK in 48ms (Views: 6.9ms | ActiveRecord: 21.2ms | Allocations: 7579)


[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (28.18ms)
Completed 201 Created in 40ms (Views: 30.5ms | ActiveRecord: 5.2ms | Allocations: 5678)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-02 14:37:14 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.8ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (25.03ms)
Completed 201 Created in 41ms (Views: 30.4ms | ActiveRecord: 3.2ms | Allocations: 5625)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-02 14:37:15 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (10.49ms)
Completed 201 Created in 16ms (Views: 11.9ms | ActiveRecord: 1.5ms | Allocations: 5625)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-02 14:37:15 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (6.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (16.32ms)
Completed 201 Created in 24ms (Views: 11.9ms | ActiveRecord: 7.6ms | Allocations: 5625)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-02 14:37:26 +0100
Processing by CustomersController#logged_in as */*
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers]   [1m[36mCart Load (1.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
Started GET "/products" for 127.0.0.1 at 2023-07-02 14:37:26 +0100
Processing by ProductsController#index as HTML
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-02 14:37:26 +0100
[active_model_serializers]   [1m[36mCustomerAddress Load (0.3ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.22ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.5ms | Allocations: 847)


[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mStripeCustomer Load (2.4ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
Processing by BakersController#logged_in as */*
[active_model_serializers]   [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
  [1m[36mBaker Load (0.3ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.06ms)
Completed 201 Created in 4ms (Views: 0.6ms | ActiveRecord: 0.3ms | Allocations: 856)


[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers] Rendered CustomerSerializer with ActiveModelSerializers::Adapter::Attributes (37.22ms)
Completed 201 Created in 41ms (Views: 34.1ms | ActiveRecord: 4.5ms | Allocations: 4796)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-02 14:37:26 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (1.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (11.56ms)
Completed 201 Created in 19ms (Views: 14.7ms | ActiveRecord: 2.7ms | Allocations: 5625)


Started PATCH "/carts/1" for 127.0.0.1 at 2023-07-02 14:37:26 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"1"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
Started PATCH "/carts/2" for 127.0.0.1 at 2023-07-02 14:37:26 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"2"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
[31mUnpermitted parameter: :id[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
[active_model_serializers]   [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
  ↳ app/controllers/carts_controller.rb:29:in `update'
Started PATCH "/carts/3" for 127.0.0.1 at 2023-07-02 14:37:26 +0100
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (3.99ms)
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 17ms (Views: 3.7ms | ActiveRecord: 4.0ms | Allocations: 3702)


Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"3"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (3.23ms)
Completed 200 OK in 17ms (Views: 3.4ms | ActiveRecord: 1.8ms | Allocations: 3682)


  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (3.29ms)
Completed 200 OK in 13ms (Views: 4.0ms | ActiveRecord: 2.5ms | Allocations: 3685)


Started PATCH "/carts/4" for 127.0.0.1 at 2023-07-02 14:37:26 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"4"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (4.7ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-02 14:37:26 +0100
  ↳ app/controllers/carts_controller.rb:29:in `update'
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (4.99ms)
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
Completed 200 OK in 22ms (Views: 6.4ms | ActiveRecord: 7.5ms | Allocations: 3683)


[active_model_serializers]   [1m[36mLineItem Load (1.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (14.96ms)
Completed 201 Created in 22ms (Views: 16.3ms | ActiveRecord: 2.9ms | Allocations: 5625)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-02 14:37:26 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (1.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (4.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (16.24ms)
Completed 201 Created in 23ms (Views: 13.3ms | ActiveRecord: 7.5ms | Allocations: 5625)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-02 14:37:26 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (5.1ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.9ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (2.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.9ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (15.74ms)
Completed 201 Created in 26ms (Views: 14.5ms | ActiveRecord: 9.5ms | Allocations: 5625)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-02 14:37:26 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (11.41ms)
Completed 201 Created in 18ms (Views: 12.2ms | ActiveRecord: 2.2ms | Allocations: 5625)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-02 22:01:10 +0100
Processing by CustomersController#logged_in as */*
Started GET "/discounts" for 127.0.0.1 at 2023-07-02 22:01:10 +0100
Processing by DiscountsController#index as HTML
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers]   [1m[36mCart Load (0.8ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mCustomerAddress Load (0.8ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
  [1m[36mDiscount Load (1.4ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts"[0m
  ↳ app/controllers/discounts_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mStripeCustomer Load (0.5ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mProduct Load (1.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."discount_id" = $1[0m  [["discount_id", 3]]
[active_model_serializers]   ↳ app/controllers/discounts_controller.rb:9:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (11.11ms)
Completed 200 OK in 49ms (Views: 48.5ms | ActiveRecord: 18.8ms | Allocations: 10236)


[active_model_serializers]   [1m[36mOrder Load (1.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers] Rendered CustomerSerializer with ActiveModelSerializers::Adapter::Attributes (41.44ms)
Completed 201 Created in 64ms (Views: 38.8ms | ActiveRecord: 9.3ms | Allocations: 13033)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-02 22:01:10 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (5.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (3.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (36.0ms)
Completed 201 Created in 43ms (Views: 27.0ms | ActiveRecord: 12.9ms | Allocations: 5628)


Started PATCH "/carts/1" for 127.0.0.1 at 2023-07-02 22:01:10 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"1"}
Started PATCH "/carts/2" for 127.0.0.1 at 2023-07-02 22:01:10 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"2"}
  [1m[36mCart Load (1.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mCart Load (1.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (7.8ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (1.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (9.1ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (10.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
Started GET "/customers" for 127.0.0.1 at 2023-07-02 22:01:10 +0100
  [1m[36mTRANSACTION (7.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (3.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (29.49ms)
Completed 200 OK in 96ms (Views: 26.7ms | ActiveRecord: 24.1ms | Allocations: 7037)


[active_model_serializers]   [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (18.58ms)
Completed 200 OK in 97ms (Views: 21.5ms | ActiveRecord: 19.3ms | Allocations: 7602)


Started PATCH "/carts/3" for 127.0.0.1 at 2023-07-02 22:01:10 +0100
Started PATCH "/carts/4" for 127.0.0.1 at 2023-07-02 22:01:10 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"4"}
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"3"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCart Load (4.8ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mBEGIN[0m
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (6.05ms)
  ↳ app/controllers/carts_controller.rb:29:in `update'
Completed 200 OK in 24ms (Views: 8.5ms | ActiveRecord: 2.3ms | Allocations: 5227)


  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-02 22:01:10 +0100
  [1m[35m (2.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
[active_model_serializers]   [1m[36mLineItem Load (4.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (7.46ms)
Completed 200 OK in 35ms (Views: 3.5ms | ActiveRecord: 13.8ms | Allocations: 8189)


  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (3.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (16.08ms)
Completed 201 Created in 27ms (Views: 15.2ms | ActiveRecord: 5.7ms | Allocations: 6703)


Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-02 22:01:11 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  ↳ app/controllers/customers_controller.rb:49:in `index'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (13.07ms)
Completed 201 Created in 18ms (Views: 13.3ms | ActiveRecord: 3.2ms | Allocations: 5625)


Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-02 22:01:11 +0100
Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-02 22:01:11 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
Started GET "/products" for 127.0.0.1 at 2023-07-02 22:01:11 +0100
[active_model_serializers]   [1m[36mLineItem Load (5.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (16.56ms)
Completed 201 Created in 22ms (Views: 12.6ms | ActiveRecord: 7.3ms | Allocations: 5625)


[active_model_serializers]   [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
Started GET "/variant_groups" for 127.0.0.1 at 2023-07-02 22:01:11 +0100
Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-02 22:01:11 +0100
[active_model_serializers]   [1m[36mCustomerAddress Load (0.3ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers]   [1m[36mStripeCustomer Load (0.3ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers]   [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (77.5ms)
Completed 200 OK in 117ms (Views: 86.6ms | ActiveRecord: 16.2ms | Allocations: 28481)


Processing by BakersController#logged_in as */*
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  [1m[36mBaker Load (0.2ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
Processing by CustomersController#my_carts as */*
Processing by VariantGroupsController#index as HTML
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.14ms)
Completed 201 Created in 21ms (Views: 5.6ms | ActiveRecord: 5.9ms | Allocations: 9061)


  Parameters: {"id"=>"2"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.18ms)
Completed 200 OK in 30ms (Views: 18.5ms | ActiveRecord: 7.2ms | Allocations: 9690)


  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
  [1m[36mVariantGroup Load (0.6ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups"[0m
  ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (8.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mProduct Load (2.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (26.02ms)
[active_model_serializers]   ↳ app/controllers/variant_groups_controller.rb:8:in `index'
Completed 201 Created in 82ms (Views: 37.6ms | ActiveRecord: 22.2ms | Allocations: 31066)


[active_model_serializers]   [1m[36mVariantOption Load (0.4ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (25.16ms)
Completed 200 OK in 104ms (Views: 44.8ms | ActiveRecord: 49.7ms | Allocations: 38897)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-02 22:01:15 +0100
Processing by CustomersController#logged_in as */*
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers]   [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mCustomerAddress Load (0.3ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mStripeCustomer Load (0.3ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers] Rendered CustomerSerializer with ActiveModelSerializers::Adapter::Attributes (32.31ms)
Completed 201 Created in 44ms (Views: 28.5ms | ActiveRecord: 6.3ms | Allocations: 10125)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-02 22:01:15 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (12.17ms)
Completed 201 Created in 17ms (Views: 13.6ms | ActiveRecord: 1.7ms | Allocations: 5652)


Started PATCH "/carts/1" for 127.0.0.1 at 2023-07-02 22:01:15 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"1"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
Started PATCH "/carts/2" for 127.0.0.1 at 2023-07-02 22:01:15 +0100
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"2"}
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (1.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
Started PATCH "/carts/3" for 127.0.0.1 at 2023-07-02 22:01:15 +0100
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
Processing by CartsController#update as HTML
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (9.36ms)
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
  Parameters: {"total"=>0, "id"=>"3"}
Completed 200 OK in 20ms (Views: 9.0ms | ActiveRecord: 2.9ms | Allocations: 4759)


[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (3.51ms)
Completed 200 OK in 14ms (Views: 3.7ms | ActiveRecord: 1.2ms | Allocations: 3692)


  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
Started PATCH "/carts/4" for 127.0.0.1 at 2023-07-02 22:01:15 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"4"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-02 22:01:15 +0100
  ↳ app/controllers/carts_controller.rb:29:in `update'
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (13.11ms)
Completed 200 OK in 32ms (Views: 16.5ms | ActiveRecord: 2.3ms | Allocations: 3924)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (3.79ms)
Completed 200 OK in 18ms (Views: 4.1ms | ActiveRecord: 2.0ms | Allocations: 3692)


  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (13.29ms)
Completed 201 Created in 61ms (Views: 22.3ms | ActiveRecord: 12.6ms | Allocations: 21401)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-02 22:01:15 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (12.29ms)
Completed 201 Created in 17ms (Views: 12.5ms | ActiveRecord: 3.0ms | Allocations: 5625)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-02 22:01:15 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (2.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (2.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (13.83ms)
Completed 201 Created in 20ms (Views: 12.0ms | ActiveRecord: 6.7ms | Allocations: 5625)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-02 22:01:15 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (16.92ms)
Completed 201 Created in 23ms (Views: 13.9ms | ActiveRecord: 5.7ms | Allocations: 7305)


Started DELETE "/customer-logout" for 127.0.0.1 at 2023-07-02 22:01:26 +0100
Processing by CustomersController#logout as */*
Completed 204 No Content in 1ms (ActiveRecord: 0.0ms | Allocations: 181)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-02 22:01:55 +0100
Processing by CustomersController#logged_in as */*
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-02 22:01:55 +0100
Processing by BakersController#logged_in as */*
Started GET "/products" for 127.0.0.1 at 2023-07-02 22:01:55 +0100
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Processing by ProductsController#index as HTML
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.18ms)
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.08ms)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.5ms | Allocations: 870)


Completed 201 Created in 16ms (Views: 4.6ms | ActiveRecord: 0.3ms | Allocations: 1786)


  [1m[36mBaker Load (0.6ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.08ms)
Completed 201 Created in 17ms (Views: 2.2ms | ActiveRecord: 0.6ms | Allocations: 1781)


Started POST "/baker-login" for 127.0.0.1 at 2023-07-02 22:02:14 +0100
Processing by BakersController#login as HTML
  Parameters: {"password"=>"[FILTERED]"}
  [1m[36mBaker Load (0.6ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:6:in `login'
[active_model_serializers] Rendered BakerSerializer with ActiveModelSerializers::Adapter::Attributes (0.35ms)
Completed 201 Created in 228ms (Views: 8.8ms | ActiveRecord: 2.8ms | Allocations: 5025)


Started GET "/customers" for 127.0.0.1 at 2023-07-02 22:02:15 +0100
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (0.9ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
  ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers]   [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
Started GET "/discounts" for 127.0.0.1 at 2023-07-02 22:02:15 +0100
Started GET "/variant_groups" for 127.0.0.1 at 2023-07-02 22:02:15 +0100
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
Processing by DiscountsController#index as HTML
  [1m[36mDiscount Load (1.9ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts"[0m
  ↳ app/controllers/discounts_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."discount_id" = $1[0m  [["discount_id", 3]]
[active_model_serializers]   ↳ app/controllers/discounts_controller.rb:9:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (7.51ms)
[active_model_serializers]   [1m[36mCustomerAddress Load (0.4ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
Completed 200 OK in 12ms (Views: 9.7ms | ActiveRecord: 2.4ms | Allocations: 1800)


[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
Processing by VariantGroupsController#index as HTML
  [1m[36mVariantGroup Load (0.4ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups"[0m
  ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mStripeCustomer Load (0.4ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers]   [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (43.41ms)
Completed 200 OK in 55ms (Views: 43.1ms | ActiveRecord: 11.1ms | Allocations: 10199)


[active_model_serializers]   [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.5ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (24.51ms)
Completed 200 OK in 48ms (Views: 34.0ms | ActiveRecord: 10.8ms | Allocations: 10148)


Started GET "/variant_groups" for 127.0.0.1 at 2023-07-02 22:02:50 +0100
Processing by VariantGroupsController#index as HTML
  [1m[36mVariantGroup Load (1.2ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups"[0m
  ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (1.7ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (7.26ms)
Completed 200 OK in 11ms (Views: 7.5ms | ActiveRecord: 3.1ms | Allocations: 2724)


Started GET "/products" for 127.0.0.1 at 2023-07-02 22:07:23 +0100
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.21ms)
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.3ms | Allocations: 847)


Started GET "/products" for 127.0.0.1 at 2023-07-02 22:07:32 +0100
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.48ms)
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.4ms | Allocations: 847)


Started GET "/variant_groups" for 127.0.0.1 at 2023-07-02 22:07:37 +0100
Processing by VariantGroupsController#index as HTML
  [1m[36mVariantGroup Load (0.5ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups"[0m
  ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.3ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (10.26ms)
Completed 200 OK in 17ms (Views: 15.1ms | ActiveRecord: 1.2ms | Allocations: 2743)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-02 22:09:55 +0100
Started GET "/customers" for 127.0.0.1 at 2023-07-02 22:09:55 +0100
Processing by CustomersController#logged_in as */*
Started GET "/variant_groups" for 127.0.0.1 at 2023-07-02 22:09:55 +0100
Processing by CustomersController#index as HTML
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-02 22:09:55 +0100
Started GET "/discounts" for 127.0.0.1 at 2023-07-02 22:09:55 +0100
Started GET "/products" for 127.0.0.1 at 2023-07-02 22:09:55 +0100
Processing by VariantGroupsController#index as HTML
Processing by ProductsController#index as HTML
Processing by DiscountsController#index as HTML
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
  ↳ app/controllers/customers_controller.rb:49:in `index'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
Processing by BakersController#logged_in as */*
[active_model_serializers]   [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  [1m[36mDiscount Load (0.6ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts"[0m
  ↳ app/controllers/discounts_controller.rb:9:in `index'
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
  [1m[36mVariantGroup Load (0.7ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups"[0m
  [1m[36mProduct Load (2.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.21ms)
Completed 200 OK in 50ms (Views: 49.3ms | ActiveRecord: 19.6ms | Allocations: 11284)


  ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCustomerAddress Load (0.7ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers]   [1m[36mStripeCustomer Load (0.3ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.07ms)
Completed 201 Created in 93ms (Views: 53.7ms | ActiveRecord: 0.3ms | Allocations: 2526)


[active_model_serializers]   [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."discount_id" = $1[0m  [["discount_id", 3]]
[active_model_serializers]   ↳ app/controllers/discounts_controller.rb:9:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (15.17ms)
Completed 200 OK in 74ms (Views: 71.6ms | ActiveRecord: 26.2ms | Allocations: 15763)


[active_model_serializers]   [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
  [1m[36mBaker Load (0.4ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (72.24ms)
Completed 200 OK in 112ms (Views: 111.8ms | ActiveRecord: 15.9ms | Allocations: 16369)


[active_model_serializers]   [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers] Rendered BakerSerializer with ActiveModelSerializers::Adapter::Attributes (0.46ms)
Completed 201 Created in 92ms (Views: 2.0ms | ActiveRecord: 50.0ms | Allocations: 17319)


[active_model_serializers]   [1m[36mVariantOption Load (0.5ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (58.93ms)
Completed 200 OK in 141ms (Views: 136.5ms | ActiveRecord: 55.7ms | Allocations: 18106)


Started GET "/variant_groups" for 127.0.0.1 at 2023-07-02 22:09:55 +0100
Processing by VariantGroupsController#index as HTML
  [1m[36mVariantGroup Load (0.2ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups"[0m
  ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (1.4ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (11.06ms)
Completed 200 OK in 16ms (Views: 13.3ms | ActiveRecord: 1.9ms | Allocations: 2718)


Started GET "/customers" for 127.0.0.1 at 2023-07-02 22:11:41 +0100
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (0.8ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
  ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers]   [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
Started GET "/discounts" for 127.0.0.1 at 2023-07-02 22:11:41 +0100
Processing by DiscountsController#index as HTML
Started GET "/variant_groups" for 127.0.0.1 at 2023-07-02 22:11:41 +0100
Processing by VariantGroupsController#index as HTML
  [1m[36mVariantGroup Load (1.8ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups"[0m
  ↳ app/controllers/variant_groups_controller.rb:8:in `index'
  [1m[36mDiscount Load (1.7ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts"[0m
  ↳ app/controllers/discounts_controller.rb:9:in `index'
Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-02 22:11:41 +0100
Processing by CustomersController#logged_in as */*
Started GET "/products" for 127.0.0.1 at 2023-07-02 22:11:41 +0100
Processing by ProductsController#index as HTML
[active_model_serializers]   [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."discount_id" = $1[0m  [["discount_id", 3]]
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-02 22:11:41 +0100
Processing by BakersController#logged_in as */*
[active_model_serializers]   [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/discounts_controller.rb:9:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (14.93ms)
Completed 200 OK in 25ms (Views: 22.4ms | ActiveRecord: 2.7ms | Allocations: 1855)


[active_model_serializers]   ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCustomerAddress Load (1.2ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.11ms)
Completed 200 OK in 43ms (Views: 32.0ms | ActiveRecord: 10.3ms | Allocations: 7896)


[active_model_serializers]   [1m[36mVariantOption Load (0.5ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (58.1ms)
Completed 200 OK in 64ms (Views: 61.0ms | ActiveRecord: 2.9ms | Allocations: 13819)


[active_model_serializers]   [1m[36mStripeCustomer Load (6.0ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
  [1m[36mBaker Load (7.9ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers]   [1m[36mOrder Load (1.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers] Rendered BakerSerializer with ActiveModelSerializers::Adapter::Attributes (0.42ms)
Completed 201 Created in 58ms (Views: 4.0ms | ActiveRecord: 18.5ms | Allocations: 13048)


[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (102.54ms)
Completed 200 OK in 108ms (Views: 97.8ms | ActiveRecord: 9.8ms | Allocations: 21252)


  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.06ms)
Completed 201 Created in 101ms (Views: 0.9ms | ActiveRecord: 22.4ms | Allocations: 17616)


Started GET "/variant_groups" for 127.0.0.1 at 2023-07-02 22:11:41 +0100
Processing by VariantGroupsController#index as HTML
  [1m[36mVariantGroup Load (2.4ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups"[0m
  ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (1.2ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (10.94ms)
Completed 200 OK in 18ms (Views: 13.0ms | ActiveRecord: 4.5ms | Allocations: 2725)


Started GET "/bakery-portal/product-variants/babel/parser/lib/index.js" for 127.0.0.1 at 2023-07-02 22:13:13 +0100
  
ActionController::RoutingError (No route matches [GET] "/bakery-portal/product-variants/babel/parser/lib/index.js"):
  
Started GET "/bakery-portal/product-variants/babel/parser/lib/index.js" for 127.0.0.1 at 2023-07-02 22:34:56 +0100
  
ActionController::RoutingError (No route matches [GET] "/bakery-portal/product-variants/babel/parser/lib/index.js"):
  
Started GET "/bakery-portal/product-variants/babel/parser/lib/index.js" for 127.0.0.1 at 2023-07-02 22:34:56 +0100
  
ActionController::RoutingError (No route matches [GET] "/bakery-portal/product-variants/babel/parser/lib/index.js"):
  
Started GET "/bakery-portal/product-variants/babel/parser/lib/index.js" for 127.0.0.1 at 2023-07-02 22:34:56 +0100
  
ActionController::RoutingError (No route matches [GET] "/bakery-portal/product-variants/babel/parser/lib/index.js"):
  
Started GET "/bakery-portal/product-variants/babel/parser/lib/index.js" for 127.0.0.1 at 2023-07-02 22:34:57 +0100
  
ActionController::RoutingError (No route matches [GET] "/bakery-portal/product-variants/babel/parser/lib/index.js"):
  
Started GET "/bakery-portal/product-variants/babel/parser/lib/index.js" for 127.0.0.1 at 2023-07-02 22:34:57 +0100
  
ActionController::RoutingError (No route matches [GET] "/bakery-portal/product-variants/babel/parser/lib/index.js"):
  
Started GET "/bakery-portal/product-variants/babel/parser/lib/index.js" for 127.0.0.1 at 2023-07-02 22:34:57 +0100
  
ActionController::RoutingError (No route matches [GET] "/bakery-portal/product-variants/babel/parser/lib/index.js"):
  
Started GET "/bakery-portal/product-variants/babel/parser/lib/index.js" for 127.0.0.1 at 2023-07-02 22:34:57 +0100
  
ActionController::RoutingError (No route matches [GET] "/bakery-portal/product-variants/babel/parser/lib/index.js"):
  
Started GET "/bakery-portal/product-variants/babel/parser/lib/index.js" for 127.0.0.1 at 2023-07-02 22:34:57 +0100
  
ActionController::RoutingError (No route matches [GET] "/bakery-portal/product-variants/babel/parser/lib/index.js"):
  
Started GET "/bakery-portal/product-variants/babel/parser/lib/index.js" for 127.0.0.1 at 2023-07-02 22:36:25 +0100
  
ActionController::RoutingError (No route matches [GET] "/bakery-portal/product-variants/babel/parser/lib/index.js"):
  
Started GET "/bakery-portal/product-variants/babel/parser/lib/index.js" for 127.0.0.1 at 2023-07-02 22:36:25 +0100
  
ActionController::RoutingError (No route matches [GET] "/bakery-portal/product-variants/babel/parser/lib/index.js"):
  
Started GET "/bakery-portal/product-variants/babel/parser/lib/index.js" for 127.0.0.1 at 2023-07-02 22:36:25 +0100
  
ActionController::RoutingError (No route matches [GET] "/bakery-portal/product-variants/babel/parser/lib/index.js"):
  
Started GET "/bakery-portal/product-variants/babel/parser/lib/index.js" for 127.0.0.1 at 2023-07-02 22:36:25 +0100
  
ActionController::RoutingError (No route matches [GET] "/bakery-portal/product-variants/babel/parser/lib/index.js"):
  
Started GET "/bakery-portal/product-variants/babel/parser/lib/index.js" for 127.0.0.1 at 2023-07-02 22:36:25 +0100
  
ActionController::RoutingError (No route matches [GET] "/bakery-portal/product-variants/babel/parser/lib/index.js"):
  
Started GET "/bakery-portal/product-variants/babel/parser/lib/index.js" for 127.0.0.1 at 2023-07-02 22:36:25 +0100
  
ActionController::RoutingError (No route matches [GET] "/bakery-portal/product-variants/babel/parser/lib/index.js"):
  
Started GET "/bakery-portal/product-variants/babel/parser/lib/index.js" for 127.0.0.1 at 2023-07-02 22:36:25 +0100
  
ActionController::RoutingError (No route matches [GET] "/bakery-portal/product-variants/babel/parser/lib/index.js"):
  
Started GET "/bakery-portal/product-variants/babel/parser/lib/index.js" for 127.0.0.1 at 2023-07-02 22:36:26 +0100
  
ActionController::RoutingError (No route matches [GET] "/bakery-portal/product-variants/babel/parser/lib/index.js"):
  
Started GET "/bakery-portal/product-variants/babel/parser/lib/index.js" for 127.0.0.1 at 2023-07-02 22:36:26 +0100
  
ActionController::RoutingError (No route matches [GET] "/bakery-portal/product-variants/babel/parser/lib/index.js"):
  
Started GET "/bakery-portal/product-variants/babel/parser/lib/index.js" for 127.0.0.1 at 2023-07-02 22:36:26 +0100
  
ActionController::RoutingError (No route matches [GET] "/bakery-portal/product-variants/babel/parser/lib/index.js"):
  
Started GET "/bakery-portal/product-variants/babel/parser/lib/index.js" for 127.0.0.1 at 2023-07-02 22:36:26 +0100
  
ActionController::RoutingError (No route matches [GET] "/bakery-portal/product-variants/babel/parser/lib/index.js"):
  
Started GET "/bakery-portal/product-variants/babel/parser/lib/index.js" for 127.0.0.1 at 2023-07-02 22:36:26 +0100
  
ActionController::RoutingError (No route matches [GET] "/bakery-portal/product-variants/babel/parser/lib/index.js"):
  
Started GET "/bakery-portal/product-variants/babel/parser/lib/index.js" for 127.0.0.1 at 2023-07-02 22:36:26 +0100
  
ActionController::RoutingError (No route matches [GET] "/bakery-portal/product-variants/babel/parser/lib/index.js"):
  
Started GET "/bakery-portal/product-variants/babel/parser/lib/index.js" for 127.0.0.1 at 2023-07-02 22:36:26 +0100
  
ActionController::RoutingError (No route matches [GET] "/bakery-portal/product-variants/babel/parser/lib/index.js"):
  
Started GET "/bakery-portal/product-variants/babel/parser/lib/index.js" for 127.0.0.1 at 2023-07-02 22:36:26 +0100
  
ActionController::RoutingError (No route matches [GET] "/bakery-portal/product-variants/babel/parser/lib/index.js"):
  
Started GET "/bakery-portal/product-variants/babel/parser/lib/index.js" for 127.0.0.1 at 2023-07-02 22:36:26 +0100
  
ActionController::RoutingError (No route matches [GET] "/bakery-portal/product-variants/babel/parser/lib/index.js"):
  
Started GET "/bakery-portal/product-variants/babel/parser/lib/index.js" for 127.0.0.1 at 2023-07-02 22:36:26 +0100
  
ActionController::RoutingError (No route matches [GET] "/bakery-portal/product-variants/babel/parser/lib/index.js"):
  
Started GET "/bakery-portal/product-variants/babel/parser/lib/index.js" for 127.0.0.1 at 2023-07-02 22:36:26 +0100
  
ActionController::RoutingError (No route matches [GET] "/bakery-portal/product-variants/babel/parser/lib/index.js"):
  
Started GET "/bakery-portal/product-variants/babel/parser/lib/index.js" for 127.0.0.1 at 2023-07-02 22:36:35 +0100
  
ActionController::RoutingError (No route matches [GET] "/bakery-portal/product-variants/babel/parser/lib/index.js"):
  
Started GET "/products" for 127.0.0.1 at 2023-07-02 22:38:21 +0100
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.13ms)
Completed 200 OK in 20ms (Views: 19.3ms | ActiveRecord: 6.9ms | Allocations: 3657)


Started POST "/products" for 127.0.0.1 at 2023-07-02 22:39:19 +0100
Processing by ProductsController#create as HTML
  Parameters: {"name"=>"Theme Cakes", "price"=>0, "description"=>"", "discount_id"=>3, "variant_group_id"=>3, "active"=>true}
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:20:in `create'
  [1m[36mDiscount Load (0.4ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:20:in `create'
  [1m[36mVariantGroup Load (0.2ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:20:in `create'
  [1m[36mProduct Create (0.7ms)[0m  [1m[32mINSERT INTO "products" ("name", "price", "description", "discount_id", "variant_group_id", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Theme Cakes"], ["price", 0.0], ["description", ""], ["discount_id", 3], ["variant_group_id", 3], ["active", true], ["created_at", "2023-07-02 21:39:19.933122"], ["updated_at", "2023-07-02 21:39:19.933122"]]
  ↳ app/controllers/products_controller.rb:20:in `create'
  [1m[36mTRANSACTION (6.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:20:in `create'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 6]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:21:in `create'
[active_model_serializers] Rendered ProductSerializer with ActiveModelSerializers::Adapter::Attributes (13.37ms)
Completed 201 Created in 86ms (Views: 14.3ms | ActiveRecord: 22.4ms | Allocations: 16683)


Started GET "/products" for 127.0.0.1 at 2023-07-02 22:39:20 +0100
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (0.4ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.3ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 6]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.3ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (19.7ms)
Completed 200 OK in 43ms (Views: 34.5ms | ActiveRecord: 8.0ms | Allocations: 11399)


Started GET "/products" for 127.0.0.1 at 2023-07-02 22:39:22 +0100
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (2.5ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.7ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 6]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (3.4ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (29.32ms)
Completed 200 OK in 34ms (Views: 26.7ms | ActiveRecord: 7.2ms | Allocations: 4838)


Started POST "/product_images" for 127.0.0.1 at 2023-07-02 22:39:29 +0100
Processing by ProductImagesController#create as HTML
  Parameters: {"product_id"=>6, "image_url"=>"http://res.cloudinary.com/db7dgsxy2/image/upload/v1688333968/Oink_Oink_Product_Images/wetnybvwx2ctqo959xg2.jpg", "image_public_id"=>"Oink_Oink_Product_Images/wetnybvwx2ctqo959xg2"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/product_images_controller.rb:20:in `create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/product_images_controller.rb:20:in `create'
  [1m[36mProductImage Create (0.5ms)[0m  [1m[32mINSERT INTO "product_images" ("product_id", "image_url", "image_public_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 6], ["image_url", "http://res.cloudinary.com/db7dgsxy2/image/upload/v1688333968/Oink_Oink_Product_Images/wetnybvwx2ctqo959xg2.jpg"], ["image_public_id", "Oink_Oink_Product_Images/wetnybvwx2ctqo959xg2"], ["created_at", "2023-07-02 21:39:29.193442"], ["updated_at", "2023-07-02 21:39:29.193442"]]
  ↳ app/controllers/product_images_controller.rb:20:in `create'
  [1m[36mTRANSACTION (16.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/product_images_controller.rb:20:in `create'
[active_model_serializers] Rendered ProductImageSerializer with ActiveModelSerializers::Adapter::Attributes (4.84ms)
Completed 201 Created in 62ms (Views: 9.0ms | ActiveRecord: 27.6ms | Allocations: 13201)


Started POST "/products" for 127.0.0.1 at 2023-07-02 22:39:47 +0100
Processing by ProductsController#create as HTML
  Parameters: {"name"=>"Test", "price"=>1000, "description"=>"", "discount_id"=>3, "variant_group_id"=>3, "active"=>true}
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:20:in `create'
  [1m[36mDiscount Load (0.6ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:20:in `create'
  [1m[36mVariantGroup Load (0.7ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:20:in `create'
  [1m[36mProduct Create (1.8ms)[0m  [1m[32mINSERT INTO "products" ("name", "price", "description", "discount_id", "variant_group_id", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Test"], ["price", 1000.0], ["description", ""], ["discount_id", 3], ["variant_group_id", 3], ["active", true], ["created_at", "2023-07-02 21:39:47.986549"], ["updated_at", "2023-07-02 21:39:47.986549"]]
  ↳ app/controllers/products_controller.rb:20:in `create'
  [1m[36mTRANSACTION (6.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:20:in `create'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 7]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:21:in `create'
[active_model_serializers] Rendered ProductSerializer with ActiveModelSerializers::Adapter::Attributes (4.81ms)
Completed 201 Created in 39ms (Views: 5.4ms | ActiveRecord: 10.0ms | Allocations: 5673)


Started GET "/products" for 127.0.0.1 at 2023-07-02 22:39:48 +0100
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (0.4ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.3ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 6]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 7]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.2ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (45.71ms)
Completed 200 OK in 87ms (Views: 86.4ms | ActiveRecord: 20.6ms | Allocations: 24307)


Started GET "/products" for 127.0.0.1 at 2023-07-02 22:39:50 +0100
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (0.3ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.3ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (2.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 6]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.5ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 7]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.4ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (38.65ms)
Completed 200 OK in 43ms (Views: 37.8ms | ActiveRecord: 4.4ms | Allocations: 8794)


Started POST "/product_images" for 127.0.0.1 at 2023-07-02 22:39:50 +0100
Processing by ProductImagesController#create as HTML
  Parameters: {"product_id"=>7, "image_url"=>"http://res.cloudinary.com/db7dgsxy2/image/upload/v1688333989/Oink_Oink_Product_Images/rgzf5lgafx9ee5pdwflo.jpg", "image_public_id"=>"Oink_Oink_Product_Images/rgzf5lgafx9ee5pdwflo"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/product_images_controller.rb:20:in `create'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/product_images_controller.rb:20:in `create'
  [1m[36mProductImage Create (0.5ms)[0m  [1m[32mINSERT INTO "product_images" ("product_id", "image_url", "image_public_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 7], ["image_url", "http://res.cloudinary.com/db7dgsxy2/image/upload/v1688333989/Oink_Oink_Product_Images/rgzf5lgafx9ee5pdwflo.jpg"], ["image_public_id", "Oink_Oink_Product_Images/rgzf5lgafx9ee5pdwflo"], ["created_at", "2023-07-02 21:39:50.201200"], ["updated_at", "2023-07-02 21:39:50.201200"]]
  ↳ app/controllers/product_images_controller.rb:20:in `create'
  [1m[36mTRANSACTION (6.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/product_images_controller.rb:20:in `create'
[active_model_serializers] Rendered ProductImageSerializer with ActiveModelSerializers::Adapter::Attributes (0.6ms)
Completed 201 Created in 25ms (Views: 2.2ms | ActiveRecord: 9.4ms | Allocations: 5861)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-02 22:40:31 +0100
Processing by CustomersController#logged_in as */*
  [1m[36mCustomer Load (1.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.11ms)
Completed 201 Created in 8ms (Views: 1.1ms | ActiveRecord: 1.3ms | Allocations: 868)


Started GET "/products" for 127.0.0.1 at 2023-07-02 22:40:31 +0100
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-02 22:40:31 +0100
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (0.4ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Processing by BakersController#logged_in as */*
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.4ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
  [1m[36mBaker Load (0.3ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers]   [1m[36mProductImage Load (1.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 6]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered BakerSerializer with ActiveModelSerializers::Adapter::Attributes (0.41ms)
Completed 201 Created in 17ms (Views: 1.6ms | ActiveRecord: 4.0ms | Allocations: 4565)


[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.8ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 7]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (2.5ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (44.64ms)
Completed 200 OK in 53ms (Views: 42.9ms | ActiveRecord: 9.4ms | Allocations: 12893)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-02 22:41:01 +0100
Processing by CustomersController#logged_in as */*
  [1m[36mCustomer Load (0.7ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.14ms)
Completed 201 Created in 16ms (Views: 4.6ms | ActiveRecord: 0.7ms | Allocations: 862)


Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-02 22:41:01 +0100
Started GET "/products" for 127.0.0.1 at 2023-07-02 22:41:01 +0100
Processing by BakersController#logged_in as */*
Processing by ProductsController#index as HTML
  [1m[36mBaker Load (0.6ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered BakerSerializer with ActiveModelSerializers::Adapter::Attributes (0.42ms)
Completed 201 Created in 6ms (Views: 1.2ms | ActiveRecord: 0.6ms | Allocations: 840)


  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (0.4ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.4ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.8ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 6]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 7]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.3ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (29.78ms)
Completed 200 OK in 45ms (Views: 41.3ms | ActiveRecord: 2.8ms | Allocations: 8937)


Started GET "/babel/parser/lib/index.js" for 127.0.0.1 at 2023-07-02 22:45:46 +0100
  
ActionController::RoutingError (No route matches [GET] "/babel/parser/lib/index.js"):
  
Started GET "/babel/parser/lib/index.js" for 127.0.0.1 at 2023-07-02 22:46:13 +0100
  
ActionController::RoutingError (No route matches [GET] "/babel/parser/lib/index.js"):
  
Started GET "/babel/parser/lib/index.js" for 127.0.0.1 at 2023-07-02 22:46:13 +0100
  
ActionController::RoutingError (No route matches [GET] "/babel/parser/lib/index.js"):
  
Started GET "/babel/parser/lib/index.js" for 127.0.0.1 at 2023-07-02 22:46:14 +0100
  
ActionController::RoutingError (No route matches [GET] "/babel/parser/lib/index.js"):
  
Started GET "/babel/parser/lib/index.js" for 127.0.0.1 at 2023-07-02 22:46:14 +0100
  
ActionController::RoutingError (No route matches [GET] "/babel/parser/lib/index.js"):
  
Started GET "/babel/parser/lib/index.js" for 127.0.0.1 at 2023-07-02 22:46:14 +0100
  
ActionController::RoutingError (No route matches [GET] "/babel/parser/lib/index.js"):
  
Started GET "/babel/parser/lib/index.js" for 127.0.0.1 at 2023-07-02 22:46:14 +0100
  
ActionController::RoutingError (No route matches [GET] "/babel/parser/lib/index.js"):
  
Started GET "/babel/parser/lib/index.js" for 127.0.0.1 at 2023-07-02 22:46:14 +0100
  
ActionController::RoutingError (No route matches [GET] "/babel/parser/lib/index.js"):
  
Started GET "/babel/parser/lib/index.js" for 127.0.0.1 at 2023-07-02 22:46:14 +0100
  
ActionController::RoutingError (No route matches [GET] "/babel/parser/lib/index.js"):
  
Started GET "/products" for 127.0.0.1 at 2023-07-02 22:46:30 +0100
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-02 22:46:30 +0100
Processing by ProductsController#index as HTML
Processing by BakersController#logged_in as */*
Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-02 22:46:30 +0100
Processing by CustomersController#logged_in as */*
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
  [1m[36mBaker Load (0.3ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers]   [1m[36mDiscount Load (0.3ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers]   [1m[36mVariantGroup Load (0.4ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 6]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 7]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.09ms)
Completed 201 Created in 27ms (Views: 11.4ms | ActiveRecord: 5.4ms | Allocations: 5255)


[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.5ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered BakerSerializer with ActiveModelSerializers::Adapter::Attributes (0.46ms)
Completed 201 Created in 39ms (Views: 14.3ms | ActiveRecord: 9.6ms | Allocations: 7694)


[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (28.08ms)
Completed 200 OK in 43ms (Views: 42.8ms | ActiveRecord: 8.8ms | Allocations: 11743)


Started GET "/babel/parser/lib/index.js" for 127.0.0.1 at 2023-07-02 22:55:49 +0100
  
ActionController::RoutingError (No route matches [GET] "/babel/parser/lib/index.js"):
  
Started GET "/babel/parser/lib/index.js" for 127.0.0.1 at 2023-07-02 22:55:49 +0100
  
ActionController::RoutingError (No route matches [GET] "/babel/parser/lib/index.js"):
  
Started GET "/babel/parser/lib/index.js" for 127.0.0.1 at 2023-07-02 23:01:25 +0100
  
ActionController::RoutingError (No route matches [GET] "/babel/parser/lib/index.js"):
  
Started GET "/babel/parser/lib/index.js" for 127.0.0.1 at 2023-07-02 23:01:25 +0100
  
ActionController::RoutingError (No route matches [GET] "/babel/parser/lib/index.js"):
  
Started GET "/babel/parser/lib/index.js" for 127.0.0.1 at 2023-07-02 23:01:25 +0100
  
ActionController::RoutingError (No route matches [GET] "/babel/parser/lib/index.js"):
  
Started GET "/babel/parser/lib/index.js" for 127.0.0.1 at 2023-07-02 23:01:25 +0100
  
ActionController::RoutingError (No route matches [GET] "/babel/parser/lib/index.js"):
  
Started GET "/babel/parser/lib/index.js" for 127.0.0.1 at 2023-07-02 23:01:25 +0100
  
ActionController::RoutingError (No route matches [GET] "/babel/parser/lib/index.js"):
  
Started GET "/babel/parser/lib/index.js" for 127.0.0.1 at 2023-07-02 23:01:25 +0100
  
ActionController::RoutingError (No route matches [GET] "/babel/parser/lib/index.js"):
  
Started GET "/babel/parser/lib/index.js" for 127.0.0.1 at 2023-07-02 23:01:25 +0100
  
ActionController::RoutingError (No route matches [GET] "/babel/parser/lib/index.js"):
  
Started GET "/babel/parser/lib/index.js" for 127.0.0.1 at 2023-07-02 23:01:26 +0100
  
ActionController::RoutingError (No route matches [GET] "/babel/parser/lib/index.js"):
  
Started GET "/babel/parser/lib/index.js" for 127.0.0.1 at 2023-07-02 23:01:26 +0100
  
ActionController::RoutingError (No route matches [GET] "/babel/parser/lib/index.js"):
  
Started GET "/babel/parser/lib/index.js" for 127.0.0.1 at 2023-07-02 23:01:26 +0100
  
ActionController::RoutingError (No route matches [GET] "/babel/parser/lib/index.js"):
  
Started GET "/babel/parser/lib/index.js" for 127.0.0.1 at 2023-07-02 23:01:26 +0100
  
ActionController::RoutingError (No route matches [GET] "/babel/parser/lib/index.js"):
  
Started GET "/babel/parser/lib/index.js" for 127.0.0.1 at 2023-07-02 23:01:26 +0100
  
ActionController::RoutingError (No route matches [GET] "/babel/parser/lib/index.js"):
  
Started GET "/babel/parser/lib/index.js" for 127.0.0.1 at 2023-07-02 23:05:01 +0100
  
ActionController::RoutingError (No route matches [GET] "/babel/parser/lib/index.js"):
  
Started GET "/babel/parser/lib/index.js" for 127.0.0.1 at 2023-07-02 23:05:59 +0100
  
ActionController::RoutingError (No route matches [GET] "/babel/parser/lib/index.js"):
  
Started GET "/babel/parser/lib/index.js" for 127.0.0.1 at 2023-07-02 23:06:11 +0100
  
ActionController::RoutingError (No route matches [GET] "/babel/parser/lib/index.js"):
  
Started GET "/babel/parser/lib/index.js" for 127.0.0.1 at 2023-07-02 23:06:11 +0100
  
ActionController::RoutingError (No route matches [GET] "/babel/parser/lib/index.js"):
  
Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-02 23:07:28 +0100
Started GET "/products" for 127.0.0.1 at 2023-07-02 23:07:28 +0100
Processing by CustomersController#logged_in as */*
Processing by ProductsController#index as HTML
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-02 23:07:28 +0100
Processing by BakersController#logged_in as */*
  [1m[36mCustomer Load (4.1ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.05ms)
Completed 201 Created in 22ms (Views: 0.5ms | ActiveRecord: 9.8ms | Allocations: 3621)


  [1m[36mProduct Load (1.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
  [1m[36mBaker Load (1.8ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered BakerSerializer with ActiveModelSerializers::Adapter::Attributes (0.26ms)
Completed 201 Created in 24ms (Views: 0.7ms | ActiveRecord: 8.9ms | Allocations: 6622)


[active_model_serializers]   [1m[36mDiscount Load (0.6ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.9ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.5ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 6]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 7]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.5ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (38.7ms)
Completed 200 OK in 65ms (Views: 64.1ms | ActiveRecord: 13.5ms | Allocations: 16095)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-02 23:08:53 +0100
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-02 23:08:53 +0100
Processing by BakersController#logged_in as */*
Processing by CustomersController#logged_in as */*
Started GET "/products" for 127.0.0.1 at 2023-07-02 23:08:53 +0100
Processing by ProductsController#index as HTML
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.06ms)
  ↳ app/controllers/products_controller.rb:8:in `index'
Completed 201 Created in 6ms (Views: 0.5ms | ActiveRecord: 0.6ms | Allocations: 849)


[active_model_serializers]   [1m[36mDiscount Load (0.8ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.4ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
  [1m[36mBaker Load (1.1ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mProductImage Load (2.8ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 6]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered BakerSerializer with ActiveModelSerializers::Adapter::Attributes (0.31ms)
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
Completed 201 Created in 25ms (Views: 0.8ms | ActiveRecord: 14.2ms | Allocations: 3569)


[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 7]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.3ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (54.9ms)
Completed 200 OK in 59ms (Views: 53.5ms | ActiveRecord: 5.1ms | Allocations: 8937)


Started GET "/babel/parser/lib/index.js" for 127.0.0.1 at 2023-07-02 23:09:42 +0100
  
ActionController::RoutingError (No route matches [GET] "/babel/parser/lib/index.js"):
  
Started GET "/babel/parser/lib/index.js" for 127.0.0.1 at 2023-07-02 23:09:43 +0100
  
ActionController::RoutingError (No route matches [GET] "/babel/parser/lib/index.js"):
  
Started GET "/babel/parser/lib/index.js" for 127.0.0.1 at 2023-07-02 23:09:43 +0100
  
ActionController::RoutingError (No route matches [GET] "/babel/parser/lib/index.js"):
  
Started GET "/babel/parser/lib/index.js" for 127.0.0.1 at 2023-07-02 23:09:43 +0100
  
ActionController::RoutingError (No route matches [GET] "/babel/parser/lib/index.js"):
  
Started GET "/babel/parser/lib/index.js" for 127.0.0.1 at 2023-07-02 23:09:43 +0100
  
ActionController::RoutingError (No route matches [GET] "/babel/parser/lib/index.js"):
  
Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-02 23:09:48 +0100
Processing by CustomersController#logged_in as */*
Started GET "/products" for 127.0.0.1 at 2023-07-02 23:09:48 +0100
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-02 23:09:48 +0100
Processing by BakersController#logged_in as */*
[active_model_serializers]   [1m[36mDiscount Load (0.6ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers]   [1m[36mVariantGroup Load (0.6ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.13ms)
Completed 201 Created in 22ms (Views: 0.6ms | ActiveRecord: 0.4ms | Allocations: 863)


[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
  [1m[36mBaker Load (2.3ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers]   [1m[36mProductImage Load (1.1ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 6]]
[active_model_serializers] Rendered BakerSerializer with ActiveModelSerializers::Adapter::Attributes (0.58ms)
Completed 201 Created in 17ms (Views: 1.4ms | ActiveRecord: 2.3ms | Allocations: 841)


[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.5ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 7]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.4ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (53.16ms)
Completed 200 OK in 58ms (Views: 52.8ms | ActiveRecord: 5.1ms | Allocations: 9004)


Started GET "/babel/parser/lib/index.js" for 127.0.0.1 at 2023-07-02 23:10:30 +0100
  
ActionController::RoutingError (No route matches [GET] "/babel/parser/lib/index.js"):
  
Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-02 23:10:39 +0100
Processing by CustomersController#logged_in as */*
Started GET "/products" for 127.0.0.1 at 2023-07-02 23:10:39 +0100
Processing by ProductsController#index as HTML
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-02 23:10:39 +0100
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
Processing by BakersController#logged_in as */*
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.06ms)
Completed 201 Created in 4ms (Views: 0.5ms | ActiveRecord: 0.3ms | Allocations: 877)


  [1m[36mBaker Load (0.3ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered BakerSerializer with ActiveModelSerializers::Adapter::Attributes (0.34ms)
Completed 201 Created in 7ms (Views: 2.4ms | ActiveRecord: 0.3ms | Allocations: 844)


  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (0.4ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.4ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.5ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 6]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.5ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 7]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.6ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (42.02ms)
Completed 200 OK in 61ms (Views: 61.0ms | ActiveRecord: 9.0ms | Allocations: 11829)


Started GET "/babel/parser/lib/index.js" for 127.0.0.1 at 2023-07-02 23:11:44 +0100
  
ActionController::RoutingError (No route matches [GET] "/babel/parser/lib/index.js"):
  
Started GET "/babel/parser/lib/index.js" for 127.0.0.1 at 2023-07-02 23:11:44 +0100
  
ActionController::RoutingError (No route matches [GET] "/babel/parser/lib/index.js"):
  
Started GET "/babel/parser/lib/index.js" for 127.0.0.1 at 2023-07-02 23:13:55 +0100
  
ActionController::RoutingError (No route matches [GET] "/babel/parser/lib/index.js"):
  
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-02 23:16:14 +0100
Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-02 23:16:14 +0100
Processing by BakersController#logged_in as */*
Processing by CustomersController#logged_in as */*
Started GET "/products" for 127.0.0.1 at 2023-07-02 23:16:14 +0100
Processing by ProductsController#index as HTML
  [1m[36mBaker Load (0.3ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.09ms)
Completed 201 Created in 18ms (Views: 0.7ms | ActiveRecord: 6.9ms | Allocations: 3628)


[active_model_serializers] Rendered BakerSerializer with ActiveModelSerializers::Adapter::Attributes (1.31ms)
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
Completed 201 Created in 22ms (Views: 5.7ms | ActiveRecord: 0.3ms | Allocations: 852)


[active_model_serializers]   [1m[36mDiscount Load (0.4ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.5ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.5ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 6]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 7]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.4ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (34.26ms)
Completed 200 OK in 52ms (Views: 51.5ms | ActiveRecord: 9.5ms | Allocations: 11791)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-02 23:17:02 +0100
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-02 23:17:02 +0100
Processing by CustomersController#logged_in as */*
Processing by BakersController#logged_in as */*
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.06ms)
Completed 201 Created in 4ms (Views: 0.6ms | ActiveRecord: 0.4ms | Allocations: 866)


Started GET "/products" for 127.0.0.1 at 2023-07-02 23:17:02 +0100
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (1.9ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (0.4ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.6ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
  [1m[36mBaker Load (0.5ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered BakerSerializer with ActiveModelSerializers::Adapter::Attributes (0.38ms)
Completed 201 Created in 33ms (Views: 1.3ms | ActiveRecord: 8.2ms | Allocations: 3582)


[active_model_serializers]   [1m[36mProductImage Load (1.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 6]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.6ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 7]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (4.1ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (41.36ms)
Completed 200 OK in 52ms (Views: 42.4ms | ActiveRecord: 8.9ms | Allocations: 8983)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-02 23:17:37 +0100
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-02 23:17:37 +0100
Processing by BakersController#logged_in as */*
Processing by CustomersController#logged_in as */*
Started GET "/products" for 127.0.0.1 at 2023-07-02 23:17:37 +0100
  [1m[36mBaker Load (1.1ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered BakerSerializer with ActiveModelSerializers::Adapter::Attributes (0.35ms)
Completed 201 Created in 5ms (Views: 1.1ms | ActiveRecord: 1.1ms | Allocations: 1166)


  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
Processing by ProductsController#index as HTML
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.05ms)
Completed 201 Created in 8ms (Views: 1.1ms | ActiveRecord: 0.5ms | Allocations: 885)


  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (0.6ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.4ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (2.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 6]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.6ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 7]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.3ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (36.51ms)
Completed 200 OK in 44ms (Views: 39.0ms | ActiveRecord: 4.7ms | Allocations: 8938)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-02 23:18:19 +0100
Processing by CustomersController#logged_in as */*
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.08ms)
Completed 201 Created in 4ms (Views: 0.7ms | ActiveRecord: 0.6ms | Allocations: 986)


Started GET "/products" for 127.0.0.1 at 2023-07-02 23:18:19 +0100
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-02 23:18:19 +0100
Processing by ProductsController#index as HTML
Processing by BakersController#logged_in as */*
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  [1m[36mBaker Load (0.4ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered BakerSerializer with ActiveModelSerializers::Adapter::Attributes (0.32ms)
Completed 201 Created in 20ms (Views: 0.9ms | ActiveRecord: 7.4ms | Allocations: 3653)


  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (0.4ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.4ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 6]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.5ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 7]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.3ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (32.22ms)
Completed 200 OK in 59ms (Views: 55.3ms | ActiveRecord: 3.3ms | Allocations: 8938)


Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-02 23:18:44 +0100
Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-02 23:18:44 +0100
Started GET "/products" for 127.0.0.1 at 2023-07-02 23:18:44 +0100
Processing by BakersController#logged_in as */*
Processing by CustomersController#logged_in as */*
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  [1m[36mBaker Load (0.9ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:8:in `index'
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered BakerSerializer with ActiveModelSerializers::Adapter::Attributes (0.37ms)
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
Completed 201 Created in 5ms (Views: 1.0ms | ActiveRecord: 0.9ms | Allocations: 831)


[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.07ms)
Completed 201 Created in 6ms (Views: 0.5ms | ActiveRecord: 0.3ms | Allocations: 853)


[active_model_serializers]   [1m[36mDiscount Load (1.9ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.4ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 6]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.6ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 7]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.8ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (39.31ms)
Completed 200 OK in 46ms (Views: 40.3ms | ActiveRecord: 5.6ms | Allocations: 8937)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-02 23:19:14 +0100
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-02 23:19:14 +0100
Processing by BakersController#logged_in as */*
Processing by CustomersController#logged_in as */*
Started GET "/products" for 127.0.0.1 at 2023-07-02 23:19:14 +0100
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (3.9ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBaker Load (3.4ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
  [1m[36mCustomer Load (4.1ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered BakerSerializer with ActiveModelSerializers::Adapter::Attributes (0.36ms)
Completed 201 Created in 13ms (Views: 0.9ms | ActiveRecord: 3.4ms | Allocations: 838)


[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.12ms)
Completed 201 Created in 13ms (Views: 0.6ms | ActiveRecord: 4.1ms | Allocations: 881)


[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (2.2ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (2.1ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 6]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.7ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 7]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.5ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (71.05ms)
Completed 200 OK in 74ms (Views: 64.3ms | ActiveRecord: 9.8ms | Allocations: 8939)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-02 23:19:45 +0100
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-02 23:19:45 +0100
Processing by BakersController#logged_in as */*
Processing by CustomersController#logged_in as */*
Started GET "/products" for 127.0.0.1 at 2023-07-02 23:19:45 +0100
Processing by ProductsController#index as HTML
  [1m[36mBaker Load (0.4ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
  [1m[36mCustomer Load (3.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered BakerSerializer with ActiveModelSerializers::Adapter::Attributes (0.46ms)
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
Completed 201 Created in 11ms (Views: 1.2ms | ActiveRecord: 0.4ms | Allocations: 827)


[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.11ms)
Completed 201 Created in 11ms (Views: 0.7ms | ActiveRecord: 3.6ms | Allocations: 849)


  [1m[36mProduct Load (4.8ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (0.6ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.5ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.5ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 6]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (2.8ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 7]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.6ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (37.77ms)
Completed 200 OK in 49ms (Views: 38.8ms | ActiveRecord: 9.8ms | Allocations: 8983)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-02 23:22:37 +0100
Processing by CustomersController#logged_in as */*
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-02 23:22:37 +0100
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.06ms)
Completed 201 Created in 4ms (Views: 0.5ms | ActiveRecord: 0.3ms | Allocations: 859)


Processing by BakersController#logged_in as */*
Started GET "/products" for 127.0.0.1 at 2023-07-02 23:22:37 +0100
  [1m[36mBaker Load (0.5ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
Processing by ProductsController#index as HTML
[active_model_serializers] Rendered BakerSerializer with ActiveModelSerializers::Adapter::Attributes (0.55ms)
Completed 201 Created in 9ms (Views: 1.5ms | ActiveRecord: 0.5ms | Allocations: 837)


  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (0.6ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.5ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 6]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (2.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 7]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (1.7ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (40.47ms)
Completed 200 OK in 47ms (Views: 40.8ms | ActiveRecord: 5.8ms | Allocations: 8938)


Started GET "/babel/parser/lib/index.js" for 127.0.0.1 at 2023-07-02 23:23:54 +0100
  
ActionController::RoutingError (No route matches [GET] "/babel/parser/lib/index.js"):
  
Started GET "/babel/parser/lib/index.js" for 127.0.0.1 at 2023-07-02 23:23:54 +0100
  
ActionController::RoutingError (No route matches [GET] "/babel/parser/lib/index.js"):
  
Started GET "/babel/parser/lib/index.js" for 127.0.0.1 at 2023-07-02 23:23:54 +0100
  
ActionController::RoutingError (No route matches [GET] "/babel/parser/lib/index.js"):
  
Started GET "/babel/parser/lib/index.js" for 127.0.0.1 at 2023-07-02 23:23:54 +0100
  
ActionController::RoutingError (No route matches [GET] "/babel/parser/lib/index.js"):
  
Started GET "/babel/parser/lib/index.js" for 127.0.0.1 at 2023-07-02 23:23:54 +0100
  
ActionController::RoutingError (No route matches [GET] "/babel/parser/lib/index.js"):
  
Started GET "/babel/parser/lib/index.js" for 127.0.0.1 at 2023-07-02 23:23:54 +0100
  
ActionController::RoutingError (No route matches [GET] "/babel/parser/lib/index.js"):
  
Started GET "/babel/parser/lib/index.js" for 127.0.0.1 at 2023-07-02 23:23:54 +0100
  
ActionController::RoutingError (No route matches [GET] "/babel/parser/lib/index.js"):
  
Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-02 23:25:22 +0100
Processing by CustomersController#logged_in as */*
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Started GET "/products" for 127.0.0.1 at 2023-07-02 23:25:22 +0100
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
Processing by ProductsController#index as HTML
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-02 23:25:22 +0100
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.06ms)
Completed 201 Created in 4ms (Views: 0.5ms | ActiveRecord: 0.3ms | Allocations: 860)


Processing by BakersController#logged_in as */*
  [1m[36mBaker Load (1.0ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered BakerSerializer with ActiveModelSerializers::Adapter::Attributes (0.34ms)
Completed 201 Created in 4ms (Views: 1.0ms | ActiveRecord: 1.0ms | Allocations: 838)


  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (0.4ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.4ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 6]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.8ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 7]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.4ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.1ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (44.25ms)
Completed 200 OK in 60ms (Views: 60.0ms | ActiveRecord: 9.1ms | Allocations: 11782)


