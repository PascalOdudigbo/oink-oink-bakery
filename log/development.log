Started GET "/" for 127.0.0.1 at 2023-06-29 21:34:31 +0100
  
ActiveRecord::ConnectionNotEstablished (FATAL:  role "pascal" does not exist
):
  
activerecord (6.1.3.2) lib/active_record/connection_adapters/postgresql_adapter.rb:83:in `rescue in new_client'
activerecord (6.1.3.2) lib/active_record/connection_adapters/postgresql_adapter.rb:77:in `new_client'
activerecord (6.1.3.2) lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `postgresql_connection'
activerecord (6.1.3.2) lib/active_record/connection_adapters/abstract/connection_pool.rb:882:in `public_send'
activerecord (6.1.3.2) lib/active_record/connection_adapters/abstract/connection_pool.rb:882:in `new_connection'
activerecord (6.1.3.2) lib/active_record/connection_adapters/abstract/connection_pool.rb:926:in `checkout_new_connection'
activerecord (6.1.3.2) lib/active_record/connection_adapters/abstract/connection_pool.rb:905:in `try_to_checkout_new_connection'
activerecord (6.1.3.2) lib/active_record/connection_adapters/abstract/connection_pool.rb:866:in `acquire_connection'
activerecord (6.1.3.2) lib/active_record/connection_adapters/abstract/connection_pool.rb:588:in `checkout'
activerecord (6.1.3.2) lib/active_record/connection_adapters/abstract/connection_pool.rb:428:in `connection'
activerecord (6.1.3.2) lib/active_record/connection_adapters/abstract/connection_pool.rb:1128:in `retrieve_connection'
activerecord (6.1.3.2) lib/active_record/connection_handling.rb:327:in `retrieve_connection'
activerecord (6.1.3.2) lib/active_record/connection_handling.rb:283:in `connection'
activerecord (6.1.3.2) lib/active_record/migration.rb:611:in `connection'
activerecord (6.1.3.2) lib/active_record/migration.rb:606:in `build_watcher'
activerecord (6.1.3.2) lib/active_record/migration.rb:588:in `block in call'
activerecord (6.1.3.2) lib/active_record/migration.rb:587:in `synchronize'
activerecord (6.1.3.2) lib/active_record/migration.rb:587:in `call'
actionpack (6.1.3.2) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.1.3.2) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (6.1.3.2) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.1.3.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.1.3.2) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.1.3.2) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
actionpack (6.1.3.2) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.1.3.2) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.1.3.2) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.1.3.2) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (6.1.3.2) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (6.1.3.2) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (6.1.3.2) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.1.3.2) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.1.3.2) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.1.3.2) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.1.3.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.1.3.2) lib/action_dispatch/middleware/static.rb:24:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.1.3.2) lib/action_dispatch/middleware/host_authorization.rb:98:in `call'
railties (6.1.3.2) lib/rails/engine.rb:539:in `call'
puma (5.3.2) lib/puma/configuration.rb:249:in `call'
puma (5.3.2) lib/puma/request.rb:77:in `block in handle_request'
puma (5.3.2) lib/puma/thread_pool.rb:338:in `with_force_shutdown'
puma (5.3.2) lib/puma/request.rb:76:in `handle_request'
puma (5.3.2) lib/puma/server.rb:438:in `process_client'
puma (5.3.2) lib/puma/thread_pool.rb:145:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2023-06-29 23:39:54 +0100
  
ActiveRecord::NoDatabaseError (FATAL:  database "react_rails_api_project_template_development" does not exist
):
  
activerecord (6.1.7.4) lib/active_record/connection_adapters/postgresql_adapter.rb:81:in `rescue in new_client'
activerecord (6.1.7.4) lib/active_record/connection_adapters/postgresql_adapter.rb:77:in `new_client'
activerecord (6.1.7.4) lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `postgresql_connection'
activerecord (6.1.7.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:882:in `public_send'
activerecord (6.1.7.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:882:in `new_connection'
activerecord (6.1.7.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:926:in `checkout_new_connection'
activerecord (6.1.7.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:905:in `try_to_checkout_new_connection'
activerecord (6.1.7.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:866:in `acquire_connection'
activerecord (6.1.7.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:588:in `checkout'
activerecord (6.1.7.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:428:in `connection'
activerecord (6.1.7.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:1128:in `retrieve_connection'
activerecord (6.1.7.4) lib/active_record/connection_handling.rb:327:in `retrieve_connection'
activerecord (6.1.7.4) lib/active_record/connection_handling.rb:283:in `connection'
activerecord (6.1.7.4) lib/active_record/migration.rb:611:in `connection'
activerecord (6.1.7.4) lib/active_record/migration.rb:606:in `build_watcher'
activerecord (6.1.7.4) lib/active_record/migration.rb:588:in `block in call'
activerecord (6.1.7.4) lib/active_record/migration.rb:587:in `synchronize'
activerecord (6.1.7.4) lib/active_record/migration.rb:587:in `call'
actionpack (6.1.7.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.1.7.4) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (6.1.7.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.1.7.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.1.7.4) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.1.7.4) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
actionpack (6.1.7.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.1.7.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.1.7.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.1.7.4) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (6.1.7.4) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (6.1.7.4) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (6.1.7.4) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.1.7.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.1.7.4) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.1.7.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.1.7.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.1.7.4) lib/action_dispatch/middleware/static.rb:24:in `call'
rack (2.2.7) lib/rack/sendfile.rb:110:in `call'
actionpack (6.1.7.4) lib/action_dispatch/middleware/host_authorization.rb:148:in `call'
railties (6.1.7.4) lib/rails/engine.rb:539:in `call'
puma (5.6.6) lib/puma/configuration.rb:252:in `call'
puma (5.6.6) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.6) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.6) lib/puma/request.rb:76:in `handle_request'
puma (5.6.6) lib/puma/server.rb:443:in `process_client'
puma (5.6.6) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/favicon.ico" for 127.0.0.1 at 2023-06-29 23:39:54 +0100
  
ActiveRecord::NoDatabaseError (FATAL:  database "react_rails_api_project_template_development" does not exist
):
  
activerecord (6.1.7.4) lib/active_record/connection_adapters/postgresql_adapter.rb:81:in `rescue in new_client'
activerecord (6.1.7.4) lib/active_record/connection_adapters/postgresql_adapter.rb:77:in `new_client'
activerecord (6.1.7.4) lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `postgresql_connection'
activerecord (6.1.7.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:882:in `public_send'
activerecord (6.1.7.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:882:in `new_connection'
activerecord (6.1.7.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:926:in `checkout_new_connection'
activerecord (6.1.7.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:905:in `try_to_checkout_new_connection'
activerecord (6.1.7.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:866:in `acquire_connection'
activerecord (6.1.7.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:588:in `checkout'
activerecord (6.1.7.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:428:in `connection'
activerecord (6.1.7.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:1128:in `retrieve_connection'
activerecord (6.1.7.4) lib/active_record/connection_handling.rb:327:in `retrieve_connection'
activerecord (6.1.7.4) lib/active_record/connection_handling.rb:283:in `connection'
activerecord (6.1.7.4) lib/active_record/migration.rb:611:in `connection'
activerecord (6.1.7.4) lib/active_record/migration.rb:606:in `build_watcher'
activerecord (6.1.7.4) lib/active_record/migration.rb:588:in `block in call'
activerecord (6.1.7.4) lib/active_record/migration.rb:587:in `synchronize'
activerecord (6.1.7.4) lib/active_record/migration.rb:587:in `call'
actionpack (6.1.7.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.1.7.4) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (6.1.7.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.1.7.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.1.7.4) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.1.7.4) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
actionpack (6.1.7.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.1.7.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.1.7.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.1.7.4) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (6.1.7.4) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (6.1.7.4) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (6.1.7.4) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.1.7.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.1.7.4) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.1.7.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.1.7.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.1.7.4) lib/action_dispatch/middleware/static.rb:24:in `call'
rack (2.2.7) lib/rack/sendfile.rb:110:in `call'
actionpack (6.1.7.4) lib/action_dispatch/middleware/host_authorization.rb:148:in `call'
railties (6.1.7.4) lib/rails/engine.rb:539:in `call'
puma (5.6.6) lib/puma/configuration.rb:252:in `call'
puma (5.6.6) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.6) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.6) lib/puma/request.rb:76:in `handle_request'
puma (5.6.6) lib/puma/server.rb:443:in `process_client'
puma (5.6.6) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/products" for 127.0.0.1 at 2023-06-29 23:40:50 +0100
  
ActiveRecord::NoDatabaseError (FATAL:  database "react_rails_api_project_template_development" does not exist
):
  
activerecord (6.1.7.4) lib/active_record/connection_adapters/postgresql_adapter.rb:81:in `rescue in new_client'
activerecord (6.1.7.4) lib/active_record/connection_adapters/postgresql_adapter.rb:77:in `new_client'
activerecord (6.1.7.4) lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `postgresql_connection'
activerecord (6.1.7.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:882:in `public_send'
activerecord (6.1.7.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:882:in `new_connection'
activerecord (6.1.7.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:926:in `checkout_new_connection'
activerecord (6.1.7.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:905:in `try_to_checkout_new_connection'
activerecord (6.1.7.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:866:in `acquire_connection'
activerecord (6.1.7.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:588:in `checkout'
activerecord (6.1.7.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:428:in `connection'
activerecord (6.1.7.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:1128:in `retrieve_connection'
activerecord (6.1.7.4) lib/active_record/connection_handling.rb:327:in `retrieve_connection'
activerecord (6.1.7.4) lib/active_record/connection_handling.rb:283:in `connection'
activerecord (6.1.7.4) lib/active_record/migration.rb:611:in `connection'
activerecord (6.1.7.4) lib/active_record/migration.rb:606:in `build_watcher'
activerecord (6.1.7.4) lib/active_record/migration.rb:588:in `block in call'
activerecord (6.1.7.4) lib/active_record/migration.rb:587:in `synchronize'
activerecord (6.1.7.4) lib/active_record/migration.rb:587:in `call'
actionpack (6.1.7.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.1.7.4) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (6.1.7.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.1.7.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.1.7.4) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.1.7.4) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
actionpack (6.1.7.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.1.7.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.1.7.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.1.7.4) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (6.1.7.4) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (6.1.7.4) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (6.1.7.4) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.1.7.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.1.7.4) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.1.7.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.1.7.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.1.7.4) lib/action_dispatch/middleware/static.rb:24:in `call'
rack (2.2.7) lib/rack/sendfile.rb:110:in `call'
actionpack (6.1.7.4) lib/action_dispatch/middleware/host_authorization.rb:148:in `call'
railties (6.1.7.4) lib/rails/engine.rb:539:in `call'
puma (5.6.6) lib/puma/configuration.rb:252:in `call'
puma (5.6.6) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.6) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.6) lib/puma/request.rb:76:in `handle_request'
puma (5.6.6) lib/puma/server.rb:443:in `process_client'
puma (5.6.6) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
  [1m[35m (0.4ms)[0m  [1m[35mCREATE DATABASE "react_rails_api_project_template_development" ENCODING = 'unicode'[0m
  [1m[35m (49.5ms)[0m  [1m[35mCREATE DATABASE "react_rails_api_project_template_development" ENCODING = 'unicode'[0m
  [1m[35m (40.3ms)[0m  [1m[35mCREATE DATABASE "react_rails_api_project_template_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.2ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "bakers" CASCADE[0m
  [1m[35m (4.5ms)[0m  [1m[35mCREATE TABLE "bakers" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "carts" CASCADE[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "carts" ("id" bigserial primary key, "customer_id" bigint NOT NULL, "total" float, "active" boolean, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_carts_on_customer_id" ON "carts" ("customer_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "customer_addresses" CASCADE[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE TABLE "customer_addresses" ("id" bigserial primary key, "customer_id" bigint NOT NULL, "phone" character varying, "address" character varying, "aditional_information" character varying, "region" character varying, "city" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_customer_addresses_on_customer_id" ON "customer_addresses" ("customer_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "customers" CASCADE[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE TABLE "customers" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "verified" boolean, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "discounts" CASCADE[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE TABLE "discounts" ("id" bigserial primary key, "name" character varying, "description" character varying, "discount_percent" float, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "line_items" CASCADE[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" bigserial primary key, "cart_id" bigint NOT NULL, "product_id" bigint NOT NULL, "quantity" integer, "variant_option_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "color" character varying, "cake_text" character varying, "price" float)[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE INDEX "index_line_items_on_variant_option_id" ON "line_items" ("variant_option_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "orders" CASCADE[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE TABLE "orders" ("id" bigserial primary key, "cart_id" bigint NOT NULL, "payment_method" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "status" character varying, "customer_id" bigint NOT NULL, "customer_address_id" bigint NOT NULL)[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_orders_on_cart_id" ON "orders" ("cart_id")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_orders_on_customer_address_id" ON "orders" ("customer_address_id")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_orders_on_customer_id" ON "orders" ("customer_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "payments" CASCADE[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE TABLE "payments" ("id" bigserial primary key, "order_id" bigint NOT NULL, "payment_stripe_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_payments_on_order_id" ON "payments" ("order_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "product_images" CASCADE[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE TABLE "product_images" ("id" bigserial primary key, "product_id" bigint NOT NULL, "image_url" character varying, "image_public_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_product_images_on_product_id" ON "product_images" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "products" CASCADE[0m
  [1m[35m (4.2ms)[0m  [1m[35mCREATE TABLE "products" ("id" bigserial primary key, "name" character varying, "price" float, "description" character varying, "discount_id" bigint, "variant_group_id" bigint, "active" boolean, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE INDEX "index_products_on_discount_id" ON "products" ("discount_id")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_products_on_variant_group_id" ON "products" ("variant_group_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "project_videos" CASCADE[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE TABLE "project_videos" ("id" bigserial primary key, "project_id" bigint NOT NULL, "video_title" character varying, "video_url" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_project_videos_on_project_id" ON "project_videos" ("project_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "projects" CASCADE[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE TABLE "projects" ("id" bigserial primary key, "artist_id" bigint NOT NULL, "title" character varying, "project_url" character varying, "cover_art" character varying, "cover_art_public_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_projects_on_artist_id" ON "projects" ("artist_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "reviews" CASCADE[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE TABLE "reviews" ("id" bigserial primary key, "product_id" bigint NOT NULL, "customer_id" bigint NOT NULL, "review" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_reviews_on_customer_id" ON "reviews" ("customer_id")[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE INDEX "index_reviews_on_product_id" ON "reviews" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "stripe_customers" CASCADE[0m
  [1m[35m (3.8ms)[0m  [1m[35mCREATE TABLE "stripe_customers" ("id" bigserial primary key, "customer_id" bigint NOT NULL, "stripe_customer_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE INDEX "index_stripe_customers_on_customer_id" ON "stripe_customers" ("customer_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "variant_groups" CASCADE[0m
  [1m[35m (3.5ms)[0m  [1m[35mCREATE TABLE "variant_groups" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "variant_options" CASCADE[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE TABLE "variant_options" ("id" bigserial primary key, "variant_group_id" bigint NOT NULL, "name" character varying, "price" float, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE INDEX "index_variant_options_on_variant_group_id" ON "variant_options" ("variant_group_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "artists_profiles" ADD CONSTRAINT "fk_rails_4bf08b9ecd"
FOREIGN KEY ("artist_id")
  REFERENCES "artists" ("id")
[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE DATABASE "react_rails_api_project_template_development" ENCODING = 'unicode'[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE DATABASE "react_rails_api_project_template_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.2ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (1.9ms)[0m  [1m[35mDROP TABLE IF EXISTS "bakers" CASCADE[0m
  [1m[35m (3.4ms)[0m  [1m[35mCREATE TABLE "bakers" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "carts" CASCADE[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "carts" ("id" bigserial primary key, "customer_id" bigint NOT NULL, "total" float, "active" boolean, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE INDEX "index_carts_on_customer_id" ON "carts" ("customer_id")[0m
  [1m[35m (1.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "customer_addresses" CASCADE[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE TABLE "customer_addresses" ("id" bigserial primary key, "customer_id" bigint NOT NULL, "phone" character varying, "address" character varying, "aditional_information" character varying, "region" character varying, "city" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_customer_addresses_on_customer_id" ON "customer_addresses" ("customer_id")[0m
  [1m[35m (1.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "customers" CASCADE[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE TABLE "customers" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "verified" boolean, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "discounts" CASCADE[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE TABLE "discounts" ("id" bigserial primary key, "name" character varying, "description" character varying, "discount_percent" float, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "line_items" CASCADE[0m
  [1m[35m (4.5ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" bigserial primary key, "cart_id" bigint NOT NULL, "product_id" bigint NOT NULL, "quantity" integer, "variant_option_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "color" character varying, "cake_text" character varying, "price" float)[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE INDEX "index_line_items_on_variant_option_id" ON "line_items" ("variant_option_id")[0m
  [1m[35m (1.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "orders" CASCADE[0m
  [1m[35m (4.3ms)[0m  [1m[35mCREATE TABLE "orders" ("id" bigserial primary key, "cart_id" bigint NOT NULL, "payment_method" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "status" character varying, "customer_id" bigint NOT NULL, "customer_address_id" bigint NOT NULL)[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE INDEX "index_orders_on_cart_id" ON "orders" ("cart_id")[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE INDEX "index_orders_on_customer_address_id" ON "orders" ("customer_address_id")[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE INDEX "index_orders_on_customer_id" ON "orders" ("customer_id")[0m
  [1m[35m (1.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "payments" CASCADE[0m
  [1m[35m (4.3ms)[0m  [1m[35mCREATE TABLE "payments" ("id" bigserial primary key, "order_id" bigint NOT NULL, "payment_stripe_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE INDEX "index_payments_on_order_id" ON "payments" ("order_id")[0m
  [1m[35m (1.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "product_images" CASCADE[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE TABLE "product_images" ("id" bigserial primary key, "product_id" bigint NOT NULL, "image_url" character varying, "image_public_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_product_images_on_product_id" ON "product_images" ("product_id")[0m
  [1m[35m (1.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "products" CASCADE[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE TABLE "products" ("id" bigserial primary key, "name" character varying, "price" float, "description" character varying, "discount_id" bigint, "variant_group_id" bigint, "active" boolean, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE INDEX "index_products_on_discount_id" ON "products" ("discount_id")[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE INDEX "index_products_on_variant_group_id" ON "products" ("variant_group_id")[0m
  [1m[35m (3.8ms)[0m  [1m[35mDROP TABLE IF EXISTS "project_videos" CASCADE[0m
  [1m[35m (6.2ms)[0m  [1m[35mCREATE TABLE "project_videos" ("id" bigserial primary key, "project_id" bigint NOT NULL, "video_title" character varying, "video_url" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE INDEX "index_project_videos_on_project_id" ON "project_videos" ("project_id")[0m
  [1m[35m (2.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "projects" CASCADE[0m
  [1m[35m (4.1ms)[0m  [1m[35mCREATE TABLE "projects" ("id" bigserial primary key, "artist_id" bigint NOT NULL, "title" character varying, "project_url" character varying, "cover_art" character varying, "cover_art_public_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE INDEX "index_projects_on_artist_id" ON "projects" ("artist_id")[0m
  [1m[35m (1.7ms)[0m  [1m[35mDROP TABLE IF EXISTS "reviews" CASCADE[0m
  [1m[35m (3.4ms)[0m  [1m[35mCREATE TABLE "reviews" ("id" bigserial primary key, "product_id" bigint NOT NULL, "customer_id" bigint NOT NULL, "review" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE INDEX "index_reviews_on_customer_id" ON "reviews" ("customer_id")[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE INDEX "index_reviews_on_product_id" ON "reviews" ("product_id")[0m
  [1m[35m (1.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "stripe_customers" CASCADE[0m
  [1m[35m (4.5ms)[0m  [1m[35mCREATE TABLE "stripe_customers" ("id" bigserial primary key, "customer_id" bigint NOT NULL, "stripe_customer_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE INDEX "index_stripe_customers_on_customer_id" ON "stripe_customers" ("customer_id")[0m
  [1m[35m (1.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "variant_groups" CASCADE[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "variant_groups" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "variant_options" CASCADE[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE TABLE "variant_options" ("id" bigserial primary key, "variant_group_id" bigint NOT NULL, "name" character varying, "price" float, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_variant_options_on_variant_group_id" ON "variant_options" ("variant_group_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "artists_profiles" ADD CONSTRAINT "fk_rails_4bf08b9ecd"
FOREIGN KEY ("artist_id")
  REFERENCES "artists" ("id")
[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1087325618115650655)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateBakers (20230123201400)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "bakers" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(1087325618115650655)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE DATABASE "react_rails_api_project_template_development" ENCODING = 'unicode'[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE DATABASE "react_rails_api_project_template_test" ENCODING = 'unicode'[0m
Started GET "/products" for 127.0.0.1 at 2023-06-29 23:55:13 +0100
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate RAILS_ENV=development

You have 20 pending migrations:

20230123201400_create_bakers.rb
20230123201653_create_discounts.rb
20230123202100_create_variant_groups.rb
20230123202101_create_products.rb
20230123202332_create_product_images.rb
20230124142704_create_customers.rb
20230124142942_create_reviews.rb
20230124143526_create_carts.rb
20230207174048_create_variant_options.rb
20230207174816_create_line_items.rb
20230523154736_add_color_to_line_items.rb
20230523154914_add_cake_text_to_line_items.rb
20230523155844_add_price_to_line_items.rb
20230606125852_create_customer_addresses.rb
20230610162616_create_orders.rb
20230610162759_create_stripe_customers.rb
20230610163214_create_payments.rb
20230625154910_add_status_to_orders.rb
20230625154953_add_customer_reference_to_orders.rb
20230625155045_add_customer_address_reference_to_orders.rb


):
  
activerecord (6.1.7.4) lib/active_record/migration.rb:625:in `check_pending!'
activerecord (6.1.7.4) lib/active_record/migration.rb:590:in `block (2 levels) in call'
activesupport (6.1.7.4) lib/active_support/evented_file_update_checker.rb:59:in `execute'
activerecord (6.1.7.4) lib/active_record/migration.rb:595:in `block in call'
activerecord (6.1.7.4) lib/active_record/migration.rb:587:in `synchronize'
activerecord (6.1.7.4) lib/active_record/migration.rb:587:in `call'
actionpack (6.1.7.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.1.7.4) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (6.1.7.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.1.7.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.1.7.4) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.1.7.4) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
actionpack (6.1.7.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.1.7.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.1.7.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.1.7.4) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (6.1.7.4) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (6.1.7.4) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (6.1.7.4) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.1.7.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.1.7.4) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.1.7.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.1.7.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.1.7.4) lib/action_dispatch/middleware/static.rb:24:in `call'
rack (2.2.7) lib/rack/sendfile.rb:110:in `call'
actionpack (6.1.7.4) lib/action_dispatch/middleware/host_authorization.rb:148:in `call'
railties (6.1.7.4) lib/rails/engine.rb:539:in `call'
puma (5.6.6) lib/puma/configuration.rb:252:in `call'
puma (5.6.6) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.6) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.6) lib/puma/request.rb:76:in `handle_request'
puma (5.6.6) lib/puma/server.rb:443:in `process_client'
puma (5.6.6) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1087325618115650655)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateBakers (20230123201400)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "bakers" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(1087325618115650655)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1087325618115650655)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateBakers (20230123201400)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "bakers" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT pg_advisory_unlock(1087325618115650655)[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE DATABASE "react_rails_api_project_template_development" ENCODING = 'unicode'[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE DATABASE "react_rails_api_project_template_test" ENCODING = 'unicode'[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35mSQL (0.2ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (18.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "bakers" CASCADE[0m
  [1m[35m (9.6ms)[0m  [1m[35mCREATE TABLE "bakers" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (3.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "carts" CASCADE[0m
  [1m[35m (5.6ms)[0m  [1m[35mCREATE TABLE "carts" ("id" bigserial primary key, "customer_id" bigint NOT NULL, "total" float, "active" boolean, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE INDEX "index_carts_on_customer_id" ON "carts" ("customer_id")[0m
  [1m[35m (4.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "customer_addresses" CASCADE[0m
  [1m[35m (9.0ms)[0m  [1m[35mCREATE TABLE "customer_addresses" ("id" bigserial primary key, "customer_id" bigint NOT NULL, "phone" character varying, "address" character varying, "aditional_information" character varying, "region" character varying, "city" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE INDEX "index_customer_addresses_on_customer_id" ON "customer_addresses" ("customer_id")[0m
  [1m[35m (3.9ms)[0m  [1m[35mDROP TABLE IF EXISTS "customers" CASCADE[0m
  [1m[35m (9.1ms)[0m  [1m[35mCREATE TABLE "customers" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "verified" boolean, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (3.9ms)[0m  [1m[35mDROP TABLE IF EXISTS "discounts" CASCADE[0m
  [1m[35m (9.1ms)[0m  [1m[35mCREATE TABLE "discounts" ("id" bigserial primary key, "name" character varying, "description" character varying, "discount_percent" float, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (5.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "line_items" CASCADE[0m
  [1m[35m (8.2ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" bigserial primary key, "cart_id" bigint NOT NULL, "product_id" bigint NOT NULL, "quantity" integer, "variant_option_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "color" character varying, "cake_text" character varying, "price" float)[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE INDEX "index_line_items_on_variant_option_id" ON "line_items" ("variant_option_id")[0m
  [1m[35m (5.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "orders" CASCADE[0m
  [1m[35m (8.0ms)[0m  [1m[35mCREATE TABLE "orders" ("id" bigserial primary key, "cart_id" bigint NOT NULL, "payment_method" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "status" character varying, "customer_id" bigint NOT NULL, "customer_address_id" bigint NOT NULL)[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE INDEX "index_orders_on_cart_id" ON "orders" ("cart_id")[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE INDEX "index_orders_on_customer_address_id" ON "orders" ("customer_address_id")[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE INDEX "index_orders_on_customer_id" ON "orders" ("customer_id")[0m
  [1m[35m (4.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "payments" CASCADE[0m
  [1m[35m (7.8ms)[0m  [1m[35mCREATE TABLE "payments" ("id" bigserial primary key, "order_id" bigint NOT NULL, "payment_stripe_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE INDEX "index_payments_on_order_id" ON "payments" ("order_id")[0m
  [1m[35m (4.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "product_images" CASCADE[0m
  [1m[35m (7.8ms)[0m  [1m[35mCREATE TABLE "product_images" ("id" bigserial primary key, "product_id" bigint NOT NULL, "image_url" character varying, "image_public_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE INDEX "index_product_images_on_product_id" ON "product_images" ("product_id")[0m
  [1m[35m (4.6ms)[0m  [1m[35mDROP TABLE IF EXISTS "products" CASCADE[0m
  [1m[35m (8.4ms)[0m  [1m[35mCREATE TABLE "products" ("id" bigserial primary key, "name" character varying, "price" float, "description" character varying, "discount_id" bigint, "variant_group_id" bigint, "active" boolean, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE INDEX "index_products_on_discount_id" ON "products" ("discount_id")[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE INDEX "index_products_on_variant_group_id" ON "products" ("variant_group_id")[0m
  [1m[35m (4.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "project_videos" CASCADE[0m
  [1m[35m (5.6ms)[0m  [1m[35mCREATE TABLE "project_videos" ("id" bigserial primary key, "project_id" bigint NOT NULL, "video_title" character varying, "video_url" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE INDEX "index_project_videos_on_project_id" ON "project_videos" ("project_id")[0m
  [1m[35m (1.9ms)[0m  [1m[35mDROP TABLE IF EXISTS "projects" CASCADE[0m
  [1m[35m (4.0ms)[0m  [1m[35mCREATE TABLE "projects" ("id" bigserial primary key, "artist_id" bigint NOT NULL, "title" character varying, "project_url" character varying, "cover_art" character varying, "cover_art_public_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE INDEX "index_projects_on_artist_id" ON "projects" ("artist_id")[0m
  [1m[35m (1.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "reviews" CASCADE[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE TABLE "reviews" ("id" bigserial primary key, "product_id" bigint NOT NULL, "customer_id" bigint NOT NULL, "review" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_reviews_on_customer_id" ON "reviews" ("customer_id")[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_reviews_on_product_id" ON "reviews" ("product_id")[0m
  [1m[35m (1.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "stripe_customers" CASCADE[0m
  [1m[35m (3.6ms)[0m  [1m[35mCREATE TABLE "stripe_customers" ("id" bigserial primary key, "customer_id" bigint NOT NULL, "stripe_customer_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_stripe_customers_on_customer_id" ON "stripe_customers" ("customer_id")[0m
  [1m[35m (1.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "variant_groups" CASCADE[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE TABLE "variant_groups" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "variant_options" CASCADE[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE TABLE "variant_options" ("id" bigserial primary key, "variant_group_id" bigint NOT NULL, "name" character varying, "price" float, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_variant_options_on_variant_group_id" ON "variant_options" ("variant_group_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "artists_profiles" ADD CONSTRAINT "fk_rails_4bf08b9ecd"
FOREIGN KEY ("artist_id")
  REFERENCES "artists" ("id")
[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (5018.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "react_rails_api_project_template_development"[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (17.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "react_rails_api_project_template_development"[0m
  [1m[35m (13.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "react_rails_api_project_template_test"[0m
  [1m[35m (41.8ms)[0m  [1m[35mCREATE DATABASE "react_rails_api_project_template_development" ENCODING = 'unicode'[0m
  [1m[35m (41.7ms)[0m  [1m[35mCREATE DATABASE "react_rails_api_project_template_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.2ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "bakers" CASCADE[0m
  [1m[35m (7.5ms)[0m  [1m[35mCREATE TABLE "bakers" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "carts" CASCADE[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "carts" ("id" bigserial primary key, "customer_id" bigint NOT NULL, "total" float, "active" boolean, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE INDEX "index_carts_on_customer_id" ON "carts" ("customer_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "customer_addresses" CASCADE[0m
  [1m[35m (3.7ms)[0m  [1m[35mCREATE TABLE "customer_addresses" ("id" bigserial primary key, "customer_id" bigint NOT NULL, "phone" character varying, "address" character varying, "aditional_information" character varying, "region" character varying, "city" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE INDEX "index_customer_addresses_on_customer_id" ON "customer_addresses" ("customer_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "customers" CASCADE[0m
  [1m[35m (4.7ms)[0m  [1m[35mCREATE TABLE "customers" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "verified" boolean, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "discounts" CASCADE[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE TABLE "discounts" ("id" bigserial primary key, "name" character varying, "description" character varying, "discount_percent" float, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "line_items" CASCADE[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" bigserial primary key, "cart_id" bigint NOT NULL, "product_id" bigint NOT NULL, "quantity" integer, "variant_option_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "color" character varying, "cake_text" character varying, "price" float)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE INDEX "index_line_items_on_variant_option_id" ON "line_items" ("variant_option_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "orders" CASCADE[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE TABLE "orders" ("id" bigserial primary key, "cart_id" bigint NOT NULL, "payment_method" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "status" character varying, "customer_id" bigint NOT NULL, "customer_address_id" bigint NOT NULL)[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_orders_on_cart_id" ON "orders" ("cart_id")[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE INDEX "index_orders_on_customer_address_id" ON "orders" ("customer_address_id")[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE INDEX "index_orders_on_customer_id" ON "orders" ("customer_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "payments" CASCADE[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE TABLE "payments" ("id" bigserial primary key, "order_id" bigint NOT NULL, "payment_stripe_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE INDEX "index_payments_on_order_id" ON "payments" ("order_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "product_images" CASCADE[0m
  [1m[35m (3.8ms)[0m  [1m[35mCREATE TABLE "product_images" ("id" bigserial primary key, "product_id" bigint NOT NULL, "image_url" character varying, "image_public_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE INDEX "index_product_images_on_product_id" ON "product_images" ("product_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "products" CASCADE[0m
  [1m[35m (3.5ms)[0m  [1m[35mCREATE TABLE "products" ("id" bigserial primary key, "name" character varying, "price" float, "description" character varying, "discount_id" bigint, "variant_group_id" bigint, "active" boolean, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_products_on_discount_id" ON "products" ("discount_id")[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_products_on_variant_group_id" ON "products" ("variant_group_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "project_videos" CASCADE[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE TABLE "project_videos" ("id" bigserial primary key, "project_id" bigint NOT NULL, "video_title" character varying, "video_url" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_project_videos_on_project_id" ON "project_videos" ("project_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "projects" CASCADE[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE TABLE "projects" ("id" bigserial primary key, "artist_id" bigint NOT NULL, "title" character varying, "project_url" character varying, "cover_art" character varying, "cover_art_public_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_projects_on_artist_id" ON "projects" ("artist_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "reviews" CASCADE[0m
  [1m[35m (3.8ms)[0m  [1m[35mCREATE TABLE "reviews" ("id" bigserial primary key, "product_id" bigint NOT NULL, "customer_id" bigint NOT NULL, "review" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE INDEX "index_reviews_on_customer_id" ON "reviews" ("customer_id")[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE INDEX "index_reviews_on_product_id" ON "reviews" ("product_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "stripe_customers" CASCADE[0m
  [1m[35m (3.7ms)[0m  [1m[35mCREATE TABLE "stripe_customers" ("id" bigserial primary key, "customer_id" bigint NOT NULL, "stripe_customer_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE INDEX "index_stripe_customers_on_customer_id" ON "stripe_customers" ("customer_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "variant_groups" CASCADE[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "variant_groups" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "variant_options" CASCADE[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE TABLE "variant_options" ("id" bigserial primary key, "variant_group_id" bigint NOT NULL, "name" character varying, "price" float, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_variant_options_on_variant_group_id" ON "variant_options" ("variant_group_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "artists_profiles" ADD CONSTRAINT "fk_rails_4bf08b9ecd"
FOREIGN KEY ("artist_id")
  REFERENCES "artists" ("id")
[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1087325618115650655)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateBakers (20230123201400)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "bakers" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(1087325618115650655)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (51.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "react_rails_api_project_template_development"[0m
  [1m[35m (14.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "react_rails_api_project_template_test"[0m
  [1m[35m (48.3ms)[0m  [1m[35mCREATE DATABASE "react_rails_api_project_template_development" ENCODING = 'unicode'[0m
  [1m[35m (43.8ms)[0m  [1m[35mCREATE DATABASE "react_rails_api_project_template_test" ENCODING = 'unicode'[0m
  [1m[35m (9.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (4.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1087325618115650655)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateBakers (20230123201400)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.0ms)[0m  [1m[35mCREATE TABLE "bakers" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230123201400"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateDiscounts (20230123201653)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE TABLE "discounts" ("id" bigserial primary key, "name" character varying, "description" character varying, "discount_percent" float, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230123201653"]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateVariantGroups (20230123202100)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.5ms)[0m  [1m[35mCREATE TABLE "variant_groups" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230123202100"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateProducts (20230123202101)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (6.2ms)[0m  [1m[35mCREATE TABLE "products" ("id" bigserial primary key, "name" character varying, "price" float, "description" character varying, "discount_id" bigint, "variant_group_id" bigint, "active" boolean, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_794aad2cea"
FOREIGN KEY ("discount_id")
  REFERENCES "discounts" ("id")
, CONSTRAINT "fk_rails_a0fe450737"
FOREIGN KEY ("variant_group_id")
  REFERENCES "variant_groups" ("id")
)[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_products_on_discount_id" ON "products" ("discount_id")[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE INDEX "index_products_on_variant_group_id" ON "products" ("variant_group_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230123202101"]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateProductImages (20230123202332)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.8ms)[0m  [1m[35mCREATE TABLE "product_images" ("id" bigserial primary key, "product_id" bigint NOT NULL, "image_url" character varying, "image_public_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_1c991d3be6"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE INDEX "index_product_images_on_product_id" ON "product_images" ("product_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230123202332"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCustomers (20230124142704)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE TABLE "customers" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "verified" boolean, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230124142704"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateReviews (20230124142942)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.8ms)[0m  [1m[35mCREATE TABLE "reviews" ("id" bigserial primary key, "product_id" bigint NOT NULL, "customer_id" bigint NOT NULL, "review" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_bedd9094d4"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
, CONSTRAINT "fk_rails_74e2428a18"
FOREIGN KEY ("customer_id")
  REFERENCES "customers" ("id")
)[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_reviews_on_product_id" ON "reviews" ("product_id")[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_reviews_on_customer_id" ON "reviews" ("customer_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230124142942"]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCarts (20230124143526)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE TABLE "carts" ("id" bigserial primary key, "customer_id" bigint NOT NULL, "total" float, "active" boolean, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_e02ab95379"
FOREIGN KEY ("customer_id")
  REFERENCES "customers" ("id")
)[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_carts_on_customer_id" ON "carts" ("customer_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230124143526"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateVariantOptions (20230207174048)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.4ms)[0m  [1m[35mCREATE TABLE "variant_options" ("id" bigserial primary key, "variant_group_id" bigint NOT NULL, "name" character varying, "price" float, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_543345bd81"
FOREIGN KEY ("variant_group_id")
  REFERENCES "variant_groups" ("id")
)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_variant_options_on_variant_group_id" ON "variant_options" ("variant_group_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230207174048"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateLineItems (20230207174816)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" bigserial primary key, "cart_id" bigint NOT NULL, "product_id" bigint NOT NULL, "quantity" integer, "variant_option_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_af645e8e5f"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
, CONSTRAINT "fk_rails_11e15d5c6b"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
, CONSTRAINT "fk_rails_f4554af19c"
FOREIGN KEY ("variant_option_id")
  REFERENCES "variant_options" ("id")
)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE INDEX "index_line_items_on_variant_option_id" ON "line_items" ("variant_option_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230207174816"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddColorToLineItems (20230523154736)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.4ms)[0m  [1m[35mALTER TABLE "line_items" ADD "color" character varying[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230523154736"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddCakeTextToLineItems (20230523154914)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "line_items" ADD "cake_text" character varying[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230523154914"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddPriceToLineItems (20230523155844)
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "line_items" ADD "price" float[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230523155844"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCustomerAddresses (20230606125852)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (6.2ms)[0m  [1m[35mCREATE TABLE "customer_addresses" ("id" bigserial primary key, "customer_id" bigint NOT NULL, "phone" character varying, "address" character varying, "aditional_information" character varying, "region" character varying, "city" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_79041ef784"
FOREIGN KEY ("customer_id")
  REFERENCES "customers" ("id")
)[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE INDEX "index_customer_addresses_on_customer_id" ON "customer_addresses" ("customer_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230606125852"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateOrders (20230610162616)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.3ms)[0m  [1m[35mCREATE TABLE "orders" ("id" bigserial primary key, "cart_id" bigint NOT NULL, "payment_method" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_5cdf0e0ad4"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
)[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE INDEX "index_orders_on_cart_id" ON "orders" ("cart_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230610162616"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateStripeCustomers (20230610162759)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (7.6ms)[0m  [1m[35mCREATE TABLE "stripe_customers" ("id" bigserial primary key, "customer_id" bigint NOT NULL, "stripe_customer_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_1d9a17c961"
FOREIGN KEY ("customer_id")
  REFERENCES "customers" ("id")
)[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_stripe_customers_on_customer_id" ON "stripe_customers" ("customer_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230610162759"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePayments (20230610163214)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE TABLE "payments" ("id" bigserial primary key, "order_id" bigint NOT NULL, "payment_stripe_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_6af949464b"
FOREIGN KEY ("order_id")
  REFERENCES "orders" ("id")
)[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE INDEX "index_payments_on_order_id" ON "payments" ("order_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230610163214"]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddStatusToOrders (20230625154910)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.7ms)[0m  [1m[35mALTER TABLE "orders" ADD "status" character varying[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230625154910"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddCustomerReferenceToOrders (20230625154953)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "orders" ADD "customer_id" bigint NOT NULL[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE INDEX "index_orders_on_customer_id" ON "orders" ("customer_id")[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "orders" ADD CONSTRAINT "fk_rails_3dad120da9"
FOREIGN KEY ("customer_id")
  REFERENCES "customers" ("id")
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230625154953"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddCustomerAddressReferenceToOrders (20230625155045)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "orders" ADD "customer_address_id" bigint NOT NULL[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE INDEX "index_orders_on_customer_address_id" ON "orders" ("customer_address_id")[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "orders" ADD CONSTRAINT "fk_rails_2d0f1279d3"
FOREIGN KEY ("customer_address_id")
  REFERENCES "customer_addresses" ("id")
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230625155045"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-06-29 23:06:44.368511"], ["updated_at", "2023-06-29 23:06:44.368511"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(1087325618115650655)[0m
  [1m[35m (2.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mBaker Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "bakers" WHERE "bakers"."email" = $1 LIMIT $2[0m  [["email", "jaynasimiyu@gmail.com"], ["LIMIT", 1]]
  [1m[36mBaker Create (0.6ms)[0m  [1m[32mINSERT INTO "bakers" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Ashley"], ["last_name", "Simiyu"], ["email", "jaynasimiyu@gmail.com"], ["password_digest", "$2a$12$lfk0xD2CNylsF1UAh1gx7OpPpRtfFGW4qF85wZCbPzvSIcK5HBE8."], ["created_at", "2023-06-29 23:06:44.738868"], ["updated_at", "2023-06-29 23:06:44.738868"]]
  [1m[36mTRANSACTION (4.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDiscount Create (1.0ms)[0m  [1m[32mINSERT INTO "discounts" ("name", "description", "discount_percent", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "No discount"], ["description", "The product has no discount"], ["discount_percent", 0.0], ["created_at", "2023-06-29 23:06:44.754907"], ["updated_at", "2023-06-29 23:06:44.754907"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mVariantGroup Create (0.6ms)[0m  [1m[32mINSERT INTO "variant_groups" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "No variant group"], ["created_at", "2023-06-29 23:06:44.772304"], ["updated_at", "2023-06-29 23:06:44.772304"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
Started GET "/products" for 127.0.0.1 at 2023-06-30 00:07:24 +0100
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as */*
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.49ms)
Completed 200 OK in 25ms (Views: 7.9ms | ActiveRecord: 0.5ms | Allocations: 7563)


Started GET "/" for 127.0.0.1 at 2023-06-30 00:07:33 +0100
Processing by Rails::WelcomeController#index as */*
  Rendering /usr/share/rvm/gems/ruby-2.7.4/gems/railties-6.1.7.4/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /usr/share/rvm/gems/ruby-2.7.4/gems/railties-6.1.7.4/lib/rails/templates/rails/welcome/index.html.erb (Duration: 7.5ms | Allocations: 297)
Completed 200 OK in 19ms (Views: 10.2ms | ActiveRecord: 0.0ms | Allocations: 2761)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-06-30 00:09:17 +0100
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-06-30 00:09:17 +0100
Started GET "/products" for 127.0.0.1 at 2023-06-30 00:09:17 +0100
Processing by ProductsController#index as HTML
Processing by BakersController#logged_in as */*
Processing by CustomersController#logged_in as */*
  [1m[36mProduct Load (3.7ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.18ms)
Completed 200 OK in 46ms (Views: 41.4ms | ActiveRecord: 3.7ms | Allocations: 8218)


  [1m[36mBaker Load (0.3ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.08ms)
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
Completed 201 Created in 74ms (Views: 3.2ms | ActiveRecord: 16.0ms | Allocations: 13489)


[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.07ms)
Completed 201 Created in 65ms (Views: 1.9ms | ActiveRecord: 14.8ms | Allocations: 12748)


Started GET "/baker-logged-in" for 127.0.0.1 at 2023-06-30 00:15:32 +0100
Processing by BakersController#logged_in as */*
Started GET "/customer-logged-in" for 127.0.0.1 at 2023-06-30 00:15:32 +0100
Processing by CustomersController#logged_in as */*
Started GET "/products" for 127.0.0.1 at 2023-06-30 00:15:32 +0100
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (1.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.14ms)
Completed 201 Created in 22ms (Views: 2.4ms | ActiveRecord: 7.7ms | Allocations: 6564)


[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.46ms)
Completed 200 OK in 29ms (Views: 29.0ms | ActiveRecord: 13.5ms | Allocations: 8168)


  [1m[36mBaker Load (0.4ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.07ms)
Completed 201 Created in 40ms (Views: 0.8ms | ActiveRecord: 11.1ms | Allocations: 11615)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-06-30 00:15:45 +0100
Processing by CustomersController#logged_in as */*
Started GET "/products" for 127.0.0.1 at 2023-06-30 00:15:45 +0100
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.16ms)
Completed 200 OK in 9ms (Views: 8.1ms | ActiveRecord: 0.2ms | Allocations: 930)


  [1m[36mCustomer Load (4.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.06ms)
Completed 201 Created in 22ms (Views: 0.7ms | ActiveRecord: 4.3ms | Allocations: 2501)


Started GET "/baker-logged-in" for 127.0.0.1 at 2023-06-30 00:15:45 +0100
Processing by BakersController#logged_in as */*
  [1m[36mBaker Load (0.3ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.06ms)
Completed 201 Created in 3ms (Views: 0.6ms | ActiveRecord: 0.3ms | Allocations: 771)


Started POST "/baker-login" for 127.0.0.1 at 2023-06-30 00:16:09 +0100
Processing by BakersController#login as HTML
  Parameters: {"password"=>"[FILTERED]"}
  [1m[36mBaker Load (0.3ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:6:in `login'
[active_model_serializers] Rendered BakerSerializer with ActiveModelSerializers::Adapter::Attributes (0.29ms)
Completed 201 Created in 229ms (Views: 9.5ms | ActiveRecord: 5.2ms | Allocations: 5672)


Started GET "/customers" for 127.0.0.1 at 2023-06-30 00:16:10 +0100
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
  ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.1ms)
Completed 200 OK in 5ms (Views: 3.8ms | ActiveRecord: 0.4ms | Allocations: 742)


Started GET "/variant_groups" for 127.0.0.1 at 2023-06-30 00:16:10 +0100
Processing by VariantGroupsController#index as HTML
Started GET "/discounts" for 127.0.0.1 at 2023-06-30 00:16:10 +0100
  [1m[36mVariantGroup Load (4.5ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups"[0m
  ↳ app/controllers/variant_groups_controller.rb:8:in `index'
Processing by DiscountsController#index as HTML
  [1m[36mDiscount Load (10.6ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts"[0m
  ↳ app/controllers/discounts_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mProduct Load (1.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."variant_group_id" = $1[0m  [["variant_group_id", 1]]
[active_model_serializers]   ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."discount_id" = $1[0m  [["discount_id", 1]]
[active_model_serializers]   ↳ app/controllers/discounts_controller.rb:9:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (22.25ms)
Completed 200 OK in 77ms (Views: 42.3ms | ActiveRecord: 31.8ms | Allocations: 15641)


[active_model_serializers]   [1m[36mVariantOption Load (0.5ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 1]]
[active_model_serializers]   ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (54.1ms)
Completed 200 OK in 100ms (Views: 66.4ms | ActiveRecord: 30.0ms | Allocations: 20317)


Started GET "/variant_groups" for 127.0.0.1 at 2023-06-30 00:16:22 +0100
Processing by VariantGroupsController#index as HTML
  [1m[36mVariantGroup Load (0.3ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups"[0m
  ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."variant_group_id" = $1[0m  [["variant_group_id", 1]]
[active_model_serializers]   ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.4ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 1]]
[active_model_serializers]   ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (7.76ms)
Completed 200 OK in 11ms (Views: 9.4ms | ActiveRecord: 1.0ms | Allocations: 2719)


Started GET "/discounts" for 127.0.0.1 at 2023-06-30 00:16:32 +0100
Processing by DiscountsController#index as HTML
  [1m[36mDiscount Load (0.6ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts"[0m
  ↳ app/controllers/discounts_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."discount_id" = $1[0m  [["discount_id", 1]]
[active_model_serializers]   ↳ app/controllers/discounts_controller.rb:9:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (3.94ms)
Completed 200 OK in 8ms (Views: 7.3ms | ActiveRecord: 0.9ms | Allocations: 1802)


Started DELETE "/baker-logout" for 127.0.0.1 at 2023-06-30 08:41:24 +0100
Processing by BakersController#logout as */*
Completed 204 No Content in 3ms (ActiveRecord: 0.0ms | Allocations: 188)


Started GET "/products" for 127.0.0.1 at 2023-06-30 09:19:47 +0100
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as */*
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.25ms)
Completed 200 OK in 28ms (Views: 6.6ms | ActiveRecord: 0.9ms | Allocations: 6661)


Started GET "/products" for 127.0.0.1 at 2023-06-30 09:19:58 +0100
Processing by ProductsController#index as */*
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.21ms)
Completed 200 OK in 5ms (Views: 3.3ms | ActiveRecord: 1.0ms | Allocations: 867)


  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (7.3ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "bakers" DISABLE TRIGGER ALL;ALTER TABLE "product_images" DISABLE TRIGGER ALL;ALTER TABLE "discounts" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "variant_groups" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "reviews" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "variant_options" DISABLE TRIGGER ALL;ALTER TABLE "line_items" DISABLE TRIGGER ALL;ALTER TABLE "customer_addresses" DISABLE TRIGGER ALL;ALTER TABLE "stripe_customers" DISABLE TRIGGER ALL;ALTER TABLE "payments" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (43.2ms)[0m  [1m[35mTRUNCATE TABLE "bakers", "product_images", "discounts", "products", "variant_groups", "customers", "reviews", "carts", "variant_options", "line_items", "customer_addresses", "stripe_customers", "payments", "orders"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "bakers" ENABLE TRIGGER ALL;ALTER TABLE "reviews" ENABLE TRIGGER ALL;ALTER TABLE "variant_options" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "line_items" ENABLE TRIGGER ALL;ALTER TABLE "product_images" ENABLE TRIGGER ALL;ALTER TABLE "discounts" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "variant_groups" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "customer_addresses" ENABLE TRIGGER ALL;ALTER TABLE "stripe_customers" ENABLE TRIGGER ALL;ALTER TABLE "payments" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mBaker Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "bakers" WHERE "bakers"."email" = $1 LIMIT $2[0m  [["email", "jaynasimiyu@gmail.com"], ["LIMIT", 1]]
  [1m[36mBaker Create (0.4ms)[0m  [1m[32mINSERT INTO "bakers" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Ashley"], ["last_name", "Simiyu"], ["email", "jaynasimiyu@gmail.com"], ["password_digest", "$2a$12$PJPD3sp/zIwZWSDMHHI0JeNiXQjWIJy0w.CVC0.iN6Bgks8GZmDXK"], ["created_at", "2023-06-30 14:54:49.863501"], ["updated_at", "2023-06-30 14:54:49.863501"]]
  [1m[36mTRANSACTION (6.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDiscount Create (0.5ms)[0m  [1m[32mINSERT INTO "discounts" ("name", "description", "discount_percent", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "No discount"], ["description", "The product has no discount"], ["discount_percent", 0.0], ["created_at", "2023-06-30 14:54:49.890468"], ["updated_at", "2023-06-30 14:54:49.890468"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mVariantGroup Create (0.5ms)[0m  [1m[32mINSERT INTO "variant_groups" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "No variant group"], ["created_at", "2023-06-30 14:54:49.902410"], ["updated_at", "2023-06-30 14:54:49.902410"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
Started GET "/bakers" for 127.0.0.1 at 2023-06-30 15:55:41 +0100
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by BakersController#index as */*
  [1m[36mBaker Load (1.2ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers"[0m
  ↳ app/controllers/bakers_controller.rb:42:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.74ms)
Completed 200 OK in 37ms (Views: 19.6ms | ActiveRecord: 9.1ms | Allocations: 8334)


Started POST "/customers" for 127.0.0.1 at 2023-06-30 15:56:34 +0100
Processing by CustomersController#create as HTML
  Parameters: {"first_name"=>"Pascal", "last_name"=>"Odudigbo", "email"=>"odudigbopascal@gmail.com", "verified"=>false, "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/customers_controller.rb:61:in `create'
  [1m[36mCustomer Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "customers" WHERE "customers"."email" = $1 LIMIT $2[0m  [["email", "odudigbopascal@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:61:in `create'
  [1m[36mCustomer Create (0.5ms)[0m  [1m[32mINSERT INTO "customers" ("first_name", "last_name", "email", "verified", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Pascal"], ["last_name", "Odudigbo"], ["email", "odudigbopascal@gmail.com"], ["verified", false], ["password_digest", "$2a$12$t1t68oRS..5KvzUFjxj59.lejn5Pukd5LfK4JskwStsdIUHEY5Mr6"], ["created_at", "2023-06-30 14:56:34.987205"], ["updated_at", "2023-06-30 14:56:34.987205"]]
  ↳ app/controllers/customers_controller.rb:61:in `create'
  [1m[36mTRANSACTION (6.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/customers_controller.rb:61:in `create'
[active_model_serializers]   [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:62:in `create'
[active_model_serializers]   [1m[36mCustomerAddress Load (0.5ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:62:in `create'
[active_model_serializers]   [1m[36mStripeCustomer Load (0.9ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 1], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:62:in `create'
[active_model_serializers]   [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:62:in `create'
[active_model_serializers] Rendered CustomerSerializer with ActiveModelSerializers::Adapter::Attributes (91.88ms)
Completed 201 Created in 343ms (Views: 82.9ms | ActiveRecord: 27.8ms | Allocations: 24174)


Started GET "/customers" for 127.0.0.1 at 2023-06-30 15:57:22 +0100
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by CustomersController#index as */*
  [1m[36mCustomer Load (0.9ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
  ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers]   [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers]   [1m[36mCustomerAddress Load (0.3ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers]   [1m[36mStripeCustomer Load (0.4ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 1], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers]   [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (58.75ms)
Completed 200 OK in 101ms (Views: 65.2ms | ActiveRecord: 18.6ms | Allocations: 25117)


  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "bakers" DISABLE TRIGGER ALL;ALTER TABLE "reviews" DISABLE TRIGGER ALL;ALTER TABLE "variant_options" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "line_items" DISABLE TRIGGER ALL;ALTER TABLE "product_images" DISABLE TRIGGER ALL;ALTER TABLE "discounts" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "variant_groups" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "customer_addresses" DISABLE TRIGGER ALL;ALTER TABLE "stripe_customers" DISABLE TRIGGER ALL;ALTER TABLE "payments" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (99.5ms)[0m  [1m[35mTRUNCATE TABLE "bakers", "reviews", "variant_options", "carts", "line_items", "product_images", "discounts", "products", "variant_groups", "customers", "customer_addresses", "stripe_customers", "payments", "orders"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "bakers" ENABLE TRIGGER ALL;ALTER TABLE "reviews" ENABLE TRIGGER ALL;ALTER TABLE "variant_options" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "line_items" ENABLE TRIGGER ALL;ALTER TABLE "product_images" ENABLE TRIGGER ALL;ALTER TABLE "discounts" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "variant_groups" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "customer_addresses" ENABLE TRIGGER ALL;ALTER TABLE "stripe_customers" ENABLE TRIGGER ALL;ALTER TABLE "payments" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mBaker Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "bakers" WHERE "bakers"."email" = $1 LIMIT $2[0m  [["email", "jaynasimiyu@gmail.com"], ["LIMIT", 1]]
  [1m[36mBaker Create (0.4ms)[0m  [1m[32mINSERT INTO "bakers" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Ashley"], ["last_name", "Simiyu"], ["email", "jaynasimiyu@gmail.com"], ["password_digest", "$2a$12$6sWj0A.TgWtxA110urdsheeegEiHgeKsgeQsuYd3DjDCM0AezeYKW"], ["created_at", "2023-06-30 14:57:53.257295"], ["updated_at", "2023-06-30 14:57:53.257295"]]
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDiscount Create (0.4ms)[0m  [1m[32mINSERT INTO "discounts" ("name", "description", "discount_percent", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "No discount"], ["description", "The product has no discount"], ["discount_percent", 0.0], ["created_at", "2023-06-30 14:57:53.268853"], ["updated_at", "2023-06-30 14:57:53.268853"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mVariantGroup Create (0.4ms)[0m  [1m[32mINSERT INTO "variant_groups" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "No variant group"], ["created_at", "2023-06-30 14:57:53.276994"], ["updated_at", "2023-06-30 14:57:53.276994"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
Started GET "/customers" for 127.0.0.1 at 2023-06-30 15:57:59 +0100
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by CustomersController#index as */*
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
  ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.3ms)
Completed 200 OK in 19ms (Views: 6.1ms | ActiveRecord: 0.6ms | Allocations: 7574)


  [1m[35m (0.8ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1087325618115650655)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(1087325618115650655)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mBaker Load (0.4ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" /* loading for inspect */ LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mBaker Load (1.1ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers"[0m
Started POST "/customers" for 127.0.0.1 at 2023-06-30 16:09:07 +0100
Processing by CustomersController#create as */*
  Parameters: {"first_name"=>"Pascal", "last_name"=>"Odudigbo", "email"=>"odudigbopascal@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "verified"=>true}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/customers_controller.rb:61:in `create'
  [1m[36mCustomer Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "customers" WHERE "customers"."email" = $1 LIMIT $2[0m  [["email", "odudigbopascal@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:61:in `create'
  [1m[36mCustomer Create (0.5ms)[0m  [1m[32mINSERT INTO "customers" ("first_name", "last_name", "email", "verified", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Pascal"], ["last_name", "Odudigbo"], ["email", "odudigbopascal@gmail.com"], ["verified", true], ["password_digest", "$2a$12$Lmi5W3MjcWCQ0.UEVKyQSu39ZsP4cAnCwq3gyU9XpRNMRHPVBeJeu"], ["created_at", "2023-06-30 15:09:08.079475"], ["updated_at", "2023-06-30 15:09:08.079475"]]
  ↳ app/controllers/customers_controller.rb:61:in `create'
  [1m[36mTRANSACTION (5.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/customers_controller.rb:61:in `create'
[active_model_serializers]   [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:62:in `create'
[active_model_serializers]   [1m[36mCustomerAddress Load (0.6ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:62:in `create'
[active_model_serializers]   [1m[36mStripeCustomer Load (0.7ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:62:in `create'
[active_model_serializers]   [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:62:in `create'
[active_model_serializers] Rendered CustomerSerializer with ActiveModelSerializers::Adapter::Attributes (30.02ms)
Completed 201 Created in 273ms (Views: 30.2ms | ActiveRecord: 13.4ms | Allocations: 21078)


  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mBaker Load (0.4ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers"[0m
  [1m[36mDiscount Load (0.4ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts"[0m
  [1m[36mVariantGroup Load (0.4ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups"[0m
Started GET "/customers" for 127.0.0.1 at 2023-06-30 16:10:54 +0100
Processing by CustomersController#index as */*
  Parameters: {"first_name"=>"Pascal", "last_name"=>"Odudigbo", "email"=>"odudigbopascal@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "verified"=>true}
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
  ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers]   [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers]   [1m[36mCustomerAddress Load (0.4ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers]   [1m[36mStripeCustomer Load (0.7ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers]   [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (16.35ms)
Completed 200 OK in 20ms (Views: 17.2ms | ActiveRecord: 2.0ms | Allocations: 4608)


Started GET "/customers" for 127.0.0.1 at 2023-06-30 16:10:56 +0100
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by CustomersController#index as */*
  Parameters: {"first_name"=>"Pascal", "last_name"=>"Odudigbo", "email"=>"odudigbopascal@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "verified"=>true}
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
  ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers]   [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers]   [1m[36mCustomerAddress Load (0.6ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers]   [1m[36mStripeCustomer Load (0.4ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers]   [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (46.18ms)
Completed 200 OK in 77ms (Views: 49.0ms | ActiveRecord: 14.4ms | Allocations: 25109)


Started GET "/discounts" for 127.0.0.1 at 2023-06-30 16:11:16 +0100
Processing by DiscountsController#index as */*
  Parameters: {"first_name"=>"Pascal", "last_name"=>"Odudigbo", "email"=>"odudigbopascal@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "verified"=>true}
  [1m[36mDiscount Load (0.6ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts"[0m
  ↳ app/controllers/discounts_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."discount_id" = $1[0m  [["discount_id", 3]]
[active_model_serializers]   ↳ app/controllers/discounts_controller.rb:9:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (16.21ms)
Completed 200 OK in 60ms (Views: 55.4ms | ActiveRecord: 18.3ms | Allocations: 11198)


Started POST "/customer-login" for 127.0.0.1 at 2023-06-30 16:12:24 +0100
Processing by CustomersController#login as HTML
  Parameters: {"password"=>"[FILTERED]"}
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:6:in `login'
[active_model_serializers]   [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:9:in `login'
[active_model_serializers]   [1m[36mCustomerAddress Load (0.3ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:9:in `login'
[active_model_serializers]   [1m[36mStripeCustomer Load (0.9ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:9:in `login'
[active_model_serializers]   [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:9:in `login'
[active_model_serializers] Rendered CustomerSerializer with ActiveModelSerializers::Adapter::Attributes (22.36ms)
Completed 201 Created in 248ms (Views: 21.6ms | ActiveRecord: 2.1ms | Allocations: 15832)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-06-30 16:12:24 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.7ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.25ms)
Completed 201 Created in 8ms (Views: 3.5ms | ActiveRecord: 1.0ms | Allocations: 1547)


Started GET "/baker-logged-in" for 127.0.0.1 at 2023-06-30 23:57:27 +0100
Started GET "/customer-logged-in" for 127.0.0.1 at 2023-06-30 23:57:27 +0100
Started GET "/products" for 127.0.0.1 at 2023-06-30 23:57:27 +0100
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by BakersController#logged_in as */*
Processing by CustomersController#logged_in as */*
  [1m[36mBaker Load (0.4ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
Processing by ProductsController#index as HTML
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.22ms)
Completed 201 Created in 23ms (Views: 3.6ms | ActiveRecord: 3.4ms | Allocations: 5169)


  [1m[36mCustomer Load (1.1ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers]   [1m[36mCart Load (1.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
  [1m[36mProduct Load (3.8ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.18ms)
Completed 200 OK in 52ms (Views: 13.1ms | ActiveRecord: 33.9ms | Allocations: 18728)


[active_model_serializers]   [1m[36mCustomerAddress Load (0.8ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mStripeCustomer Load (0.7ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mOrder Load (1.0ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers] Rendered CustomerSerializer with ActiveModelSerializers::Adapter::Attributes (44.97ms)
Completed 201 Created in 89ms (Views: 40.6ms | ActiveRecord: 21.7ms | Allocations: 31023)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-06-30 23:57:27 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.19ms)
Completed 201 Created in 29ms (Views: 4.3ms | ActiveRecord: 5.8ms | Allocations: 12854)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-06-30 23:58:10 +0100
Processing by CustomersController#logged_in as */*
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
Started GET "/products" for 127.0.0.1 at 2023-06-30 23:58:10 +0100
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.18ms)
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.5ms | Allocations: 870)


[active_model_serializers]   [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mCustomerAddress Load (2.6ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mStripeCustomer Load (0.4ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers] Rendered CustomerSerializer with ActiveModelSerializers::Adapter::Attributes (70.97ms)
Completed 201 Created in 114ms (Views: 91.7ms | ActiveRecord: 13.4ms | Allocations: 12020)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-06-30 23:58:10 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (2.7ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.13ms)
Completed 201 Created in 10ms (Views: 2.4ms | ActiveRecord: 3.2ms | Allocations: 1566)


Started GET "/baker-logged-in" for 127.0.0.1 at 2023-06-30 23:58:10 +0100
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by BakersController#logged_in as */*
  [1m[36mBaker Load (0.2ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.09ms)
Completed 201 Created in 14ms (Views: 2.3ms | ActiveRecord: 2.1ms | Allocations: 5169)


Started POST "/baker-login" for 127.0.0.1 at 2023-06-30 23:58:32 +0100
Processing by BakersController#login as HTML
  Parameters: {"password"=>"[FILTERED]"}
  [1m[36mBaker Load (6.8ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:6:in `login'
[active_model_serializers] Rendered BakerSerializer with ActiveModelSerializers::Adapter::Attributes (1.46ms)
Completed 201 Created in 235ms (Views: 9.2ms | ActiveRecord: 11.6ms | Allocations: 3677)


Started GET "/variant_groups" for 127.0.0.1 at 2023-06-30 23:58:33 +0100
Processing by VariantGroupsController#index as HTML
Started GET "/discounts" for 127.0.0.1 at 2023-06-30 23:58:33 +0100
  [1m[36mVariantGroup Load (0.9ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups"[0m
  ↳ app/controllers/variant_groups_controller.rb:8:in `index'
Processing by DiscountsController#index as HTML
  [1m[36mDiscount Load (0.9ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts"[0m
  ↳ app/controllers/discounts_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.8ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (41.55ms)
Completed 200 OK in 65ms (Views: 42.9ms | ActiveRecord: 13.4ms | Allocations: 10124)


[active_model_serializers]   [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."discount_id" = $1[0m  [["discount_id", 3]]
[active_model_serializers]   ↳ app/controllers/discounts_controller.rb:9:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (30.35ms)
Completed 200 OK in 76ms (Views: 57.6ms | ActiveRecord: 13.9ms | Allocations: 12008)


Started GET "/customers" for 127.0.0.1 at 2023-06-30 23:58:33 +0100
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
  ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers]   [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers]   [1m[36mCustomerAddress Load (0.3ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers]   [1m[36mStripeCustomer Load (0.3ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers]   [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (33.57ms)
Completed 200 OK in 54ms (Views: 35.9ms | ActiveRecord: 9.8ms | Allocations: 25119)


Started GET "/products" for 127.0.0.1 at 2023-06-30 23:58:48 +0100
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.18ms)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.4ms | Allocations: 875)


Started POST "/products" for 127.0.0.1 at 2023-06-30 23:59:38 +0100
Processing by ProductsController#create as HTML
  Parameters: {"name"=>"Test", "price"=>2000, "description"=>"test", "discount_id"=>3, "variant_group_id"=>3, "active"=>true}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:20:in `create'
  [1m[36mDiscount Load (0.4ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:20:in `create'
  [1m[36mVariantGroup Load (0.4ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:20:in `create'
  [1m[36mProduct Create (1.6ms)[0m  [1m[32mINSERT INTO "products" ("name", "price", "description", "discount_id", "variant_group_id", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Test"], ["price", 2000.0], ["description", "test"], ["discount_id", 3], ["variant_group_id", 3], ["active", true], ["created_at", "2023-06-30 22:59:38.068055"], ["updated_at", "2023-06-30 22:59:38.068055"]]
  ↳ app/controllers/products_controller.rb:20:in `create'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:20:in `create'
[active_model_serializers]   [1m[36mProductImage Load (0.6ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:21:in `create'
[active_model_serializers] Rendered ProductSerializer with ActiveModelSerializers::Adapter::Attributes (8.32ms)
Completed 201 Created in 62ms (Views: 8.8ms | ActiveRecord: 12.0ms | Allocations: 15525)


Started GET "/products" for 127.0.0.1 at 2023-06-30 23:59:38 +0100
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (0.8ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.3ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.3ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (17.88ms)
Completed 200 OK in 23ms (Views: 19.7ms | ActiveRecord: 2.6ms | Allocations: 4847)


Started GET "/products" for 127.0.0.1 at 2023-06-30 23:59:40 +0100
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (0.6ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.3ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.3ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (16.81ms)
Completed 200 OK in 21ms (Views: 18.4ms | ActiveRecord: 1.8ms | Allocations: 4838)


Started POST "/product_images" for 127.0.0.1 at 2023-06-30 23:59:49 +0100
Processing by ProductImagesController#create as HTML
  Parameters: {"product_id"=>1, "image_url"=>"http://res.cloudinary.com/db7dgsxy2/image/upload/v1688165986/Oink_Oink_Product_Images/qofglzygkvbuxnjud5ar.jpg", "image_public_id"=>"Oink_Oink_Product_Images/qofglzygkvbuxnjud5ar"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/product_images_controller.rb:20:in `create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/product_images_controller.rb:20:in `create'
  [1m[36mProductImage Create (0.8ms)[0m  [1m[32mINSERT INTO "product_images" ("product_id", "image_url", "image_public_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 1], ["image_url", "http://res.cloudinary.com/db7dgsxy2/image/upload/v1688165986/Oink_Oink_Product_Images/qofglzygkvbuxnjud5ar.jpg"], ["image_public_id", "Oink_Oink_Product_Images/qofglzygkvbuxnjud5ar"], ["created_at", "2023-06-30 22:59:49.533528"], ["updated_at", "2023-06-30 22:59:49.533528"]]
  ↳ app/controllers/product_images_controller.rb:20:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/product_images_controller.rb:20:in `create'
[active_model_serializers] Rendered ProductImageSerializer with ActiveModelSerializers::Adapter::Attributes (1.42ms)
Completed 201 Created in 29ms (Views: 3.2ms | ActiveRecord: 4.8ms | Allocations: 10814)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-06-30 23:59:57 +0100
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-06-30 23:59:57 +0100
Processing by CustomersController#logged_in as */*
Started GET "/products" for 127.0.0.1 at 2023-06-30 23:59:57 +0100
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCart Load (0.8ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mCustomerAddress Load (0.4ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
Processing by BakersController#logged_in as */*
[active_model_serializers]   [1m[36mStripeCustomer Load (0.3ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers] Rendered CustomerSerializer with ActiveModelSerializers::Adapter::Attributes (22.16ms)
Completed 201 Created in 35ms (Views: 22.1ms | ActiveRecord: 2.5ms | Allocations: 4573)


  [1m[36mBaker Load (0.5ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers]   [1m[36mDiscount Load (1.7ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered BakerSerializer with ActiveModelSerializers::Adapter::Attributes (0.54ms)
Completed 201 Created in 63ms (Views: 4.6ms | ActiveRecord: 23.3ms | Allocations: 14623)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-06-30 23:59:57 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
[active_model_serializers]   [1m[36mVariantGroup Load (0.7ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
  [1m[36mCustomer Load (5.9ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.2ms)
Completed 201 Created in 19ms (Views: 7.9ms | ActiveRecord: 6.2ms | Allocations: 1566)


[active_model_serializers]   [1m[36mProductImage Load (0.5ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.4ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (102.85ms)
Completed 200 OK in 139ms (Views: 86.2ms | ActiveRecord: 52.6ms | Allocations: 27319)


Started GET "/customers" for 127.0.0.1 at 2023-07-01 10:45:57 +0100
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (0.8ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 10:45:57 +0100
Processing by CustomersController#logged_in as */*
Started GET "/variant_groups" for 127.0.0.1 at 2023-07-01 10:45:57 +0100
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 10:45:57 +0100
Processing by BakersController#logged_in as */*
Started GET "/discounts" for 127.0.0.1 at 2023-07-01 10:45:57 +0100
Processing by DiscountsController#index as HTML
  ↳ app/controllers/customers_controller.rb:49:in `index'
Processing by VariantGroupsController#index as HTML
[active_model_serializers]   [1m[36mCart Load (1.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
  [1m[36mCustomer Load (1.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
  [1m[36mDiscount Load (0.6ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts"[0m
  ↳ app/controllers/discounts_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mCustomerAddress Load (20.9ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers]   [1m[36mCart Load (4.7ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mStripeCustomer Load (1.1ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers]   [1m[36mCustomerAddress Load (6.6ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
  [1m[36mVariantGroup Load (0.5ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups"[0m
  ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mOrder Load (2.7ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   [1m[36mStripeCustomer Load (0.3ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mProduct Load (5.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."discount_id" = $1[0m  [["discount_id", 3]]
[active_model_serializers]   ↳ app/controllers/discounts_controller.rb:9:in `index'
  [1m[36mBaker Load (3.7ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers] Rendered BakerSerializer with ActiveModelSerializers::Adapter::Attributes (0.52ms)
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (118.46ms)
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (66.87ms)
Completed 200 OK in 153ms (Views: 72.4ms | ActiveRecord: 67.9ms | Allocations: 39212)


Started GET "/products" for 127.0.0.1 at 2023-07-01 10:45:58 +0100
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
Completed 200 OK in 198ms (Views: 198.0ms | ActiveRecord: 38.0ms | Allocations: 48663)


[active_model_serializers]   [1m[36mOrder Load (17.7ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers] Rendered CustomerSerializer with ActiveModelSerializers::Adapter::Attributes (131.44ms)
Completed 201 Created in 194ms (Views: 102.7ms | ActiveRecord: 52.2ms | Allocations: 47151)


Completed 201 Created in 163ms (Views: 14.4ms | ActiveRecord: 69.1ms | Allocations: 41444)


[active_model_serializers]   [1m[36mProduct Load (8.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (0.4ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (4.8ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (85.34ms)
Completed 200 OK in 182ms (Views: 73.0ms | ActiveRecord: 104.8ms | Allocations: 42661)


[active_model_serializers]   [1m[36mVariantGroup Load (11.7ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.4ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (83.26ms)
Completed 200 OK in 88ms (Views: 65.4ms | ActiveRecord: 22.2ms | Allocations: 14661)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 10:45:58 +0100
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.23ms)
Completed 201 Created in 35ms (Views: 5.8ms | ActiveRecord: 4.4ms | Allocations: 15861)


Started GET "/products" for 127.0.0.1 at 2023-07-01 10:46:11 +0100
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (0.3ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.3ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (1.2ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (11.69ms)
Completed 200 OK in 16ms (Views: 13.7ms | ActiveRecord: 2.3ms | Allocations: 4981)


Started POST "/products" for 127.0.0.1 at 2023-07-01 10:46:44 +0100
Processing by ProductsController#create as HTML
  Parameters: {"name"=>"Test 2", "price"=>2000, "description"=>"test", "discount_id"=>3, "variant_group_id"=>3, "active"=>true}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:20:in `create'
  [1m[36mDiscount Load (0.2ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:20:in `create'
  [1m[36mVariantGroup Load (0.2ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:20:in `create'
  [1m[36mProduct Create (0.6ms)[0m  [1m[32mINSERT INTO "products" ("name", "price", "description", "discount_id", "variant_group_id", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Test 2"], ["price", 2000.0], ["description", "test"], ["discount_id", 3], ["variant_group_id", 3], ["active", true], ["created_at", "2023-07-01 09:46:44.491259"], ["updated_at", "2023-07-01 09:46:44.491259"]]
  ↳ app/controllers/products_controller.rb:20:in `create'
  [1m[36mTRANSACTION (6.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:20:in `create'
[active_model_serializers]   [1m[36mProductImage Load (0.5ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:21:in `create'
[active_model_serializers] Rendered ProductSerializer with ActiveModelSerializers::Adapter::Attributes (9.52ms)
Completed 201 Created in 71ms (Views: 12.0ms | ActiveRecord: 18.8ms | Allocations: 20832)


Started GET "/products" for 127.0.0.1 at 2023-07-01 10:46:44 +0100
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (0.2ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.2ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.2ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (47.51ms)
Completed 200 OK in 66ms (Views: 48.0ms | ActiveRecord: 10.9ms | Allocations: 34512)


Started GET "/products" for 127.0.0.1 at 2023-07-01 10:46:46 +0100
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (0.3ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (1.3ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.1ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.3ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (56.48ms)
Completed 200 OK in 61ms (Views: 51.3ms | ActiveRecord: 9.7ms | Allocations: 12899)


Started POST "/product_images" for 127.0.0.1 at 2023-07-01 10:46:51 +0100
Processing by ProductImagesController#create as HTML
  Parameters: {"product_id"=>2, "image_url"=>"http://res.cloudinary.com/db7dgsxy2/image/upload/v1688204807/Oink_Oink_Product_Images/plvxt0pdjekdpdni1kon.jpg", "image_public_id"=>"Oink_Oink_Product_Images/plvxt0pdjekdpdni1kon"}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/product_images_controller.rb:20:in `create'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/product_images_controller.rb:20:in `create'
  [1m[36mProductImage Create (1.2ms)[0m  [1m[32mINSERT INTO "product_images" ("product_id", "image_url", "image_public_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 2], ["image_url", "http://res.cloudinary.com/db7dgsxy2/image/upload/v1688204807/Oink_Oink_Product_Images/plvxt0pdjekdpdni1kon.jpg"], ["image_public_id", "Oink_Oink_Product_Images/plvxt0pdjekdpdni1kon"], ["created_at", "2023-07-01 09:46:51.954896"], ["updated_at", "2023-07-01 09:46:51.954896"]]
  ↳ app/controllers/product_images_controller.rb:20:in `create'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/product_images_controller.rb:20:in `create'
[active_model_serializers] Rendered ProductImageSerializer with ActiveModelSerializers::Adapter::Attributes (1.21ms)
Completed 201 Created in 25ms (Views: 2.6ms | ActiveRecord: 2.8ms | Allocations: 3457)


Started POST "/products" for 127.0.0.1 at 2023-07-01 10:47:11 +0100
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#create as HTML
  Parameters: {"name"=>"Test 3", "price"=>2000, "description"=>"test", "discount_id"=>3, "variant_group_id"=>3, "active"=>true}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:20:in `create'
  [1m[36mDiscount Load (0.4ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:20:in `create'
  [1m[36mVariantGroup Load (0.2ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:20:in `create'
  [1m[36mProduct Create (1.7ms)[0m  [1m[32mINSERT INTO "products" ("name", "price", "description", "discount_id", "variant_group_id", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Test 3"], ["price", 2000.0], ["description", "test"], ["discount_id", 3], ["variant_group_id", 3], ["active", true], ["created_at", "2023-07-01 09:47:11.949748"], ["updated_at", "2023-07-01 09:47:11.949748"]]
  ↳ app/controllers/products_controller.rb:20:in `create'
  [1m[36mTRANSACTION (6.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:20:in `create'
[active_model_serializers]   [1m[36mProductImage Load (0.7ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:21:in `create'
[active_model_serializers] Rendered ProductSerializer with ActiveModelSerializers::Adapter::Attributes (11.87ms)
Completed 201 Created in 92ms (Views: 20.9ms | ActiveRecord: 18.3ms | Allocations: 27483)


Started GET "/products" for 127.0.0.1 at 2023-07-01 10:47:12 +0100
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (0.7ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.4ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.2ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (37.47ms)
Completed 200 OK in 41ms (Views: 37.6ms | ActiveRecord: 2.7ms | Allocations: 12776)


Started POST "/product_images" for 127.0.0.1 at 2023-07-01 10:47:13 +0100
Processing by ProductImagesController#create as HTML
  Parameters: {"product_id"=>3, "image_url"=>"http://res.cloudinary.com/db7dgsxy2/image/upload/v1688204832/Oink_Oink_Product_Images/ocyzy9d4oz16dum0lbpe.jpg", "image_public_id"=>"Oink_Oink_Product_Images/ocyzy9d4oz16dum0lbpe"}
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/product_images_controller.rb:20:in `create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/product_images_controller.rb:20:in `create'
  [1m[36mProductImage Create (1.5ms)[0m  [1m[32mINSERT INTO "product_images" ("product_id", "image_url", "image_public_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 3], ["image_url", "http://res.cloudinary.com/db7dgsxy2/image/upload/v1688204832/Oink_Oink_Product_Images/ocyzy9d4oz16dum0lbpe.jpg"], ["image_public_id", "Oink_Oink_Product_Images/ocyzy9d4oz16dum0lbpe"], ["created_at", "2023-07-01 09:47:13.548220"], ["updated_at", "2023-07-01 09:47:13.548220"]]
  ↳ app/controllers/product_images_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/product_images_controller.rb:20:in `create'
[active_model_serializers] Rendered ProductImageSerializer with ActiveModelSerializers::Adapter::Attributes (9.27ms)
Completed 201 Created in 29ms (Views: 10.1ms | ActiveRecord: 4.3ms | Allocations: 3405)


Started GET "/products" for 127.0.0.1 at 2023-07-01 10:47:14 +0100
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (0.3ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.3ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (2.0ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.4ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (52.48ms)
Completed 200 OK in 59ms (Views: 49.5ms | ActiveRecord: 8.2ms | Allocations: 17133)


Started POST "/products" for 127.0.0.1 at 2023-07-01 10:47:41 +0100
Processing by ProductsController#create as HTML
  Parameters: {"name"=>"Test 4", "price"=>2000, "description"=>"test", "discount_id"=>3, "variant_group_id"=>3, "active"=>true}
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:20:in `create'
  [1m[36mDiscount Load (2.4ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:20:in `create'
  [1m[36mVariantGroup Load (2.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:20:in `create'
  [1m[36mProduct Create (1.1ms)[0m  [1m[32mINSERT INTO "products" ("name", "price", "description", "discount_id", "variant_group_id", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Test 4"], ["price", 2000.0], ["description", "test"], ["discount_id", 3], ["variant_group_id", 3], ["active", true], ["created_at", "2023-07-01 09:47:41.560109"], ["updated_at", "2023-07-01 09:47:41.560109"]]
  ↳ app/controllers/products_controller.rb:20:in `create'
  [1m[36mTRANSACTION (6.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:20:in `create'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:21:in `create'
[active_model_serializers] Rendered ProductSerializer with ActiveModelSerializers::Adapter::Attributes (5.84ms)
Completed 201 Created in 47ms (Views: 6.6ms | ActiveRecord: 12.5ms | Allocations: 4935)


Started GET "/products" for 127.0.0.1 at 2023-07-01 10:47:41 +0100
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (0.6ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.3ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.5ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.6ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.8ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (55.39ms)
Completed 200 OK in 59ms (Views: 54.3ms | ActiveRecord: 4.1ms | Allocations: 16733)


Started POST "/product_images" for 127.0.0.1 at 2023-07-01 10:47:42 +0100
Processing by ProductImagesController#create as HTML
  Parameters: {"product_id"=>4, "image_url"=>"http://res.cloudinary.com/db7dgsxy2/image/upload/v1688204862/Oink_Oink_Product_Images/rmazmhworqkwhlwaqbgz.jpg", "image_public_id"=>"Oink_Oink_Product_Images/rmazmhworqkwhlwaqbgz"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/product_images_controller.rb:20:in `create'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/product_images_controller.rb:20:in `create'
  [1m[36mProductImage Create (0.5ms)[0m  [1m[32mINSERT INTO "product_images" ("product_id", "image_url", "image_public_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 4], ["image_url", "http://res.cloudinary.com/db7dgsxy2/image/upload/v1688204862/Oink_Oink_Product_Images/rmazmhworqkwhlwaqbgz.jpg"], ["image_public_id", "Oink_Oink_Product_Images/rmazmhworqkwhlwaqbgz"], ["created_at", "2023-07-01 09:47:42.846154"], ["updated_at", "2023-07-01 09:47:42.846154"]]
  ↳ app/controllers/product_images_controller.rb:20:in `create'
  [1m[36mTRANSACTION (6.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/product_images_controller.rb:20:in `create'
[active_model_serializers] Rendered ProductImageSerializer with ActiveModelSerializers::Adapter::Attributes (1.97ms)
Completed 201 Created in 25ms (Views: 4.0ms | ActiveRecord: 7.4ms | Allocations: 3269)


Started GET "/products" for 127.0.0.1 at 2023-07-01 10:47:43 +0100
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (1.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (2.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (6.1ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.6ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.3ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (74.02ms)
Completed 200 OK in 81ms (Views: 67.9ms | ActiveRecord: 12.5ms | Allocations: 16850)


Started POST "/products" for 127.0.0.1 at 2023-07-01 10:48:11 +0100
Processing by ProductsController#create as HTML
  Parameters: {"name"=>"Test 5", "price"=>2000, "description"=>"test", "discount_id"=>3, "variant_group_id"=>3, "active"=>true}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:20:in `create'
  [1m[36mDiscount Load (0.7ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:20:in `create'
  [1m[36mVariantGroup Load (0.4ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:20:in `create'
  [1m[36mProduct Create (1.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "price", "description", "discount_id", "variant_group_id", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Test 5"], ["price", 2000.0], ["description", "test"], ["discount_id", 3], ["variant_group_id", 3], ["active", true], ["created_at", "2023-07-01 09:48:11.718648"], ["updated_at", "2023-07-01 09:48:11.718648"]]
  ↳ app/controllers/products_controller.rb:20:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:20:in `create'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:21:in `create'
[active_model_serializers] Rendered ProductSerializer with ActiveModelSerializers::Adapter::Attributes (3.3ms)
Completed 201 Created in 28ms (Views: 3.7ms | ActiveRecord: 4.0ms | Allocations: 4758)


Started GET "/products" for 127.0.0.1 at 2023-07-01 10:48:11 +0100
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (0.4ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.3ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.3ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (57.62ms)
Completed 200 OK in 62ms (Views: 59.0ms | ActiveRecord: 3.0ms | Allocations: 20663)


Started GET "/products" for 127.0.0.1 at 2023-07-01 10:48:13 +0100
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (0.3ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.3ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.7ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.3ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (87.09ms)
Completed 200 OK in 91ms (Views: 87.0ms | ActiveRecord: 3.3ms | Allocations: 20664)


Started POST "/product_images" for 127.0.0.1 at 2023-07-01 10:48:14 +0100
Processing by ProductImagesController#create as HTML
  Parameters: {"product_id"=>5, "image_url"=>"http://res.cloudinary.com/db7dgsxy2/image/upload/v1688204892/Oink_Oink_Product_Images/q1pshueoantznqko6dpb.jpg", "image_public_id"=>"Oink_Oink_Product_Images/q1pshueoantznqko6dpb"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/product_images_controller.rb:20:in `create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/product_images_controller.rb:20:in `create'
  [1m[36mProductImage Create (0.5ms)[0m  [1m[32mINSERT INTO "product_images" ("product_id", "image_url", "image_public_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 5], ["image_url", "http://res.cloudinary.com/db7dgsxy2/image/upload/v1688204892/Oink_Oink_Product_Images/q1pshueoantznqko6dpb.jpg"], ["image_public_id", "Oink_Oink_Product_Images/q1pshueoantznqko6dpb"], ["created_at", "2023-07-01 09:48:14.993457"], ["updated_at", "2023-07-01 09:48:14.993457"]]
  ↳ app/controllers/product_images_controller.rb:20:in `create'
  [1m[36mTRANSACTION (15.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/product_images_controller.rb:20:in `create'
[active_model_serializers] Rendered ProductImageSerializer with ActiveModelSerializers::Adapter::Attributes (0.73ms)
Completed 201 Created in 26ms (Views: 1.7ms | ActiveRecord: 16.8ms | Allocations: 2944)


Started GET "/babel/parser/lib/index.js" for 127.0.0.1 at 2023-07-01 10:50:33 +0100
  
ActionController::RoutingError (No route matches [GET] "/babel/parser/lib/index.js"):
  
Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 10:53:06 +0100
Started GET "/products" for 127.0.0.1 at 2023-07-01 10:53:06 +0100
Processing by ProductsController#index as HTML
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 10:53:06 +0100
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
Processing by CustomersController#logged_in as */*
[active_model_serializers]   [1m[36mDiscount Load (4.4ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
Processing by BakersController#logged_in as */*
[active_model_serializers]   [1m[36mVariantGroup Load (2.8ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.9ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mProductImage Load (6.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCustomerAddress Load (0.4ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
  [1m[36mBaker Load (1.5ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers]   [1m[36mProductImage Load (1.7ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mStripeCustomer Load (0.4ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers] Rendered BakerSerializer with ActiveModelSerializers::Adapter::Attributes (0.49ms)
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Completed 201 Created in 97ms (Views: 3.3ms | ActiveRecord: 26.2ms | Allocations: 17232)


[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mOrder Load (1.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers] Rendered CustomerSerializer with ActiveModelSerializers::Adapter::Attributes (56.95ms)
Completed 201 Created in 115ms (Views: 48.0ms | ActiveRecord: 20.3ms | Allocations: 18058)


[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.5ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.3ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (148.7ms)
Completed 200 OK in 159ms (Views: 141.1ms | ActiveRecord: 17.8ms | Allocations: 31032)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 10:53:06 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.2ms)
Completed 201 Created in 56ms (Views: 4.6ms | ActiveRecord: 6.8ms | Allocations: 9717)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 10:53:10 +0100
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 10:53:10 +0100
Started GET "/products" for 127.0.0.1 at 2023-07-01 10:53:10 +0100
Processing by ProductsController#index as HTML
Processing by CustomersController#logged_in as */*
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Processing by BakersController#logged_in as */*
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (0.7ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
  [1m[36mCustomer Load (2.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers]   [1m[36mCart Load (4.0ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   [1m[36mVariantGroup Load (3.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCustomerAddress Load (1.3ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
  [1m[36mBaker Load (3.5ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mStripeCustomer Load (9.7ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mProductImage Load (1.7ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers] Rendered CustomerSerializer with ActiveModelSerializers::Adapter::Attributes (77.84ms)
Completed 201 Created in 87ms (Views: 62.9ms | ActiveRecord: 17.8ms | Allocations: 11781)


[active_model_serializers] Rendered BakerSerializer with ActiveModelSerializers::Adapter::Attributes (0.54ms)
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
Completed 201 Created in 87ms (Views: 15.3ms | ActiveRecord: 23.8ms | Allocations: 11976)


[active_model_serializers]   [1m[36mCACHE Discount Load (0.1ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.4ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (131.71ms)
Completed 200 OK in 136ms (Views: 127.8ms | ActiveRecord: 7.8ms | Allocations: 20807)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 10:53:11 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (1.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.51ms)
Completed 201 Created in 12ms (Views: 5.2ms | ActiveRecord: 1.4ms | Allocations: 1442)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 10:53:40 +0100
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 10:53:40 +0100
Processing by CustomersController#logged_in as */*
Processing by BakersController#logged_in as */*
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBaker Load (0.3ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered BakerSerializer with ActiveModelSerializers::Adapter::Attributes (0.34ms)
Started GET "/products" for 127.0.0.1 at 2023-07-01 10:53:40 +0100
Completed 201 Created in 4ms (Views: 1.5ms | ActiveRecord: 0.3ms | Allocations: 1027)


[active_model_serializers]   [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
Processing by ProductsController#index as HTML
[active_model_serializers]   [1m[36mCustomerAddress Load (0.5ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mStripeCustomer Load (0.2ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   [1m[36mDiscount Load (3.1ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers] Rendered CustomerSerializer with ActiveModelSerializers::Adapter::Attributes (12.53ms)
Completed 201 Created in 16ms (Views: 11.6ms | ActiveRecord: 1.8ms | Allocations: 4488)


[active_model_serializers]   [1m[36mVariantGroup Load (3.4ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.1ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.1ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.6ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.3ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 10:53:40 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
  [1m[36mCustomer Load (1.1ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
  [1m[36mCart Load (2.0ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (1.72ms)
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (94.53ms)
Completed 200 OK in 98ms (Views: 87.7ms | ActiveRecord: 10.5ms | Allocations: 20816)


Completed 201 Created in 18ms (Views: 8.3ms | ActiveRecord: 3.2ms | Allocations: 1442)


Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 10:54:25 +0100
Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 10:54:25 +0100
Processing by BakersController#logged_in as */*
Processing by CustomersController#logged_in as */*
Started GET "/products" for 127.0.0.1 at 2023-07-01 10:54:25 +0100
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
  ↳ app/controllers/products_controller.rb:8:in `index'
  [1m[36mBaker Load (0.3ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered BakerSerializer with ActiveModelSerializers::Adapter::Attributes (0.27ms)
[active_model_serializers]   [1m[36mDiscount Load (0.3ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Completed 201 Created in 13ms (Views: 0.9ms | ActiveRecord: 0.3ms | Allocations: 2536)


[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.3ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCart Load (2.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCustomerAddress Load (0.5ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.1ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mStripeCustomer Load (0.8ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mProductImage Load (1.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.3ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers] Rendered CustomerSerializer with ActiveModelSerializers::Adapter::Attributes (84.34ms)
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
Completed 201 Created in 103ms (Views: 80.8ms | ActiveRecord: 16.8ms | Allocations: 10946)


[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (107.66ms)
Completed 200 OK in 112ms (Views: 107.7ms | ActiveRecord: 4.3ms | Allocations: 21807)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 10:54:25 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.2ms)
Completed 201 Created in 7ms (Views: 2.4ms | ActiveRecord: 0.7ms | Allocations: 1542)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 10:55:09 +0100
Started GET "/products" for 127.0.0.1 at 2023-07-01 10:55:09 +0100
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 10:55:09 +0100
Processing by CustomersController#logged_in as */*
Processing by BakersController#logged_in as */*
Processing by ProductsController#index as HTML
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  [1m[36mBaker Load (2.8ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mDiscount Load (0.3ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers] Rendered BakerSerializer with ActiveModelSerializers::Adapter::Attributes (0.26ms)
Completed 201 Created in 6ms (Views: 0.7ms | ActiveRecord: 2.8ms | Allocations: 847)


[active_model_serializers]   [1m[36mCustomerAddress Load (0.3ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mVariantGroup Load (0.2ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mStripeCustomer Load (0.3ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mOrder Load (3.0ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers] Rendered CustomerSerializer with ActiveModelSerializers::Adapter::Attributes (15.29ms)
Completed 201 Created in 18ms (Views: 12.0ms | ActiveRecord: 4.1ms | Allocations: 4407)


[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.0ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.7ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 10:55:09 +0100
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.9ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
  [1m[36mCart Load (1.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   [1m[36mVariantOption Load (0.4ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.2ms)
Completed 201 Created in 14ms (Views: 7.8ms | ActiveRecord: 2.1ms | Allocations: 1442)


[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.1ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (117.56ms)
Completed 200 OK in 122ms (Views: 116.1ms | ActiveRecord: 5.1ms | Allocations: 20816)


Started GET "/products" for 127.0.0.1 at 2023-07-01 10:56:57 +0100
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (1.1ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (1.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.9ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.1ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.5ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.6ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.3ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (84.36ms)
Completed 200 OK in 96ms (Views: 88.5ms | ActiveRecord: 6.5ms | Allocations: 20806)


Started POST "/carts" for 127.0.0.1 at 2023-07-01 10:57:07 +0100
Processing by CartsController#create as HTML
  Parameters: {"customer_id"=>2, "total"=>0, "active"=>true}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:20:in `create'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:20:in `create'
  [1m[36mCart Create (1.0ms)[0m  [1m[32mINSERT INTO "carts" ("customer_id", "total", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["customer_id", 2], ["total", 0.0], ["active", true], ["created_at", "2023-07-01 09:57:07.396121"], ["updated_at", "2023-07-01 09:57:07.396121"]]
  ↳ app/controllers/carts_controller.rb:20:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:20:in `create'
[active_model_serializers]   [1m[36mLineItem Load (1.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:21:in `create'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (8.07ms)
Completed 201 Created in 28ms (Views: 7.6ms | ActiveRecord: 6.9ms | Allocations: 8336)


Started POST "/line_items" for 127.0.0.1 at 2023-07-01 10:57:07 +0100
Processing by LineItemsController#create as HTML
  Parameters: {"cart_id"=>1, "product_id"=>1, "quantity"=>1, "color"=>"Any color", "cake_text"=>"No text", "price"=>nil}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/line_items_controller.rb:20:in `create'
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:20:in `create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:20:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/line_items_controller.rb:20:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with ActiveModel::Errors (5.06ms)
Completed 422 Unprocessable Entity in 22ms (Views: 6.1ms | ActiveRecord: 2.9ms | Allocations: 10188)


Started POST "/carts" for 127.0.0.1 at 2023-07-01 10:57:10 +0100
Processing by CartsController#create as HTML
  Parameters: {"customer_id"=>2, "total"=>0, "active"=>true}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:20:in `create'
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:20:in `create'
  [1m[36mCart Create (0.6ms)[0m  [1m[32mINSERT INTO "carts" ("customer_id", "total", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["customer_id", 2], ["total", 0.0], ["active", true], ["created_at", "2023-07-01 09:57:10.364637"], ["updated_at", "2023-07-01 09:57:10.364637"]]
  ↳ app/controllers/carts_controller.rb:20:in `create'
  [1m[36mTRANSACTION (15.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:20:in `create'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:21:in `create'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (6.45ms)
Completed 201 Created in 46ms (Views: 6.4ms | ActiveRecord: 20.9ms | Allocations: 8343)


Started POST "/line_items" for 127.0.0.1 at 2023-07-01 10:57:10 +0100
Processing by LineItemsController#create as HTML
  Parameters: {"cart_id"=>2, "product_id"=>2, "quantity"=>1, "color"=>"Any color", "cake_text"=>"No text", "price"=>nil}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/line_items_controller.rb:20:in `create'
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:20:in `create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:20:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/line_items_controller.rb:20:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with ActiveModel::Errors (2.16ms)
Completed 422 Unprocessable Entity in 31ms (Views: 2.9ms | ActiveRecord: 10.9ms | Allocations: 12504)


Started POST "/carts" for 127.0.0.1 at 2023-07-01 10:57:13 +0100
Processing by CartsController#create as HTML
  Parameters: {"customer_id"=>2, "total"=>0, "active"=>true}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:20:in `create'
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:20:in `create'
  [1m[36mCart Create (0.5ms)[0m  [1m[32mINSERT INTO "carts" ("customer_id", "total", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["customer_id", 2], ["total", 0.0], ["active", true], ["created_at", "2023-07-01 09:57:13.184914"], ["updated_at", "2023-07-01 09:57:13.184914"]]
  ↳ app/controllers/carts_controller.rb:20:in `create'
  [1m[36mTRANSACTION (6.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:20:in `create'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:21:in `create'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (4.27ms)
Completed 201 Created in 24ms (Views: 4.9ms | ActiveRecord: 7.6ms | Allocations: 3873)


Started POST "/line_items" for 127.0.0.1 at 2023-07-01 10:57:13 +0100
Processing by LineItemsController#create as HTML
  Parameters: {"cart_id"=>3, "product_id"=>3, "quantity"=>1, "color"=>"Any color", "cake_text"=>"No text", "price"=>nil}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/line_items_controller.rb:20:in `create'
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:20:in `create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:20:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/line_items_controller.rb:20:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with ActiveModel::Errors (0.56ms)
Completed 422 Unprocessable Entity in 9ms (Views: 1.0ms | ActiveRecord: 1.0ms | Allocations: 3182)


Started POST "/carts" for 127.0.0.1 at 2023-07-01 10:57:38 +0100
Processing by CartsController#create as HTML
  Parameters: {"customer_id"=>2, "total"=>0, "active"=>true}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:20:in `create'
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:20:in `create'
  [1m[36mCart Create (0.7ms)[0m  [1m[32mINSERT INTO "carts" ("customer_id", "total", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["customer_id", 2], ["total", 0.0], ["active", true], ["created_at", "2023-07-01 09:57:38.656787"], ["updated_at", "2023-07-01 09:57:38.656787"]]
  ↳ app/controllers/carts_controller.rb:20:in `create'
  [1m[36mTRANSACTION (6.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:20:in `create'
[active_model_serializers]   [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:21:in `create'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (7.81ms)
Completed 201 Created in 35ms (Views: 12.3ms | ActiveRecord: 8.2ms | Allocations: 4848)


Started POST "/line_items" for 127.0.0.1 at 2023-07-01 10:57:38 +0100
Processing by LineItemsController#create as HTML
  Parameters: {"cart_id"=>4, "product_id"=>3, "quantity"=>1, "color"=>"Any color", "cake_text"=>"No text", "price"=>nil}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/line_items_controller.rb:20:in `create'
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:20:in `create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:20:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/line_items_controller.rb:20:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with ActiveModel::Errors (2.25ms)
Completed 422 Unprocessable Entity in 32ms (Views: 3.4ms | ActiveRecord: 5.8ms | Allocations: 12549)


Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 11:04:01 +0100
Processing by BakersController#logged_in as */*
Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 11:04:01 +0100
Processing by CustomersController#logged_in as */*
Started GET "/products" for 127.0.0.1 at 2023-07-01 11:04:01 +0100
Processing by ProductsController#index as HTML
  [1m[36mBaker Load (0.3ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered BakerSerializer with ActiveModelSerializers::Adapter::Attributes (0.27ms)
Completed 201 Created in 16ms (Views: 0.9ms | ActiveRecord: 6.1ms | Allocations: 5252)


  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (0.5ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mVariantGroup Load (3.3ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.6ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCustomerAddress Load (3.0ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (1.3ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mStripeCustomer Load (1.4ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mProductImage Load (1.0ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mOrder Load (3.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers] Rendered CustomerSerializer with ActiveModelSerializers::Adapter::Attributes (45.67ms)
Completed 201 Created in 73ms (Views: 38.2ms | ActiveRecord: 25.5ms | Allocations: 10563)


[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.7ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.1ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (113.25ms)
Completed 200 OK in 131ms (Views: 130.4ms | ActiveRecord: 18.5ms | Allocations: 23678)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:04:02 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (19.87ms)
Completed 201 Created in 41ms (Views: 22.5ms | ActiveRecord: 9.6ms | Allocations: 8511)


Started PATCH "/carts/1" for 127.0.0.1 at 2023-07-01 11:04:02 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"1"}
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (5.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (2.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (11.7ms)
Completed 200 OK in 48ms (Views: 10.2ms | ActiveRecord: 17.9ms | Allocations: 6702)


Started PATCH "/carts/2" for 127.0.0.1 at 2023-07-01 11:04:02 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"2"}
  [1m[36mCart Load (1.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (5.86ms)
Completed 200 OK in 24ms (Views: 5.9ms | ActiveRecord: 4.7ms | Allocations: 3831)


Started PATCH "/carts/3" for 127.0.0.1 at 2023-07-01 11:04:02 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"3"}
  [1m[36mCart Load (0.8ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (8.18ms)
Completed 200 OK in 30ms (Views: 9.1ms | ActiveRecord: 5.1ms | Allocations: 3685)


Started PATCH "/carts/4" for 127.0.0.1 at 2023-07-01 11:04:02 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"4"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (5.69ms)
Completed 200 OK in 16ms (Views: 6.2ms | ActiveRecord: 1.7ms | Allocations: 3686)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:04:02 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (18.78ms)
Completed 201 Created in 27ms (Views: 21.2ms | ActiveRecord: 2.7ms | Allocations: 5628)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:04:02 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (1.1ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.9ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (23.18ms)
Completed 201 Created in 52ms (Views: 44.0ms | ActiveRecord: 3.6ms | Allocations: 7576)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:04:02 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (2.8ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (32.73ms)
Completed 201 Created in 49ms (Views: 38.3ms | ActiveRecord: 4.7ms | Allocations: 5626)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:04:02 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (3.0ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (20.84ms)
Completed 201 Created in 31ms (Views: 23.3ms | ActiveRecord: 4.9ms | Allocations: 5625)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 11:04:38 +0100
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 11:04:38 +0100
Processing by CustomersController#logged_in as */*
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers]   [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
Started GET "/products" for 127.0.0.1 at 2023-07-01 11:04:38 +0100
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
Processing by BakersController#logged_in as */*
[active_model_serializers]   [1m[36mDiscount Load (0.3ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.7ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCustomerAddress Load (0.5ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   [1m[36mStripeCustomer Load (0.3ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBaker Load (0.4ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers]   [1m[36mOrder Load (0.9ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered CustomerSerializer with ActiveModelSerializers::Adapter::Attributes (38.83ms)
Completed 201 Created in 52ms (Views: 46.1ms | ActiveRecord: 2.6ms | Allocations: 4863)


[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers] Rendered BakerSerializer with ActiveModelSerializers::Adapter::Attributes (1.19ms)
Completed 201 Created in 56ms (Views: 3.3ms | ActiveRecord: 7.6ms | Allocations: 4691)


[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.8ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.6ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.5ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.1ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.1ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:04:38 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (129.98ms)
Completed 200 OK in 135ms (Views: 128.6ms | ActiveRecord: 5.9ms | Allocations: 20828)


[active_model_serializers]   [1m[36mLineItem Load (1.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.9ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (28.88ms)
Completed 201 Created in 42ms (Views: 34.7ms | ActiveRecord: 5.3ms | Allocations: 5625)


Started PATCH "/carts/1" for 127.0.0.1 at 2023-07-01 11:04:38 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"1"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
Started PATCH "/carts/2" for 127.0.0.1 at 2023-07-01 11:04:38 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"2"}
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (17.93ms)
Completed 200 OK in 42ms (Views: 18.7ms | ActiveRecord: 2.9ms | Allocations: 4600)


  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (4.8ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (3.1ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (1.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (5.48ms)
Completed 200 OK in 33ms (Views: 5.6ms | ActiveRecord: 9.8ms | Allocations: 3828)


Started PATCH "/carts/3" for 127.0.0.1 at 2023-07-01 11:04:38 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"3"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.7ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (1.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (4.45ms)
Completed 200 OK in 24ms (Views: 4.7ms | ActiveRecord: 5.6ms | Allocations: 3682)


Started PATCH "/carts/4" for 127.0.0.1 at 2023-07-01 11:04:38 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"4"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (3.55ms)
Completed 200 OK in 25ms (Views: 4.0ms | ActiveRecord: 1.8ms | Allocations: 3682)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:04:38 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (2.9ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (25.46ms)
Completed 201 Created in 31ms (Views: 22.8ms | ActiveRecord: 6.2ms | Allocations: 5626)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:04:38 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.7ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (1.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (3.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (3.9ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (5.9ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (44.01ms)
Completed 201 Created in 55ms (Views: 36.6ms | ActiveRecord: 15.5ms | Allocations: 5626)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:04:38 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (1.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (2.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (5.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (22.14ms)
Completed 201 Created in 31ms (Views: 17.0ms | ActiveRecord: 10.1ms | Allocations: 5626)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:04:38 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (6.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (24.26ms)
Completed 201 Created in 30ms (Views: 19.4ms | ActiveRecord: 8.3ms | Allocations: 5625)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 11:06:21 +0100
Started GET "/products" for 127.0.0.1 at 2023-07-01 11:06:21 +0100
Processing by CustomersController#logged_in as */*
Processing by ProductsController#index as HTML
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 11:06:21 +0100
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers]   [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
Processing by BakersController#logged_in as */*
  [1m[36mBaker Load (0.2ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers]   [1m[36mCustomerAddress Load (0.7ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
  [1m[36mProduct Load (1.7ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
[active_model_serializers] Rendered BakerSerializer with ActiveModelSerializers::Adapter::Attributes (0.31ms)
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
  ↳ app/controllers/products_controller.rb:8:in `index'
Completed 201 Created in 5ms (Views: 1.9ms | ActiveRecord: 0.2ms | Allocations: 1339)


[active_model_serializers]   [1m[36mStripeCustomer Load (0.7ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mDiscount Load (7.3ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (6.3ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mProductImage Load (4.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers] Rendered CustomerSerializer with ActiveModelSerializers::Adapter::Attributes (53.04ms)
Completed 201 Created in 56ms (Views: 51.3ms | ActiveRecord: 2.6ms | Allocations: 4850)


[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (5.6ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.6ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (4.7ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.1ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.5ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (4.1ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.1ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (146.76ms)
Completed 200 OK in 160ms (Views: 123.3ms | ActiveRecord: 36.7ms | Allocations: 22563)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:06:21 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (1.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (2.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (5.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.9ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (20.75ms)
Completed 201 Created in 33ms (Views: 16.2ms | ActiveRecord: 10.8ms | Allocations: 5625)


Started PATCH "/carts/1" for 127.0.0.1 at 2023-07-01 11:06:21 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"1"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.8ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (3.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (7.29ms)
Completed 200 OK in 27ms (Views: 4.6ms | ActiveRecord: 8.8ms | Allocations: 3682)


Started PATCH "/carts/2" for 127.0.0.1 at 2023-07-01 11:06:21 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"2"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (1.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (3.77ms)
Completed 200 OK in 13ms (Views: 3.1ms | ActiveRecord: 2.3ms | Allocations: 3682)


Started PATCH "/carts/3" for 127.0.0.1 at 2023-07-01 11:06:21 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"3"}
  [1m[36mCart Load (0.8ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (3.67ms)
Completed 200 OK in 16ms (Views: 3.7ms | ActiveRecord: 2.5ms | Allocations: 3685)


Started PATCH "/carts/4" for 127.0.0.1 at 2023-07-01 11:06:21 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"4"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (10.5ms)
Completed 200 OK in 22ms (Views: 10.8ms | ActiveRecord: 1.8ms | Allocations: 3682)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:06:21 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (2.1ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.8ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (12.09ms)
Completed 201 Created in 22ms (Views: 15.1ms | ActiveRecord: 3.7ms | Allocations: 5626)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:06:21 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (3.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (3.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (27.52ms)
Completed 201 Created in 37ms (Views: 23.9ms | ActiveRecord: 10.5ms | Allocations: 5626)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:06:21 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (1.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (5.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (24.51ms)
Completed 201 Created in 37ms (Views: 26.5ms | ActiveRecord: 8.2ms | Allocations: 5626)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:06:22 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (2.1ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (2.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (2.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (33.25ms)
Completed 201 Created in 43ms (Views: 31.5ms | ActiveRecord: 8.9ms | Allocations: 5625)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 11:07:52 +0100
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 11:07:52 +0100
Started GET "/products" for 127.0.0.1 at 2023-07-01 11:07:52 +0100
Processing by CustomersController#logged_in as */*
Processing by ProductsController#index as HTML
Processing by BakersController#logged_in as */*
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  [1m[36mBaker Load (0.3ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered BakerSerializer with ActiveModelSerializers::Adapter::Attributes (0.3ms)
Completed 201 Created in 3ms (Views: 0.9ms | ActiveRecord: 0.3ms | Allocations: 834)


[active_model_serializers]   [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   [1m[36mDiscount Load (0.2ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mVariantGroup Load (2.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCustomerAddress Load (5.3ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   [1m[36mStripeCustomer Load (0.3ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mOrder Load (4.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers] Rendered CustomerSerializer with ActiveModelSerializers::Adapter::Attributes (21.34ms)
Completed 201 Created in 25ms (Views: 12.1ms | ActiveRecord: 10.4ms | Allocations: 4805)


[active_model_serializers]   [1m[36mProductImage Load (0.8ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.6ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.1ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.7ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.3ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.1ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (96.84ms)
Completed 200 OK in 100ms (Views: 93.4ms | ActiveRecord: 6.2ms | Allocations: 20806)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:07:52 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (4.9ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.8ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (2.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (38.16ms)
Completed 201 Created in 57ms (Views: 40.9ms | ActiveRecord: 9.2ms | Allocations: 5626)


Started PATCH "/carts/1" for 127.0.0.1 at 2023-07-01 11:07:52 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"1"}
  [1m[36mCart Load (1.0ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (5.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (1.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
Started PATCH "/carts/2" for 127.0.0.1 at 2023-07-01 11:07:52 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"2"}
  [1m[36mCart Load (0.9ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
  [1m[36mCustomer Load (2.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (19.75ms)
Completed 200 OK in 49ms (Views: 25.3ms | ActiveRecord: 9.5ms | Allocations: 3692)


  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (3.92ms)
Completed 200 OK in 25ms (Views: 4.2ms | ActiveRecord: 5.7ms | Allocations: 3682)


Started PATCH "/carts/3" for 127.0.0.1 at 2023-07-01 11:07:52 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"3"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (1.1ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
Started PATCH "/carts/4" for 127.0.0.1 at 2023-07-01 11:07:52 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"4"}
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[31mUnpermitted parameter: :id[0m
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (5.37ms)
Completed 200 OK in 23ms (Views: 5.8ms | ActiveRecord: 5.4ms | Allocations: 3693)


  [1m[36mTRANSACTION (5.9ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (1.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (6.86ms)
Completed 200 OK in 26ms (Views: 5.7ms | ActiveRecord: 9.2ms | Allocations: 3682)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:07:53 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (2.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (17.68ms)
Completed 201 Created in 24ms (Views: 16.9ms | ActiveRecord: 5.4ms | Allocations: 5626)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:07:53 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (2.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (2.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (29.85ms)
Completed 201 Created in 38ms (Views: 27.8ms | ActiveRecord: 8.1ms | Allocations: 5625)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:07:53 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (1.9ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (7.9ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (3.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (2.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (22.16ms)
Completed 201 Created in 42ms (Views: 21.6ms | ActiveRecord: 16.5ms | Allocations: 5625)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:07:53 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.8ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (19.07ms)
Completed 201 Created in 27ms (Views: 20.5ms | ActiveRecord: 2.5ms | Allocations: 5625)


Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 11:08:12 +0100
Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 11:08:12 +0100
Started GET "/products" for 127.0.0.1 at 2023-07-01 11:08:12 +0100
Processing by CustomersController#logged_in as */*
Processing by BakersController#logged_in as */*
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
  ↳ app/controllers/products_controller.rb:8:in `index'
  [1m[36mBaker Load (0.3ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers]   [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   [1m[36mDiscount Load (0.3ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers] Rendered BakerSerializer with ActiveModelSerializers::Adapter::Attributes (0.45ms)
Completed 201 Created in 12ms (Views: 3.5ms | ActiveRecord: 0.3ms | Allocations: 838)


[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (1.5ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCustomerAddress Load (4.0ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mStripeCustomer Load (1.5ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.1ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mOrder Load (2.8ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers] Rendered CustomerSerializer with ActiveModelSerializers::Adapter::Attributes (40.55ms)
Completed 201 Created in 45ms (Views: 33.0ms | ActiveRecord: 9.1ms | Allocations: 4799)


[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.8ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.7ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (1.1ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.1ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (128.31ms)
Completed 200 OK in 132ms (Views: 123.9ms | ActiveRecord: 7.7ms | Allocations: 20818)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:08:12 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (1.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.9ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (23.15ms)
Completed 201 Created in 36ms (Views: 27.8ms | ActiveRecord: 4.0ms | Allocations: 5625)


Started PATCH "/carts/1" for 127.0.0.1 at 2023-07-01 11:08:12 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"1"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (3.91ms)
Completed 200 OK in 14ms (Views: 4.6ms | ActiveRecord: 1.6ms | Allocations: 3682)


Started PATCH "/carts/2" for 127.0.0.1 at 2023-07-01 11:08:12 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"2"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (2.1ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (3.71ms)
Completed 200 OK in 20ms (Views: 4.2ms | ActiveRecord: 5.6ms | Allocations: 3686)


Started PATCH "/carts/3" for 127.0.0.1 at 2023-07-01 11:08:12 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"3"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (3.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
Started PATCH "/carts/4" for 127.0.0.1 at 2023-07-01 11:08:12 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"4"}
[active_model_serializers]   [1m[36mLineItem Load (2.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
  [1m[36mCart Load (1.8ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (23.46ms)
Completed 200 OK in 43ms (Views: 21.6ms | ActiveRecord: 12.0ms | Allocations: 3685)


  [1m[36mCustomer Load (2.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (4.17ms)
Completed 200 OK in 31ms (Views: 4.5ms | ActiveRecord: 7.7ms | Allocations: 3682)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:08:12 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (2.9ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (2.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.9ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (22.77ms)
Completed 201 Created in 38ms (Views: 26.0ms | ActiveRecord: 8.4ms | Allocations: 5625)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:08:12 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (20.09ms)
Completed 201 Created in 29ms (Views: 23.1ms | ActiveRecord: 2.1ms | Allocations: 5625)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:08:12 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (24.14ms)
Completed 201 Created in 33ms (Views: 27.1ms | ActiveRecord: 3.1ms | Allocations: 5626)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:08:12 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (3.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (4.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (19.23ms)
Completed 201 Created in 25ms (Views: 14.3ms | ActiveRecord: 8.5ms | Allocations: 5625)


Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 11:09:07 +0100
Started GET "/products" for 127.0.0.1 at 2023-07-01 11:09:07 +0100
Processing by BakersController#logged_in as */*
Processing by ProductsController#index as HTML
  [1m[36mBaker Load (0.4ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 11:09:07 +0100
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
Processing by CustomersController#logged_in as */*
[active_model_serializers] Rendered BakerSerializer with ActiveModelSerializers::Adapter::Attributes (0.32ms)
Completed 201 Created in 4ms (Views: 1.0ms | ActiveRecord: 0.4ms | Allocations: 845)


  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (2.8ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.4ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.7ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCustomer Load (0.8ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mProductImage Load (3.0ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCustomerAddress Load (1.9ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mStripeCustomer Load (0.5ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mProductImage Load (2.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mOrder Load (2.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers] Rendered CustomerSerializer with ActiveModelSerializers::Adapter::Attributes (38.13ms)
Completed 201 Created in 80ms (Views: 34.0ms | ActiveRecord: 21.2ms | Allocations: 16328)


[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.7ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.1ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (5.5ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.1ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (137.45ms)
Completed 200 OK in 144ms (Views: 124.6ms | ActiveRecord: 18.6ms | Allocations: 29036)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:09:07 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.7ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (1.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (2.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (4.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (4.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (30.6ms)
Completed 201 Created in 41ms (Views: 23.3ms | ActiveRecord: 14.5ms | Allocations: 5625)


Started PATCH "/carts/1" for 127.0.0.1 at 2023-07-01 11:09:07 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"1"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (1.8ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (11.22ms)
Completed 200 OK in 31ms (Views: 11.9ms | ActiveRecord: 5.8ms | Allocations: 3682)


Started PATCH "/carts/2" for 127.0.0.1 at 2023-07-01 11:09:07 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"2"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (7.49ms)
Completed 200 OK in 22ms (Views: 9.6ms | ActiveRecord: 1.4ms | Allocations: 3682)


Started PATCH "/carts/3" for 127.0.0.1 at 2023-07-01 11:09:07 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"3"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (3.95ms)
Completed 200 OK in 17ms (Views: 4.4ms | ActiveRecord: 1.4ms | Allocations: 3682)


Started PATCH "/carts/4" for 127.0.0.1 at 2023-07-01 11:09:07 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"4"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (2.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (8.38ms)
Completed 200 OK in 21ms (Views: 6.8ms | ActiveRecord: 4.1ms | Allocations: 3682)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:09:07 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (3.1ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.9ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (17.66ms)
Completed 201 Created in 29ms (Views: 18.8ms | ActiveRecord: 6.8ms | Allocations: 5625)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:09:07 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (25.68ms)
Completed 201 Created in 36ms (Views: 28.9ms | ActiveRecord: 3.0ms | Allocations: 5627)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:09:07 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (5.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (2.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (16.69ms)
Completed 201 Created in 28ms (Views: 14.7ms | ActiveRecord: 10.5ms | Allocations: 5625)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:09:07 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (2.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (16.63ms)
Completed 201 Created in 27ms (Views: 19.6ms | ActiveRecord: 5.3ms | Allocations: 5626)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 11:10:18 +0100
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 11:10:18 +0100
Processing by BakersController#logged_in as */*
Started GET "/products" for 127.0.0.1 at 2023-07-01 11:10:18 +0100
Processing by ProductsController#index as HTML
  [1m[36mBaker Load (1.0ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered BakerSerializer with ActiveModelSerializers::Adapter::Attributes (0.37ms)
Processing by CustomersController#logged_in as */*
Completed 201 Created in 6ms (Views: 1.1ms | ActiveRecord: 1.0ms | Allocations: 839)


  [1m[36mProduct Load (4.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
  [1m[36mCustomer Load (0.8ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers]   [1m[36mDiscount Load (7.9ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCart Load (1.0ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mVariantGroup Load (8.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCustomerAddress Load (1.3ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mProductImage Load (3.9ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   [1m[36mStripeCustomer Load (0.4ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mOrder Load (1.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers] Rendered CustomerSerializer with ActiveModelSerializers::Adapter::Attributes (45.16ms)
Completed 201 Created in 57ms (Views: 41.6ms | ActiveRecord: 5.0ms | Allocations: 12810)


[active_model_serializers]   [1m[36mProductImage Load (3.8ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.6ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.1ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (1.8ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (106.82ms)
Completed 200 OK in 115ms (Views: 82.7ms | ActiveRecord: 32.0ms | Allocations: 26054)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:10:18 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (2.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (2.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (2.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (2.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (26.83ms)
Completed 201 Created in 38ms (Views: 23.9ms | ActiveRecord: 9.4ms | Allocations: 5625)


Started PATCH "/carts/1" for 127.0.0.1 at 2023-07-01 11:10:18 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"1"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (4.35ms)
Completed 200 OK in 16ms (Views: 5.9ms | ActiveRecord: 1.2ms | Allocations: 3682)


Started PATCH "/carts/2" for 127.0.0.1 at 2023-07-01 11:10:18 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"2"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.9ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (4.69ms)
Completed 200 OK in 22ms (Views: 5.3ms | ActiveRecord: 2.2ms | Allocations: 3682)


Started PATCH "/carts/3" for 127.0.0.1 at 2023-07-01 11:10:18 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"3"}
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (1.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (6.46ms)
Completed 200 OK in 29ms (Views: 7.2ms | ActiveRecord: 4.6ms | Allocations: 3686)


Started PATCH "/carts/4" for 127.0.0.1 at 2023-07-01 11:10:18 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"4"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (6.88ms)
Completed 200 OK in 19ms (Views: 7.6ms | ActiveRecord: 1.3ms | Allocations: 3682)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:10:18 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (2.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (21.48ms)
Completed 201 Created in 31ms (Views: 24.7ms | ActiveRecord: 3.8ms | Allocations: 5625)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:10:18 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (3.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (31.16ms)
Completed 201 Created in 40ms (Views: 30.9ms | ActiveRecord: 6.2ms | Allocations: 5625)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:10:18 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (27.39ms)
Completed 201 Created in 38ms (Views: 30.8ms | ActiveRecord: 3.7ms | Allocations: 5625)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:10:19 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (1.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (3.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (27.88ms)
Completed 201 Created in 35ms (Views: 26.4ms | ActiveRecord: 5.9ms | Allocations: 5625)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 11:10:55 +0100
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 11:10:55 +0100
Processing by CustomersController#logged_in as */*
Processing by BakersController#logged_in as */*
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Started GET "/products" for 127.0.0.1 at 2023-07-01 11:10:55 +0100
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
Processing by ProductsController#index as HTML
  [1m[36mBaker Load (1.3ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers]   [1m[36mCart Load (1.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers] Rendered BakerSerializer with ActiveModelSerializers::Adapter::Attributes (1.38ms)
Completed 201 Created in 15ms (Views: 9.8ms | ActiveRecord: 1.3ms | Allocations: 2814)


[active_model_serializers]   [1m[36mCustomerAddress Load (0.5ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mStripeCustomer Load (2.8ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mDiscount Load (0.5ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.4ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.5ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   [1m[36mOrder Load (2.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers] Rendered CustomerSerializer with ActiveModelSerializers::Adapter::Attributes (35.63ms)
Completed 201 Created in 39ms (Views: 29.1ms | ActiveRecord: 7.3ms | Allocations: 4807)


[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.7ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.7ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.1ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.9ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.9ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (1.8ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.1ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (102.83ms)
Completed 200 OK in 123ms (Views: 104.2ms | ActiveRecord: 18.3ms | Allocations: 24616)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:10:55 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (23.56ms)
Completed 201 Created in 34ms (Views: 29.2ms | ActiveRecord: 2.4ms | Allocations: 5625)


Started PATCH "/carts/1" for 127.0.0.1 at 2023-07-01 11:10:55 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"1"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (4.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (1.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (3.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (7.78ms)
Completed 200 OK in 29ms (Views: 5.5ms | ActiveRecord: 10.2ms | Allocations: 3682)


Started PATCH "/carts/2" for 127.0.0.1 at 2023-07-01 11:10:55 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"2"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (1.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (11.67ms)
Completed 200 OK in 26ms (Views: 11.3ms | ActiveRecord: 2.1ms | Allocations: 3682)


Started PATCH "/carts/3" for 127.0.0.1 at 2023-07-01 11:10:55 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"3"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (2.91ms)
Completed 200 OK in 17ms (Views: 3.4ms | ActiveRecord: 2.1ms | Allocations: 3682)


Started PATCH "/carts/4" for 127.0.0.1 at 2023-07-01 11:10:55 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"4"}
  [1m[36mCart Load (1.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (5.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (5.56ms)
Completed 200 OK in 32ms (Views: 6.5ms | ActiveRecord: 10.5ms | Allocations: 3682)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:10:55 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.9ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (26.66ms)
Completed 201 Created in 41ms (Views: 28.6ms | ActiveRecord: 3.7ms | Allocations: 5625)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:10:55 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (3.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (22.19ms)
Completed 201 Created in 33ms (Views: 23.2ms | ActiveRecord: 6.6ms | Allocations: 5626)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:10:55 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.8ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (2.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (23.16ms)
Completed 201 Created in 33ms (Views: 24.9ms | ActiveRecord: 5.6ms | Allocations: 5655)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:10:56 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (15.48ms)
Completed 201 Created in 24ms (Views: 17.1ms | ActiveRecord: 2.4ms | Allocations: 5626)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 11:11:41 +0100
Processing by CustomersController#logged_in as */*
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 11:11:41 +0100
Processing by BakersController#logged_in as */*
Started GET "/products" for 127.0.0.1 at 2023-07-01 11:11:41 +0100
  [1m[36mCustomer Load (3.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Processing by ProductsController#index as HTML
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
  [1m[36mBaker Load (2.8ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers]   [1m[36mDiscount Load (0.8ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers] Rendered BakerSerializer with ActiveModelSerializers::Adapter::Attributes (0.35ms)
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
Completed 201 Created in 10ms (Views: 1.2ms | ActiveRecord: 2.8ms | Allocations: 1556)


[active_model_serializers]   [1m[36mCart Load (6.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   [1m[36mVariantGroup Load (0.3ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mProductImage Load (1.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCustomerAddress Load (2.1ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   [1m[36mStripeCustomer Load (1.0ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mOrder Load (1.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered CustomerSerializer with ActiveModelSerializers::Adapter::Attributes (48.84ms)
Completed 201 Created in 58ms (Views: 38.9ms | ActiveRecord: 13.9ms | Allocations: 6611)


[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (2.5ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (1.6ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.1ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (148.62ms)
Completed 200 OK in 154ms (Views: 144.9ms | ActiveRecord: 9.2ms | Allocations: 20807)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:11:41 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (5.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (2.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (31.76ms)
Completed 201 Created in 40ms (Views: 28.5ms | ActiveRecord: 9.2ms | Allocations: 5625)


Started PATCH "/carts/1" for 127.0.0.1 at 2023-07-01 11:11:42 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"1"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (1.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (1.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (12.04ms)
Completed 200 OK in 32ms (Views: 13.2ms | ActiveRecord: 6.7ms | Allocations: 3683)


Started PATCH "/carts/2" for 127.0.0.1 at 2023-07-01 11:11:42 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"2"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.8ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (2.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (6.2ms)
Completed 200 OK in 36ms (Views: 5.2ms | ActiveRecord: 4.0ms | Allocations: 3686)


Started PATCH "/carts/3" for 127.0.0.1 at 2023-07-01 11:11:42 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"3"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (1.9ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
Started PATCH "/carts/4" for 127.0.0.1 at 2023-07-01 11:11:42 +0100
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"4"}
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (5.91ms)
Completed 200 OK in 21ms (Views: 6.1ms | ActiveRecord: 4.8ms | Allocations: 3692)


  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.7ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (1.9ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (7.65ms)
Completed 200 OK in 24ms (Views: 6.7ms | ActiveRecord: 4.2ms | Allocations: 3682)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:11:42 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.7ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (23.27ms)
Completed 201 Created in 32ms (Views: 25.3ms | ActiveRecord: 3.2ms | Allocations: 5626)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:11:42 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (16.2ms)
Completed 201 Created in 24ms (Views: 20.0ms | ActiveRecord: 2.1ms | Allocations: 5625)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:11:42 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (2.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (21.31ms)
Completed 201 Created in 30ms (Views: 22.8ms | ActiveRecord: 4.3ms | Allocations: 5627)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:11:42 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (2.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (16.94ms)
Completed 201 Created in 27ms (Views: 16.7ms | ActiveRecord: 5.0ms | Allocations: 5625)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 11:15:36 +0100
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 11:15:36 +0100
Processing by CustomersController#logged_in as */*
Processing by BakersController#logged_in as */*
  [1m[36mCustomer Load (1.9ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
Started GET "/products" for 127.0.0.1 at 2023-07-01 11:15:36 +0100
Processing by ProductsController#index as HTML
[active_model_serializers]   [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
  [1m[36mBaker Load (3.7ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers]   [1m[36mCustomerAddress Load (0.4ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers] Rendered BakerSerializer with ActiveModelSerializers::Adapter::Attributes (0.47ms)
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
Completed 201 Created in 16ms (Views: 1.3ms | ActiveRecord: 3.7ms | Allocations: 2386)


[active_model_serializers]   [1m[36mStripeCustomer Load (2.0ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mOrder Load (1.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mDiscount Load (0.4ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers] Rendered CustomerSerializer with ActiveModelSerializers::Adapter::Attributes (35.32ms)
Completed 201 Created in 42ms (Views: 31.7ms | ActiveRecord: 6.1ms | Allocations: 4805)


[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.5ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.0ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (2.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.8ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.6ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.1ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (93.63ms)
Completed 200 OK in 126ms (Views: 106.9ms | ActiveRecord: 18.7ms | Allocations: 24626)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:15:36 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (3.0ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (2.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (3.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (24.69ms)
Completed 201 Created in 39ms (Views: 20.1ms | ActiveRecord: 11.2ms | Allocations: 5625)


Started PATCH "/carts/1" for 127.0.0.1 at 2023-07-01 11:15:36 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"1"}
  [1m[36mCart Load (3.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (6.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (16.75ms)
Completed 200 OK in 44ms (Views: 12.9ms | ActiveRecord: 12.4ms | Allocations: 3713)


Started PATCH "/carts/2" for 127.0.0.1 at 2023-07-01 11:15:36 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"2"}
  [1m[36mCart Load (2.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (6.11ms)
Completed 200 OK in 23ms (Views: 7.2ms | ActiveRecord: 4.6ms | Allocations: 3682)


Started PATCH "/carts/3" for 127.0.0.1 at 2023-07-01 11:15:36 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"3"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (2.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (3.71ms)
Completed 200 OK in 18ms (Views: 4.3ms | ActiveRecord: 4.6ms | Allocations: 3682)


Started PATCH "/carts/4" for 127.0.0.1 at 2023-07-01 11:15:36 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"4"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (3.76ms)
Completed 200 OK in 15ms (Views: 4.1ms | ActiveRecord: 1.2ms | Allocations: 3683)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:15:36 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (2.9ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (2.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (3.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (31.06ms)
Completed 201 Created in 41ms (Views: 27.7ms | ActiveRecord: 11.2ms | Allocations: 5625)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:15:36 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (1.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (2.9ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (3.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (19.2ms)
Completed 201 Created in 32ms (Views: 22.0ms | ActiveRecord: 8.1ms | Allocations: 5625)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:15:36 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (8.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (5.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (28.11ms)
Completed 201 Created in 33ms (Views: 15.2ms | ActiveRecord: 16.3ms | Allocations: 5625)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:15:36 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (1.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (14.62ms)
Completed 201 Created in 22ms (Views: 16.1ms | ActiveRecord: 2.7ms | Allocations: 5626)


Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 11:15:57 +0100
Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 11:15:57 +0100
Processing by BakersController#logged_in as */*
Processing by CustomersController#logged_in as */*
Started GET "/products" for 127.0.0.1 at 2023-07-01 11:15:57 +0100
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers]   [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  [1m[36mBaker Load (0.7ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered BakerSerializer with ActiveModelSerializers::Adapter::Attributes (0.46ms)
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
Completed 201 Created in 11ms (Views: 3.5ms | ActiveRecord: 0.7ms | Allocations: 837)


Processing by ProductsController#index as HTML
[active_model_serializers]   [1m[36mCustomerAddress Load (1.0ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mStripeCustomer Load (1.8ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
  [1m[36mProduct Load (3.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mOrder Load (5.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers] Rendered CustomerSerializer with ActiveModelSerializers::Adapter::Attributes (30.99ms)
Completed 201 Created in 34ms (Views: 23.2ms | ActiveRecord: 8.8ms | Allocations: 6123)


[active_model_serializers]   [1m[36mDiscount Load (0.5ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (0.8ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.6ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (7.1ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (3.0ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.5ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.1ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.1ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (118.84ms)
Completed 200 OK in 131ms (Views: 112.6ms | ActiveRecord: 17.6ms | Allocations: 23810)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:15:57 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (1.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (3.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.9ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (5.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (36.01ms)
Completed 201 Created in 44ms (Views: 29.6ms | ActiveRecord: 11.8ms | Allocations: 5628)


Started PATCH "/carts/1" for 127.0.0.1 at 2023-07-01 11:15:57 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"1"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (4.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (6.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (13.32ms)
Completed 200 OK in 37ms (Views: 8.6ms | ActiveRecord: 13.6ms | Allocations: 3682)


Started PATCH "/carts/2" for 127.0.0.1 at 2023-07-01 11:15:57 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"2"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (8.85ms)
Completed 200 OK in 26ms (Views: 9.1ms | ActiveRecord: 2.2ms | Allocations: 3682)


Started PATCH "/carts/3" for 127.0.0.1 at 2023-07-01 11:15:57 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"3"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.8ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (4.57ms)
Completed 200 OK in 18ms (Views: 5.0ms | ActiveRecord: 1.9ms | Allocations: 3682)


Started PATCH "/carts/4" for 127.0.0.1 at 2023-07-01 11:15:57 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"4"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (7.13ms)
Completed 200 OK in 24ms (Views: 7.4ms | ActiveRecord: 3.4ms | Allocations: 3684)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:15:57 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.7ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.8ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (2.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (18.5ms)
Completed 201 Created in 28ms (Views: 18.8ms | ActiveRecord: 5.6ms | Allocations: 5625)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:15:57 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (1.1ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (1.7ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (3.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (16.72ms)
Completed 201 Created in 26ms (Views: 15.0ms | ActiveRecord: 7.4ms | Allocations: 5625)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:15:57 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (14.85ms)
Completed 201 Created in 20ms (Views: 16.8ms | ActiveRecord: 1.6ms | Allocations: 5625)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:15:57 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (14.64ms)
Completed 201 Created in 22ms (Views: 16.9ms | ActiveRecord: 2.5ms | Allocations: 5628)


Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 11:17:35 +0100
Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 11:17:35 +0100
Processing by CustomersController#logged_in as */*
Processing by BakersController#logged_in as */*
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBaker Load (0.4ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered BakerSerializer with ActiveModelSerializers::Adapter::Attributes (0.26ms)
Completed 201 Created in 3ms (Views: 0.7ms | ActiveRecord: 0.4ms | Allocations: 844)


[active_model_serializers]   [1m[36mCart Load (4.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mCustomerAddress Load (0.8ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
Started GET "/products" for 127.0.0.1 at 2023-07-01 11:17:35 +0100
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mStripeCustomer Load (3.1ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mDiscount Load (2.7ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mOrder Load (1.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers] Rendered CustomerSerializer with ActiveModelSerializers::Adapter::Attributes (24.91ms)
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
Completed 201 Created in 28ms (Views: 16.5ms | ActiveRecord: 9.7ms | Allocations: 4805)


[active_model_serializers]   [1m[36mVariantGroup Load (1.8ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (2.7ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.0ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.5ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.1ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (3.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.4ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.1ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:17:35 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
  [1m[36mCustomer Load (2.1ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (133.6ms)
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
Completed 200 OK in 137ms (Views: 122.7ms | ActiveRecord: 13.9ms | Allocations: 20807)


  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (19.6ms)
Completed 201 Created in 29ms (Views: 22.6ms | ActiveRecord: 3.4ms | Allocations: 5625)


Started PATCH "/carts/1" for 127.0.0.1 at 2023-07-01 11:17:35 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"1"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (1.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (1.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (12.91ms)
Completed 200 OK in 31ms (Views: 12.0ms | ActiveRecord: 6.9ms | Allocations: 3686)


Started PATCH "/carts/2" for 127.0.0.1 at 2023-07-01 11:17:35 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"2"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (6.72ms)
Completed 200 OK in 23ms (Views: 7.1ms | ActiveRecord: 1.8ms | Allocations: 3682)


Started PATCH "/carts/3" for 127.0.0.1 at 2023-07-01 11:17:35 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"3"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (1.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (4.54ms)
Completed 200 OK in 21ms (Views: 5.5ms | ActiveRecord: 3.0ms | Allocations: 3682)


Started PATCH "/carts/4" for 127.0.0.1 at 2023-07-01 11:17:35 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"4"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (5.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (5.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (8.83ms)
Completed 200 OK in 28ms (Views: 4.4ms | ActiveRecord: 12.1ms | Allocations: 3682)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:17:35 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (1.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (2.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.9ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (31.12ms)
Completed 201 Created in 42ms (Views: 31.0ms | ActiveRecord: 5.7ms | Allocations: 5625)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:17:35 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (1.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.8ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (19.66ms)
Completed 201 Created in 32ms (Views: 21.9ms | ActiveRecord: 4.9ms | Allocations: 5625)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:17:35 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (1.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (3.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (26.06ms)
Completed 201 Created in 37ms (Views: 23.7ms | ActiveRecord: 7.1ms | Allocations: 5625)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:17:35 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (1.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (5.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (20.93ms)
Completed 201 Created in 33ms (Views: 21.5ms | ActiveRecord: 9.6ms | Allocations: 5626)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 11:18:17 +0100
Processing by CustomersController#logged_in as */*
  [1m[36mCustomer Load (0.7ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
[active_model_serializers]   [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mCustomerAddress Load (0.3ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 11:18:17 +0100
Started GET "/products" for 127.0.0.1 at 2023-07-01 11:18:17 +0100
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
Processing by BakersController#logged_in as */*
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
  [1m[36mBaker Load (0.5ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers] Rendered BakerSerializer with ActiveModelSerializers::Adapter::Attributes (0.71ms)
[active_model_serializers]   [1m[36mDiscount Load (1.3ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Completed 201 Created in 8ms (Views: 3.0ms | ActiveRecord: 0.5ms | Allocations: 843)


[active_model_serializers]   [1m[36mStripeCustomer Load (0.4ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   [1m[36mVariantGroup Load (2.7ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers] Rendered CustomerSerializer with ActiveModelSerializers::Adapter::Attributes (30.16ms)
Completed 201 Created in 34ms (Views: 29.2ms | ActiveRecord: 2.1ms | Allocations: 4812)


[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.8ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (2.7ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.7ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.1ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.4ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.1ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (126.21ms)
Completed 200 OK in 131ms (Views: 118.3ms | ActiveRecord: 12.0ms | Allocations: 20807)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:18:18 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (5.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (3.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.9ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (2.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (48.71ms)
Completed 201 Created in 63ms (Views: 47.4ms | ActiveRecord: 12.7ms | Allocations: 5625)


Started PATCH "/carts/1" for 127.0.0.1 at 2023-07-01 11:18:18 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"1"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (5.15ms)
Completed 200 OK in 24ms (Views: 5.6ms | ActiveRecord: 1.7ms | Allocations: 3682)


Started PATCH "/carts/2" for 127.0.0.1 at 2023-07-01 11:18:18 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"2"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.7ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (5.29ms)
Completed 200 OK in 23ms (Views: 6.3ms | ActiveRecord: 2.0ms | Allocations: 3682)


Started PATCH "/carts/3" for 127.0.0.1 at 2023-07-01 11:18:18 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"3"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (6.38ms)
Completed 200 OK in 18ms (Views: 6.9ms | ActiveRecord: 1.5ms | Allocations: 3682)


Started PATCH "/carts/4" for 127.0.0.1 at 2023-07-01 11:18:18 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"4"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (5.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (4.43ms)
Completed 200 OK in 20ms (Views: 4.5ms | ActiveRecord: 8.3ms | Allocations: 3682)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:18:18 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (6.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (19.42ms)
Completed 201 Created in 24ms (Views: 13.8ms | ActiveRecord: 8.5ms | Allocations: 5626)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:18:18 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (1.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (5.9ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (2.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (25.38ms)
Completed 201 Created in 34ms (Views: 21.3ms | ActiveRecord: 10.0ms | Allocations: 5626)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:18:18 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (1.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (2.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (3.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (3.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (19.87ms)
Completed 201 Created in 34ms (Views: 19.8ms | ActiveRecord: 11.1ms | Allocations: 5625)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:18:18 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (1.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (15.35ms)
Completed 201 Created in 23ms (Views: 17.8ms | ActiveRecord: 3.8ms | Allocations: 5625)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 11:19:46 +0100
Processing by CustomersController#logged_in as */*
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 11:19:46 +0100
Processing by BakersController#logged_in as */*
  [1m[36mCustomer Load (9.8ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
  [1m[36mBaker Load (1.2ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
Started GET "/products" for 127.0.0.1 at 2023-07-01 11:19:46 +0100
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
Processing by ProductsController#index as HTML
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers] Rendered BakerSerializer with ActiveModelSerializers::Adapter::Attributes (0.49ms)
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 201 Created in 18ms (Views: 1.3ms | ActiveRecord: 1.2ms | Allocations: 840)


  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCustomerAddress Load (0.5ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mDiscount Load (2.7ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mStripeCustomer Load (0.5ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mVariantGroup Load (2.2ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mOrder Load (2.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers] Rendered CustomerSerializer with ActiveModelSerializers::Adapter::Attributes (24.35ms)
Completed 201 Created in 46ms (Views: 28.0ms | ActiveRecord: 13.2ms | Allocations: 4810)


[active_model_serializers]   [1m[36mProductImage Load (0.6ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (2.6ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (1.2ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (3.9ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (3.2ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.1ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.2ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (129.69ms)
Completed 200 OK in 133ms (Views: 115.1ms | ActiveRecord: 17.7ms | Allocations: 20807)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:19:46 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (25.97ms)
Completed 201 Created in 36ms (Views: 26.2ms | ActiveRecord: 4.4ms | Allocations: 5626)


Started PATCH "/carts/1" for 127.0.0.1 at 2023-07-01 11:19:46 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"1"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
Started PATCH "/carts/2" for 127.0.0.1 at 2023-07-01 11:19:46 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"2"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  ↳ app/controllers/carts_controller.rb:29:in `update'
Started PATCH "/carts/3" for 127.0.0.1 at 2023-07-01 11:19:46 +0100
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"3"}
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (2.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mLineItem Load (0.9ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (14.06ms)
  [1m[36mCustomer Load (1.7ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Started PATCH "/carts/4" for 127.0.0.1 at 2023-07-01 11:19:46 +0100
  ↳ app/controllers/carts_controller.rb:29:in `update'
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"4"}
Completed 200 OK in 49ms (Views: 13.9ms | ActiveRecord: 1.9ms | Allocations: 3936)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (10.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (16.6ms)
Completed 200 OK in 43ms (Views: 7.5ms | ActiveRecord: 16.1ms | Allocations: 7017)


[active_model_serializers]   [1m[36mLineItem Load (9.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (12.98ms)
Completed 200 OK in 37ms (Views: 3.9ms | ActiveRecord: 12.1ms | Allocations: 6225)


  [1m[36mCart Load (0.9ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (4.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (1.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:19:46 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   [1m[36mLineItem Load (2.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (15.38ms)
Completed 200 OK in 66ms (Views: 13.9ms | ActiveRecord: 23.9ms | Allocations: 6761)


[active_model_serializers]   [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.9ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (37.32ms)
Completed 201 Created in 52ms (Views: 44.2ms | ActiveRecord: 4.7ms | Allocations: 5625)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:19:46 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (1.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (1.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (20.24ms)
Completed 201 Created in 32ms (Views: 21.3ms | ActiveRecord: 5.6ms | Allocations: 5625)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:19:46 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (1.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (2.0ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (3.9ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (20.75ms)
Completed 201 Created in 34ms (Views: 21.0ms | ActiveRecord: 9.3ms | Allocations: 5628)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:19:46 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (1.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (18.78ms)
Completed 201 Created in 27ms (Views: 21.1ms | ActiveRecord: 4.0ms | Allocations: 5625)


Started GET "/customers" for 127.0.0.1 at 2023-07-01 11:19:46 +0100
Processing by CustomersController#index as HTML
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
  ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers]   [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
Started GET "/variant_groups" for 127.0.0.1 at 2023-07-01 11:19:46 +0100
Started GET "/discounts" for 127.0.0.1 at 2023-07-01 11:19:46 +0100
Processing by VariantGroupsController#index as HTML
[active_model_serializers]   [1m[36mCustomerAddress Load (16.7ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
  [1m[36mVariantGroup Load (0.4ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups"[0m
[active_model_serializers]   [1m[36mStripeCustomer Load (0.4ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
Processing by DiscountsController#index as HTML
  [1m[36mDiscount Load (0.6ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts"[0m
  ↳ app/controllers/discounts_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   [1m[36mOrder Load (5.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:49:in `index'
[active_model_serializers]   ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (42.22ms)
Completed 200 OK in 45ms (Views: 21.7ms | ActiveRecord: 22.8ms | Allocations: 5086)


[active_model_serializers]   [1m[36mVariantOption Load (0.3ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/variant_groups_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (18.59ms)
Completed 200 OK in 28ms (Views: 26.2ms | ActiveRecord: 1.6ms | Allocations: 3776)


[active_model_serializers]   [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."discount_id" = $1[0m  [["discount_id", 3]]
[active_model_serializers]   ↳ app/controllers/discounts_controller.rb:9:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (13.37ms)
Completed 200 OK in 25ms (Views: 24.0ms | ActiveRecord: 0.9ms | Allocations: 2837)


Started GET "/babel/parser/lib/index.js" for 127.0.0.1 at 2023-07-01 11:22:20 +0100
  
ActionController::RoutingError (No route matches [GET] "/babel/parser/lib/index.js"):
  
Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 11:26:23 +0100
Started GET "/products" for 127.0.0.1 at 2023-07-01 11:26:23 +0100
Processing by CustomersController#logged_in as */*
Processing by ProductsController#index as HTML
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 11:26:23 +0100
Processing by BakersController#logged_in as */*
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
  [1m[36mProduct Load (3.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mDiscount Load (0.9ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
  [1m[36mBaker Load (0.6ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCustomerAddress Load (0.6ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers] Rendered BakerSerializer with ActiveModelSerializers::Adapter::Attributes (0.42ms)
Completed 201 Created in 51ms (Views: 1.2ms | ActiveRecord: 24.8ms | Allocations: 8348)


[active_model_serializers]   [1m[36mVariantGroup Load (1.5ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mStripeCustomer Load (5.4ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mProductImage Load (1.7ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.1ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   [1m[36mProductImage Load (1.6ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered CustomerSerializer with ActiveModelSerializers::Adapter::Attributes (73.0ms)
Completed 201 Created in 91ms (Views: 66.3ms | ActiveRecord: 14.4ms | Allocations: 7664)


[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.9ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.6ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:26:23 +0100
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (123.9ms)
Completed 200 OK in 154ms (Views: 150.4ms | ActiveRecord: 27.3ms | Allocations: 27987)


  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (1.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (34.69ms)
Completed 201 Created in 80ms (Views: 41.8ms | ActiveRecord: 20.0ms | Allocations: 8490)


Started PATCH "/carts/1" for 127.0.0.1 at 2023-07-01 11:26:23 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"1"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (5.2ms)
Completed 200 OK in 27ms (Views: 5.4ms | ActiveRecord: 2.2ms | Allocations: 3685)


Started PATCH "/carts/2" for 127.0.0.1 at 2023-07-01 11:26:23 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"2"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (1.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (6.37ms)
Completed 200 OK in 31ms (Views: 7.6ms | ActiveRecord: 4.0ms | Allocations: 3682)


Started PATCH "/carts/3" for 127.0.0.1 at 2023-07-01 11:26:23 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"3"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (4.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (4.12ms)
Completed 200 OK in 20ms (Views: 4.2ms | ActiveRecord: 6.1ms | Allocations: 3712)


Started PATCH "/carts/4" for 127.0.0.1 at 2023-07-01 11:26:23 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"4"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (1.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (1.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (5.78ms)
Completed 200 OK in 19ms (Views: 4.9ms | ActiveRecord: 5.9ms | Allocations: 3689)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:26:23 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.9ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (19.66ms)
Completed 201 Created in 28ms (Views: 22.5ms | ActiveRecord: 2.6ms | Allocations: 5625)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:26:23 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (1.9ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (4.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (25.33ms)
Completed 201 Created in 40ms (Views: 21.3ms | ActiveRecord: 9.0ms | Allocations: 5625)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:26:23 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (5.0ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (3.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (5.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (20.02ms)
Completed 201 Created in 31ms (Views: 15.1ms | ActiveRecord: 14.3ms | Allocations: 5625)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:26:23 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (13.31ms)
Completed 201 Created in 20ms (Views: 14.8ms | ActiveRecord: 1.8ms | Allocations: 5625)


Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 11:26:59 +0100
Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 11:26:59 +0100
Processing by BakersController#logged_in as */*
Processing by CustomersController#logged_in as */*
  [1m[36mBaker Load (0.4ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Started GET "/products" for 127.0.0.1 at 2023-07-01 11:26:59 +0100
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
Processing by ProductsController#index as HTML
[active_model_serializers] Rendered BakerSerializer with ActiveModelSerializers::Adapter::Attributes (0.3ms)
Completed 201 Created in 4ms (Views: 1.0ms | ActiveRecord: 0.4ms | Allocations: 849)


  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mDiscount Load (0.5ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   [1m[36mVariantGroup Load (0.3ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.1ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCustomerAddress Load (1.2ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mStripeCustomer Load (0.7ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.2ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mOrder Load (1.8ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   [1m[36mProductImage Load (0.5ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers] Rendered CustomerSerializer with ActiveModelSerializers::Adapter::Attributes (29.29ms)
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
Completed 201 Created in 37ms (Views: 26.2ms | ActiveRecord: 4.3ms | Allocations: 4816)


[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (7.7ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (6.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (2.9ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (143.67ms)
Completed 200 OK in 150ms (Views: 129.2ms | ActiveRecord: 20.6ms | Allocations: 20819)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:26:59 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.7ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (2.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (5.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (26.24ms)
Completed 201 Created in 47ms (Views: 35.0ms | ActiveRecord: 9.3ms | Allocations: 5626)


Started PATCH "/carts/1" for 127.0.0.1 at 2023-07-01 11:26:59 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"1"}
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (1.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (7.64ms)
Completed 200 OK in 34ms (Views: 8.9ms | ActiveRecord: 3.4ms | Allocations: 3682)


Started PATCH "/carts/2" for 127.0.0.1 at 2023-07-01 11:26:59 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"2"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (1.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (10.16ms)
Completed 200 OK in 27ms (Views: 10.2ms | ActiveRecord: 3.1ms | Allocations: 3682)


Started PATCH "/carts/3" for 127.0.0.1 at 2023-07-01 11:26:59 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"3"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (2.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
Started PATCH "/carts/4" for 127.0.0.1 at 2023-07-01 11:26:59 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"4"}
[active_model_serializers]   [1m[36mLineItem Load (2.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[31mUnpermitted parameter: :id[0m
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (7.77ms)
Completed 200 OK in 26ms (Views: 5.9ms | ActiveRecord: 7.0ms | Allocations: 3682)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (2.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (3.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (8.22ms)
Completed 200 OK in 26ms (Views: 5.4ms | ActiveRecord: 6.6ms | Allocations: 3683)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:26:59 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (16.04ms)
Completed 201 Created in 27ms (Views: 16.7ms | ActiveRecord: 2.5ms | Allocations: 5625)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:26:59 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (4.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (2.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (2.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (2.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (20.76ms)
Completed 201 Created in 30ms (Views: 14.8ms | ActiveRecord: 13.5ms | Allocations: 5625)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:26:59 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (4.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (28.95ms)
Completed 201 Created in 34ms (Views: 24.3ms | ActiveRecord: 8.1ms | Allocations: 5626)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:26:59 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (23.55ms)
Completed 201 Created in 37ms (Views: 32.8ms | ActiveRecord: 1.6ms | Allocations: 5626)


Started GET "/customer-logged-in" for 127.0.0.1 at 2023-07-01 11:27:28 +0100
Started GET "/baker-logged-in" for 127.0.0.1 at 2023-07-01 11:27:28 +0100
Processing by CustomersController#logged_in as */*
Processing by BakersController#logged_in as */*
  [1m[36mBaker Load (0.4ms)[0m  [1m[34mSELECT "bakers".* FROM "bakers" WHERE "bakers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Started GET "/products" for 127.0.0.1 at 2023-07-01 11:27:28 +0100
  ↳ app/controllers/bakers_controller.rb:17:in `logged_in'
Processing by ProductsController#index as HTML
[active_model_serializers] Rendered BakerSerializer with ActiveModelSerializers::Adapter::Attributes (0.28ms)
Completed 201 Created in 4ms (Views: 0.9ms | ActiveRecord: 0.4ms | Allocations: 851)


  [1m[36mCustomer Load (3.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:17:in `logged_in'
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCart Load (2.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mDiscount Load (3.5ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantGroup Load (1.3ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCustomerAddress Load (2.4ms)[0m  [1m[34mSELECT "customer_addresses".* FROM "customer_addresses" WHERE "customer_addresses"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   [1m[36mProductImage Load (1.3ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mStripeCustomer Load (4.7ms)[0m  [1m[34mSELECT "stripe_customers".* FROM "stripe_customers" WHERE "stripe_customers"."customer_id" = $1 LIMIT $2[0m  [["customer_id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mOrder Load (2.9ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."customer_id" = $1[0m  [["customer_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:18:in `logged_in'
[active_model_serializers] Rendered CustomerSerializer with ActiveModelSerializers::Adapter::Attributes (67.19ms)
Completed 201 Created in 77ms (Views: 55.5ms | ActiveRecord: 15.9ms | Allocations: 10940)


[active_model_serializers]   [1m[36mProductImage Load (8.8ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.6ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.0ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.7ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Discount Load (0.0ms)[0m  [1m[34mSELECT "discounts".* FROM "discounts" WHERE "discounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantGroup Load (0.1ms)[0m  [1m[34mSELECT "variant_groups".* FROM "variant_groups" WHERE "variant_groups"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT "product_images".* FROM "product_images" WHERE "product_images"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mVariantOption Load (0.5ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE VariantOption Load (0.0ms)[0m  [1m[34mSELECT "variant_options".* FROM "variant_options" WHERE "variant_options"."variant_group_id" = $1[0m  [["variant_group_id", 3]]
[active_model_serializers]   ↳ app/controllers/products_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (141.19ms)
Completed 200 OK in 151ms (Views: 132.1ms | ActiveRecord: 18.5ms | Allocations: 25837)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:27:28 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (1.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.9ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (2.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (6.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (33.34ms)
Completed 201 Created in 78ms (Views: 29.2ms | ActiveRecord: 26.6ms | Allocations: 8470)


Started PATCH "/carts/1" for 127.0.0.1 at 2023-07-01 11:27:28 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"1"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (1.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (6.2ms)
Completed 200 OK in 23ms (Views: 6.9ms | ActiveRecord: 3.0ms | Allocations: 3682)


Started PATCH "/carts/2" for 127.0.0.1 at 2023-07-01 11:27:28 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"2"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (3.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (2.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (7.49ms)
Completed 200 OK in 26ms (Views: 6.7ms | ActiveRecord: 9.4ms | Allocations: 3682)


Started PATCH "/carts/3" for 127.0.0.1 at 2023-07-01 11:27:28 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"3"}
  [1m[36mCart Load (3.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (1.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (3.57ms)
Completed 200 OK in 21ms (Views: 3.0ms | ActiveRecord: 5.6ms | Allocations: 3682)


Started PATCH "/carts/4" for 127.0.0.1 at 2023-07-01 11:27:28 +0100
Processing by CartsController#update as HTML
  Parameters: {"total"=>0, "id"=>"4"}
  [1m[36mCart Load (1.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:44:in `set_cart'
[31mUnpermitted parameter: :id[0m
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mCustomer Load (1.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:29:in `update'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mLineItem Load (2.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/carts_controller.rb:30:in `update'
[active_model_serializers] Rendered CartSerializer with ActiveModelSerializers::Adapter::Attributes (9.88ms)
Completed 200 OK in 30ms (Views: 8.9ms | ActiveRecord: 8.2ms | Allocations: 3712)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:27:28 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (29.14ms)
Completed 201 Created in 39ms (Views: 33.3ms | ActiveRecord: 3.5ms | Allocations: 5628)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:27:28 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (21.31ms)
Completed 201 Created in 31ms (Views: 25.7ms | ActiveRecord: 3.2ms | Allocations: 5626)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:27:28 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (2.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (4.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (3.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (4.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (4.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (29.13ms)
Completed 201 Created in 49ms (Views: 21.7ms | ActiveRecord: 18.9ms | Allocations: 5625)


Started GET "/customer-carts/2" for 127.0.0.1 at 2023-07-01 11:27:28 +0100
Processing by CustomersController#my_carts as */*
  Parameters: {"id"=>"2"}
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:85:in `set_customer'
  [1m[36mCart Load (1.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."customer_id" = $1[0m  [["customer_id", 2]]
  ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 1]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (1.9ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 2]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 3]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers]   [1m[36mLineItem Load (3.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = $1[0m  [["cart_id", 4]]
[active_model_serializers]   ↳ app/controllers/customers_controller.rb:42:in `my_carts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (29.58ms)
Completed 201 Created in 47ms (Views: 32.4ms | ActiveRecord: 9.2ms | Allocations: 5625)


